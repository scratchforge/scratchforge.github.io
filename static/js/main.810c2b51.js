/*! For license information please see main.810c2b51.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,n,t)=>{var r=t(853),i=t(43),o=t(950);function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function c(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function d(e){if(31===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function p(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=p(e)))return n;e=e.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case b:return"Fragment";case x:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case S:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(n=e.displayName||null)?n:D(e.type)||"Memo";case E:n=e._payload,e=e._init;try{return D(e(n))}catch(Yl){}}return null}var M=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},O=[],z=-1;function V(e){return{current:e}}function B(e){0>z||(e.current=O[z],O[z]=null,z--)}function U(e,n){z++,O[z]=e.current,e.current=n}var j,H,W=V(null),q=V(null),G=V(null),K=V(null);function Y(e,n){switch(U(G,n),U(q,e),U(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)e=xu(n=vu(n),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),U(W,e)}function Q(){B(W),B(q),B(G)}function X(e){null!==e.memoizedState&&U(K,e);var n=W.current,t=xu(n,e.type);n!==t&&(U(q,e),U(W,t))}function $(e){q.current===e&&(B(W),B(q)),K.current===e&&(B(K),up._currentValue=N)}function J(e){if(void 0===j)try{throw Error()}catch(Yl){var n=Yl.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||"",H=-1<Yl.stack.indexOf("\n    at")?" (<anonymous>)":-1<Yl.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+j+e+H}var Z=!1;function ee(e,n){if(!e||Z)return"";Z=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Yl){var r=Yl}Reflect.construct(e,[],t)}else{try{t.call()}catch(i){r=i}e.call(t.prototype)}}else{try{throw Error()}catch(o){r=o}(t=e())&&"function"===typeof t.catch&&t.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?J(t):""}function ne(e,n){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==n&&null!==n?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function te(e){try{var n="",t=null;do{n+=ne(e,t),t=e,e=e.return}while(e);return n}catch(Yl){return"\nError generating stack: "+Yl.message+"\n"+Yl.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,he=r.unstable_LowPriority,ge=r.unstable_IdlePriority,fe=r.log,me=r.unstable_setDisableYieldValue,be=null,ve=null;function xe(e){if("function"===typeof fe&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(be,e)}catch(n){}}var ye=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(we(e)/Se|0)|0},we=Math.log,Se=Math.LN2;var ke=256,Ce=262144,Ae=4194304;function Ee(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,n,t){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=Ee(r):0!==(s&=a)?i=Ee(s):t||0!==(t=a&~e)&&(i=Ee(t)):0!==(a=r&~o)?i=Ee(a):0!==s?i=Ee(s):t||0!==(t=r&~e)&&(i=Ee(t)),0===i?0:0!==n&&n!==i&&0===(n&o)&&((o=i&-i)>=(t=n&-n)||32===o&&0!==(4194048&t))?n:i}function Ie(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function _e(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function Re(){var e=Ae;return 0===(62914560&(Ae<<=1))&&(Ae=4194304),e}function Pe(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function De(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-ye(n);e.entangledLanes|=n,e.entanglements[r]=1073741824|e.entanglements[r]|261930&t}function Le(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ye(t),i=1<<r;i&n|e[r]&n&&(e[r]|=n),t&=~i}}function Fe(e,n){var t=n&-n;return 0!==((t=0!==(42&t)?1:Ne(t))&(e.suspendedLanes|n))?0:t}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:Tp(e.type)}function Ve(e,n){var t=F.p;try{return F.p=e,n()}finally{F.p=t}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,je="__reactProps$"+Be,He="__reactContainer$"+Be,We="__reactEvents$"+Be,qe="__reactListeners$"+Be,Ge="__reactHandles$"+Be,Ke="__reactResources$"+Be,Ye="__reactMarker$"+Be;function Qe(e){delete e[Ue],delete e[je],delete e[We],delete e[qe],delete e[Ge]}function Xe(e){var n=e[Ue];if(n)return n;for(var t=e.parentNode;t;){if(n=t[He]||t[Ue]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=Ou(e);null!==e;){if(t=e[Ue])return t;e=Ou(e)}return n}t=(e=t).parentNode}return null}function $e(e){if(e=e[Ue]||e[He]){var n=e.tag;if(5===n||6===n||13===n||31===n||26===n||27===n||3===n)return e}return null}function Je(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e.stateNode;throw Error(s(33))}function Ze(e){var n=e[Ke];return n||(n=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[Ye]=!0}var nn=new Set,tn={};function rn(e,n){on(e,n),on(e+"Capture",n)}function on(e,n){for(tn[e]=n,e=0;e<n.length;e++)nn.add(n[e])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),an={},ln={};function cn(e,n,t){if(i=n,re.call(ln,i)||!re.call(an,i)&&(sn.test(i)?ln[i]=!0:(an[i]=!0,0)))if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":return void e.removeAttribute(n);case"boolean":var r=n.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(n)}e.setAttribute(n,""+t)}var i}function dn(e,n,t){if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttribute(n,""+t)}}function un(e,n,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttributeNS(n,t,""+r)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function hn(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function gn(e){if(!e._valueTracker){var n=hn(e)?"checked":"value";e._valueTracker=function(e,n,t){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(e){t=""+e,o.call(this,e)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return t},setValue:function(e){t=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e,n,""+e[n])}}function fn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=hn(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function mn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}var bn=/[\n"\\]/g;function vn(e){return e.replace(bn,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xn(e,n,t,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=n?"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=n?wn(e,s,pn(n)):null!=t?wn(e,s,pn(t)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+pn(a):e.removeAttribute("name")}function yn(e,n,t,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=n||null!=t){if(!("submit"!==o&&"reset"!==o||void 0!==n&&null!==n))return void gn(e);t=null!=t?""+pn(t):"",n=null!=n?""+pn(n):t,a||n===e.value||(e.value=n),e.defaultValue=n}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),gn(e)}function wn(e,n,t){"number"===n&&mn(e.ownerDocument)===e||e.defaultValue===""+t||(e.defaultValue=""+t)}function Sn(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+pn(t),n=null,i=0;i<e.length;i++){if(e[i].value===t)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==n||e[i].disabled||(n=e[i])}null!==n&&(n.selected=!0)}}function kn(e,n,t){null==n||((n=""+pn(n))!==e.value&&(e.value=n),null!=t)?e.defaultValue=null!=t?""+pn(t):"":e.defaultValue!==n&&(e.defaultValue=n)}function Cn(e,n,t,r){if(null==n){if(null!=r){if(null!=t)throw Error(s(92));if(M(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),n=t}t=pn(n),e.defaultValue=t,(r=e.textContent)===t&&""!==r&&null!==r&&(e.value=r),gn(e)}function An(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var En=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tn(e,n,t){var r=0===n.indexOf("--");null==t||"boolean"===typeof t||""===t?r?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="":r?e.setProperty(n,t):"number"!==typeof t||0===t||En.has(n)?"float"===n?e.cssFloat=t:e[n]=(""+t).trim():e[n]=t+"px"}function In(e,n,t){if(null!=n&&"object"!==typeof n)throw Error(s(62));if(e=e.style,null!=t){for(var r in t)!t.hasOwnProperty(r)||null!=n&&n.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in n)r=n[i],n.hasOwnProperty(i)&&t[i]!==r&&Tn(e,i,r)}else for(var o in n)n.hasOwnProperty(o)&&Tn(e,o,n[o])}function _n(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dn(e){return Pn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var Ln=null;function Fn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nn=null,On=null;function zn(e){var n=$e(e);if(n&&(e=n.stateNode)){var t=e[je]||null;e:switch(e=n.stateNode,n.type){case"input":if(xn(e,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(s(90));xn(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(n=0;n<t.length;n++)(r=t[n]).form===e.form&&fn(r)}break e;case"textarea":kn(e,t.value,t.defaultValue);break e;case"select":null!=(n=t.value)&&Sn(e,!!t.multiple,n,!1)}}}var Vn=!1;function Bn(e,n,t){if(Vn)return e(n,t);Vn=!0;try{return e(n)}finally{if(Vn=!1,(null!==Nn||null!==On)&&(ed(),Nn&&(n=Nn,e=On,On=Nn=null,zn(n),e)))for(n=0;n<e.length;n++)zn(e[n])}}function Un(e,n){var t=e.stateNode;if(null===t)return null;var r=t[je]||null;if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(s(231,n,typeof t));return t}var jn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Hn=!1;if(jn)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch(Jp){Hn=!1}var qn=null,Gn=null,Kn=null;function Yn(){if(Kn)return Kn;var e,n,t=Gn,r=t.length,i="value"in qn?qn.value:qn.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Kn=i.slice(e,1<n?1-n:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function Xn(){return!0}function $n(){return!1}function Jn(e){function n(n,t,r,i,o){for(var s in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xn:$n,this.isPropagationStopped=$n,this}return h(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Zn,et,nt,tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rt=Jn(tt),it=h({},tt,{view:0,detail:0}),ot=Jn(it),st=h({},it,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(Zn=e.screenX-nt.screenX,et=e.screenY-nt.screenY):et=Zn=0,nt=e),Zn)},movementY:function(e){return"movementY"in e?e.movementY:et}}),at=Jn(st),lt=Jn(h({},st,{dataTransfer:0})),ct=Jn(h({},it,{relatedTarget:0})),dt=Jn(h({},tt,{animationName:0,elapsedTime:0,pseudoElement:0})),ut=Jn(h({},tt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pt=Jn(h({},tt,{data:0})),ht={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=ft[e])&&!!n[e]}function bt(){return mt}var vt=Jn(h({},it,{key:function(e){if(e.key){var n=ht[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=Qn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bt,charCode:function(e){return"keypress"===e.type?Qn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xt=Jn(h({},st,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yt=Jn(h({},it,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bt})),wt=Jn(h({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0})),St=Jn(h({},st,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kt=Jn(h({},tt,{newState:0,oldState:0})),Ct=[9,13,27,32],At=jn&&"CompositionEvent"in window,Et=null;jn&&"documentMode"in document&&(Et=document.documentMode);var Tt=jn&&"TextEvent"in window&&!Et,It=jn&&(!At||Et&&8<Et&&11>=Et),_t=String.fromCharCode(32),Rt=!1;function Pt(e,n){switch(e){case"keyup":return-1!==Ct.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dt(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mt=!1;var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Lt[e.type]:"textarea"===n}function Nt(e,n,t,r){Nn?On?On.push(r):On=[r]:Nn=r,0<(n=iu(n,"onChange")).length&&(t=new rt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Ot=null,zt=null;function Vt(e){Xd(e,0)}function Bt(e){if(fn(Je(e)))return e}function Ut(e,n){if("change"===e)return n}var jt=!1;if(jn){var Ht;if(jn){var Wt="oninput"in document;if(!Wt){var qt=document.createElement("div");qt.setAttribute("oninput","return;"),Wt="function"===typeof qt.oninput}Ht=Wt}else Ht=!1;jt=Ht&&(!document.documentMode||9<document.documentMode)}function Gt(){Ot&&(Ot.detachEvent("onpropertychange",Kt),zt=Ot=null)}function Kt(e){if("value"===e.propertyName&&Bt(zt)){var n=[];Nt(n,zt,e,Fn(e)),Bn(Vt,n)}}function Yt(e,n,t){"focusin"===e?(Gt(),zt=t,(Ot=n).attachEvent("onpropertychange",Kt)):"focusout"===e&&Gt()}function Qt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bt(zt)}function Xt(e,n){if("click"===e)return Bt(n)}function $t(e,n){if("input"===e||"change"===e)return Bt(n)}var Jt="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function Zt(e,n){if(Jt(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!re.call(n,i)||!Jt(e[i],n[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,n){var t,r=er(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function tr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?tr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function rr(e){for(var n=mn((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=mn((e=n.contentWindow).document)}return n}function ir(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var or=jn&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function dr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;cr||null==sr||sr!==mn(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zt(lr,r)||(lr=r,0<(r=iu(ar,"onSelect")).length&&(n=new rt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=sr)))}function ur(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var pr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},gr={};function fr(e){if(hr[e])return hr[e];if(!pr[e])return e;var n,t=pr[e];for(n in t)if(t.hasOwnProperty(n)&&n in gr)return hr[e]=t[n];return e}jn&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var mr=fr("animationend"),br=fr("animationiteration"),vr=fr("animationstart"),xr=fr("transitionrun"),yr=fr("transitionstart"),wr=fr("transitioncancel"),Sr=fr("transitionend"),kr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,n){kr.set(e,n),rn(n,[e])}Cr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ir=0,_r=0;function Rr(){for(var e=Ir,n=_r=Ir=0;n<e;){var t=Tr[n];Tr[n++]=null;var r=Tr[n];Tr[n++]=null;var i=Tr[n];Tr[n++]=null;var o=Tr[n];if(Tr[n++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Lr(t,i,o)}}function Pr(e,n,t,r){Tr[Ir++]=e,Tr[Ir++]=n,Tr[Ir++]=t,Tr[Ir++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Dr(e,n,t,r){return Pr(e,n,t,r),Fr(e)}function Mr(e,n){return Pr(e,null,null,n),Fr(e)}function Lr(e,n,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);for(var i=!1,o=e.return;null!==o;)o.childLanes|=t,null!==(r=o.alternate)&&(r.childLanes|=t),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==n&&(i=31-ye(t),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[n]:r.push(n),n.lane=536870912|t),o):null}function Fr(e){if(50<qc)throw qc=0,Gc=null,Error(s(185));for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var Nr={};function Or(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,n,t,r){return new Or(e,n,t,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,n){var t=e.alternate;return null===t?((t=zr(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=65011712&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function Ur(e,n){e.flags&=65011714;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function jr(e,n,t,r,i,o){var a=0;if(r=e,"function"===typeof e)Vr(e)&&(a=1);else if("string"===typeof e)a=function(e,n,t){if(1===t||null!=n.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof n.precedence||"string"!==typeof n.href||""===n.href)break;return!0;case"link":if("string"!==typeof n.rel||"string"!==typeof n.href||""===n.href||n.onLoad||n.onError)break;return"stylesheet"!==n.rel||(e=n.disabled,"string"===typeof n.precedence&&null==e);case"script":if(n.async&&"function"!==typeof n.async&&"symbol"!==typeof n.async&&!n.onLoad&&!n.onError&&n.src&&"string"===typeof n.src)return!0}return!1}(e,t,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,t,n,i)).elementType=T,e.lanes=o,e;case b:return Hr(t.children,i,o,n);case v:a=8,i|=24;break;case x:return(e=zr(12,t,n,2|i)).elementType=x,e.lanes=o,e;case k:return(e=zr(13,t,n,i)).elementType=k,e.lanes=o,e;case C:return(e=zr(19,t,n,i)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break e;case y:a=9;break e;case S:a=11;break e;case A:a=14;break e;case E:a=16,r=null;break e}a=29,t=Error(s(130,null===e?"null":typeof e,"")),r=null}return(n=zr(a,t,n,i)).elementType=e,n.type=r,n.lanes=o,n}function Hr(e,n,t,r){return(e=zr(7,e,r,n)).lanes=t,e}function Wr(e,n,t){return(e=zr(6,e,null,n)).lanes=t,e}function qr(e){var n=zr(18,null,null,0);return n.stateNode=e,n}function Gr(e,n,t){return(n=zr(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kr=new WeakMap;function Yr(e,n){if("object"===typeof e&&null!==e){var t=Kr.get(e);return void 0!==t?t:(n={value:e,source:n,stack:te(n)},Kr.set(e,n),n)}return{value:e,source:n,stack:te(n)}}var Qr=[],Xr=0,$r=null,Jr=0,Zr=[],ei=0,ni=null,ti=1,ri="";function ii(e,n){Qr[Xr++]=Jr,Qr[Xr++]=$r,$r=e,Jr=n}function oi(e,n,t){Zr[ei++]=ti,Zr[ei++]=ri,Zr[ei++]=ni,ni=e;var r=ti;e=ri;var i=32-ye(r)-1;r&=~(1<<i),t+=1;var o=32-ye(n)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ti=1<<32-ye(n)+i|t<<i|r,ri=o+e}else ti=1<<o|t<<i|r,ri=e}function si(e){null!==e.return&&(ii(e,1),oi(e,1,0))}function ai(e){for(;e===$r;)$r=Qr[--Xr],Qr[Xr]=null,Jr=Qr[--Xr],Qr[Xr]=null;for(;e===ni;)ni=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ti=Zr[--ei],Zr[ei]=null}function li(e,n){Zr[ei++]=ti,Zr[ei++]=ri,Zr[ei++]=ni,ti=n.id,ri=n.overflow,ni=e}var ci=null,di=null,ui=!1,pi=null,hi=!1,gi=Error(s(519));function fi(e){throw wi(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function mi(e){var n=e.stateNode,t=e.type,r=e.memoizedProps;switch(n[Ue]=e,n[je]=r,t){case"dialog":$d("cancel",n),$d("close",n);break;case"iframe":case"object":case"embed":$d("load",n);break;case"video":case"audio":for(t=0;t<Yd.length;t++)$d(Yd[t],n);break;case"source":$d("error",n);break;case"img":case"image":case"link":$d("error",n),$d("load",n);break;case"details":$d("toggle",n);break;case"input":$d("invalid",n),yn(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$d("invalid",n);break;case"textarea":$d("invalid",n),Cn(n,r.value,r.defaultValue,r.children)}"string"!==typeof(t=r.children)&&"number"!==typeof t&&"bigint"!==typeof t||n.textContent===""+t||!0===r.suppressHydrationWarning||du(n.textContent,t)?(null!=r.popover&&($d("beforetoggle",n),$d("toggle",n)),null!=r.onScroll&&$d("scroll",n),null!=r.onScrollEnd&&$d("scrollend",n),null!=r.onClick&&(n.onclick=Mn),n=!0):n=!1,n||fi(e,!0)}function bi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(hi=!1);case 27:case 3:return void(hi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!ui)return bi(e),ui=!0,!1;var n,t=e.tag;if((n=3!==t&&27!==t)&&((n=5===t)&&(n=!("form"!==(n=e.type)&&"button"!==n)||yu(e.type,e.memoizedProps)),n=!n),n&&di&&fi(e),bi(e),13===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Nu(e)}else if(31===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Nu(e)}else 27===t?(t=di,Tu(e.type)?(e=Fu,Fu=null,di=e):di=t):di=ci?Lu(e.stateNode.nextSibling):null;return!0}function xi(){di=ci=null,ui=!1}function yi(){var e=pi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),pi=null),e}function wi(e){null===pi?pi=[e]:pi.push(e)}var Si=V(null),ki=null,Ci=null;function Ai(e,n,t){U(Si,n._currentValue),n._currentValue=t}function Ei(e){e._currentValue=Si.current,B(Si)}function Ti(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Ii(e,n,t,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<n.length;c++)if(l.context===n[c]){o.lanes|=t,null!==(l=o.alternate)&&(l.lanes|=t),Ti(o.return,t,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=t,null!==(o=a.alternate)&&(o.lanes|=t),Ti(a,t,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function _i(e,n,t,r){e=null;for(var i=n,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jt(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(up):e=[up])}i=i.return}null!==e&&Ii(n,e,t,r),n.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){ki=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Di(e){return Li(ki,e)}function Mi(e,n){return null===ki&&Pi(e),Li(e,n)}function Li(e,n){var t=n._currentValue;if(n={context:n,memoizedValue:t,next:null},null===Ci){if(null===e)throw Error(s(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return t}var Fi="undefined"!==typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},Ni=r.unstable_scheduleCallback,Oi=r.unstable_NormalPriority,zi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Fi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Ni(Oi,function(){e.controller.abort()})}var Ui=null,ji=0,Hi=0,Wi=null;function qi(){if(0===--ji&&null!==Ui){null!==Wi&&(Wi.status="fulfilled");var e=Ui;Ui=null,Hi=0,Wi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var Gi=L.S;L.S=function(e,n){Lc=le(),"object"===typeof n&&null!==n&&"function"===typeof n.then&&function(e,n){if(null===Ui){var t=Ui=[];ji=0,Hi=Hd(),Wi={status:"pending",value:void 0,then:function(e){t.push(e)}}}ji++,n.then(qi,qi)}(0,n),null!==Gi&&Gi(e,n)};var Ki=V(null);function Yi(){var e=Ki.current;return null!==e?e:fc.pooledCache}function Qi(e,n){U(Ki,null===n?Ki.current:n.pool)}function Xi(){var e=Yi();return null===e?null:{parent:zi._currentValue,pool:e}}var $i=Error(s(460)),Ji=Error(s(474)),Zi=Error(s(542)),eo={then:function(){}};function no(e){return"fulfilled"===(e=e.status)||"rejected"===e}function to(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(Mn,Mn),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw so(e=n.reason),e;default:if("string"===typeof n.status)n.then(Mn,Mn);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw so(e=n.reason),e}throw io=n,$i}}function ro(e){try{return(0,e._init)(e._payload)}catch(Yl){if(null!==Yl&&"object"===typeof Yl&&"function"===typeof Yl.then)throw io=Yl,$i;throw Yl}}var io=null;function oo(){if(null===io)throw Error(s(459));var e=io;return io=null,e}function so(e){if(e===$i||e===Zi)throw Error(s(483))}var ao=null,lo=0;function co(e){var n=lo;return lo+=1,null===ao&&(ao=[]),to(ao,e,n)}function uo(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function po(e,n){if(n.$$typeof===g)throw Error(s(525));throw e=Object.prototype.toString.call(n),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ho(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function i(e,n){return(e=Br(e,n)).index=0,e.sibling=null,e}function o(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=67108866,t):r:(n.flags|=67108866,t):(n.flags|=1048576,t)}function a(n){return e&&null===n.alternate&&(n.flags|=67108866),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Wr(t,e.mode,r)).return=e,n):((n=i(n,t)).return=e,n)}function c(e,n,t,r){var o=t.type;return o===b?u(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ro(o)===n.type)?(uo(n=i(n,t.props),t),n.return=e,n):(uo(n=jr(t.type,t.key,t.props,null,e.mode,r),t),n.return=e,n)}function d(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Gr(t,e.mode,r)).return=e,n):((n=i(n,t.children||[])).return=e,n)}function u(e,n,t,r,o){return null===n||7!==n.tag?((n=Hr(t,e.mode,r,o)).return=e,n):((n=i(n,t)).return=e,n)}function p(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return(n=Wr(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return uo(t=jr(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case m:return(n=Gr(n,e.mode,t)).return=e,n;case E:return p(e,n=ro(n),t)}if(M(n)||R(n))return(n=Hr(n,e.mode,t,null)).return=e,n;if("function"===typeof n.then)return p(e,co(n),t);if(n.$$typeof===w)return p(e,Mi(e,n),t);po(e,n)}return null}function h(e,n,t,r){var i=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return null!==i?null:l(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return t.key===i?c(e,n,t,r):null;case m:return t.key===i?d(e,n,t,r):null;case E:return h(e,n,t=ro(t),r)}if(M(t)||R(t))return null!==i?null:u(e,n,t,r,null);if("function"===typeof t.then)return h(e,n,co(t),r);if(t.$$typeof===w)return h(e,n,Mi(e,t),r);po(e,t)}return null}function g(e,n,t,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(n,e=e.get(t)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(n,e=e.get(null===r.key?t:r.key)||null,r,i);case m:return d(n,e=e.get(null===r.key?t:r.key)||null,r,i);case E:return g(e,n,t,r=ro(r),i)}if(M(r)||R(r))return u(n,e=e.get(t)||null,r,i,null);if("function"===typeof r.then)return g(e,n,t,co(r),i);if(r.$$typeof===w)return g(e,n,t,Mi(n,r),i);po(n,r)}return null}function v(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===b&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var x=d.key;null!==c;){if(c.key===x){if((x=d.type)===b){if(7===c.tag){t(l,c.sibling),(u=i(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===E&&ro(x)===c.type){t(l,c.sibling),uo(u=i(c,d.props),d),u.return=l,l=u;break e}t(l,c);break}n(l,c),c=c.sibling}d.type===b?((u=Hr(d.props.children,l.mode,u,d.key)).return=l,l=u):(uo(u=jr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return a(l);case m:e:{for(x=d.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){t(l,c.sibling),(u=i(c,d.children||[])).return=l,l=u;break e}t(l,c);break}n(l,c),c=c.sibling}(u=Gr(d,l.mode,u)).return=l,l=u}return a(l);case E:return v(l,c,d=ro(d),u)}if(M(d))return function(i,s,a,l){for(var c=null,d=null,u=s,f=s=0,m=null;null!==u&&f<a.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var b=h(i,u,a[f],l);if(null===b){null===u&&(u=m);break}e&&u&&null===b.alternate&&n(i,u),s=o(b,s,f),null===d?c=b:d.sibling=b,d=b,u=m}if(f===a.length)return t(i,u),ui&&ii(i,f),c;if(null===u){for(;f<a.length;f++)null!==(u=p(i,a[f],l))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return ui&&ii(i,f),c}for(u=r(u);f<a.length;f++)null!==(m=g(u,i,f,a[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),s=o(m,s,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return n(i,e)}),ui&&ii(i,f),c}(l,c,d,u);if(R(d)){if("function"!==typeof(x=R(d)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var d=null,u=null,f=a,m=a=0,b=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(b=f,f=null):b=f.sibling;var x=h(i,f,v.value,c);if(null===x){null===f&&(f=b);break}e&&f&&null===x.alternate&&n(i,f),a=o(x,a,m),null===u?d=x:u.sibling=x,u=x,f=b}if(v.done)return t(i,f),ui&&ii(i,m),d;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=p(i,v.value,c))&&(a=o(v,a,m),null===u?d=v:u.sibling=v,u=v);return ui&&ii(i,m),d}for(f=r(f);!v.done;m++,v=l.next())null!==(v=g(f,i,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return n(i,e)}),ui&&ii(i,m),d}(l,c,d=x.call(d),u)}if("function"===typeof d.then)return v(l,c,co(d),u);if(d.$$typeof===w)return v(l,c,Mi(l,d),u);po(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(t(l,c.sibling),(u=i(c,d)).return=l,l=u):(t(l,c),(u=Wr(d,l.mode,u)).return=l,l=u),a(l)):t(l,c)}return function(e,n,t,r){try{lo=0;var i=v(e,n,t,r);return ao=null,i}catch(Yl){if(Yl===$i||Yl===Zi)throw Yl;var o=zr(29,Yl,null,e.mode);return o.lanes=r,o.return=e,o}}}var go=ho(!0),fo=ho(!1),mo=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yo(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&gc)){var i=r.pending;return null===i?n.next=n:(n.next=i.next,i.next=n),r.pending=n,n=Fr(e),Lr(e,null,t),n}return Pr(e,r,n,t),Fr(e)}function wo(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194048&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Le(e,t)}}function So(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var i=null,o=null;if(null!==(t=t.firstBaseUpdate)){do{var s={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,t=t.next}while(null!==t);null===o?i=o=n:o=o.next=n}else i=o=n;return t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var ko=!1;function Co(){if(ko){if(null!==Wi)throw Wi}}function Ao(e,n,t,r){ko=!1;var i=e.updateQueue;mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=i.baseState;for(s=0,d=c=l=null,a=o;;){var p=-536870913&a.lane,g=p!==a.lane;if(g?(bc&p)===p:(r&p)===p){0!==p&&p===Hi&&(ko=!0),null!==d&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=e,m=a;p=n;var b=t;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(b,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(b,u,p):f)||void 0===p)break e;u=h({},u,p);break e;case 2:mo=!0}}null!==(p=a.callback)&&(e.flags|=64,g&&(e.flags|=8192),null===(g=i.callbacks)?i.callbacks=[p]:g.push(p))}else g={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=g,l=u):d=d.next=g,s|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(g=a).next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===o&&(i.shared.lanes=0),Ac|=s,e.lanes=s,e.memoizedState=u}}function Eo(e,n){if("function"!==typeof e)throw Error(s(191,e));e.call(n)}function To(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)Eo(t[e],n)}var Io=V(null),_o=V(0);function Ro(e,n){U(_o,e=kc),U(Io,n),kc=e|n.baseLanes}function Po(){U(_o,kc),U(Io,Io.current)}function Do(){kc=_o.current,B(Io),B(_o)}var Mo=V(null),Lo=null;function Fo(e){var n=e.alternate;U(Bo,1&Bo.current),U(Mo,e),null===Lo&&(null===n||null!==Io.current||null!==n.memoizedState)&&(Lo=e)}function No(e){U(Bo,Bo.current),U(Mo,e),null===Lo&&(Lo=e)}function Oo(e){22===e.tag?(U(Bo,Bo.current),U(Mo,e),null===Lo&&(Lo=e)):zo()}function zo(){U(Bo,Bo.current),U(Mo,Mo.current)}function Vo(e){B(Mo),Lo===e&&(Lo=null),B(Bo)}var Bo=V(0);function Uo(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||Du(t)||Mu(t)))return n}else if(19!==n.tag||"forwards"!==n.memoizedProps.revealOrder&&"backwards"!==n.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==n.memoizedProps.revealOrder&&"together"!==n.memoizedProps.revealOrder){if(null!==n.child){n.child.return=n,n=n.child;continue}}else if(0!==(128&n.flags))return n;if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jo=0,Ho=null,Wo=null,qo=null,Go=!1,Ko=!1,Yo=!1,Qo=0,Xo=0,$o=null,Jo=0;function Zo(){throw Error(s(321))}function es(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Jt(e[t],n[t]))return!1;return!0}function ns(e,n,t,r,i,o){return jo=o,Ho=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=null===e||null===e.memoizedState?ma:ba,Yo=!1,o=t(r,i),Yo=!1,Ko&&(o=rs(n,t,r,i)),ts(e),o}function ts(e){L.H=fa;var n=null!==Wo&&null!==Wo.next;if(jo=0,qo=Wo=Ho=null,Go=!1,Xo=0,$o=null,n)throw Error(s(300));null===e||Ma||null!==(e=e.dependencies)&&Ri(e)&&(Ma=!0)}function rs(e,n,t,r){Ho=e;var i=0;do{if(Ko&&($o=null),Xo=0,Ko=!1,25<=i)throw Error(s(301));if(i+=1,qo=Wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}L.H=va,o=n(t,r)}while(Ko);return o}function is(){var e=L.H,n=e.useState()[0];return n="function"===typeof n.then?ds(n):n,e=e.useState()[0],(null!==Wo?Wo.memoizedState:null)!==e&&(Ho.flags|=1024),n}function os(){var e=0!==Qo;return Qo=0,e}function ss(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function as(e){if(Go){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Go=!1}jo=0,qo=Wo=Ho=null,Ko=!1,Xo=Qo=0,$o=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Ho.memoizedState=qo=e:qo=qo.next=e,qo}function cs(){if(null===Wo){var e=Ho.alternate;e=null!==e?e.memoizedState:null}else e=Wo.next;var n=null===qo?Ho.memoizedState:qo.next;if(null!==n)qo=n,Wo=e;else{if(null===e){if(null===Ho.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Wo=e).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===qo?Ho.memoizedState=qo=e:qo=qo.next=e}return qo}function ds(e){var n=Xo;return Xo+=1,null===$o&&($o=[]),e=to($o,e,n),n=Ho,null===(null===qo?n.memoizedState:qo.next)&&(n=n.alternate,L.H=null===n||null===n.memoizedState?ma:ba),e}function us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ds(e);if(e.$$typeof===w)return Di(e)}throw Error(s(438,String(e)))}function ps(e){var n=null,t=Ho.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var r=Ho.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(n={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),r=0;r<e;r++)t[r]=I;return n.index++,t}function hs(e,n){return"function"===typeof n?n(e):n}function gs(e){return fs(cs(),Wo,e)}function fs(e,n,t){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,d=n=i.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(bc&p)===p:(jo&p)===p){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Hi&&(u=!0);else{if((jo&h)===h){d=d.next,h===Hi&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,Ho.lanes|=h,Ac|=h}p=d.action,Yo&&t(o,p),o=d.hasEagerState?d.eagerState:t(o,p)}else h={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,Ho.lanes|=p,Ac|=p;d=d.next}while(null!==d&&d!==n);if(null===c?a=o:c.next=l,!Jt(o,e.memoizedState)&&(Ma=!0,u&&null!==(t=Wi)))throw t;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ms(e){var n=cs(),t=n.queue;if(null===t)throw Error(s(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,o=n.memoizedState;if(null!==i){t.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jt(o,n.memoizedState)||(Ma=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function bs(e,n,t){var r=Ho,i=cs(),o=ui;if(o){if(void 0===t)throw Error(s(407));t=t()}else t=n();var a=!Jt((Wo||i).memoizedState,t);if(a&&(i.memoizedState=t,Ma=!0),i=i.queue,js(ys.bind(null,r,i,e),[e]),i.getSnapshot!==n||a||null!==qo&&1&qo.memoizedState.tag){if(r.flags|=2048,Os(9,{destroy:void 0},xs.bind(null,r,i,t,n),null),null===fc)throw Error(s(349));o||0!==(127&jo)||vs(r,n,t)}return t}function vs(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Ho.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function xs(e,n,t,r){n.value=t,n.getSnapshot=r,ws(n)&&Ss(e)}function ys(e,n,t){return t(function(){ws(n)&&Ss(e)})}function ws(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Jt(e,t)}catch(r){return!0}}function Ss(e){var n=Mr(e,2);null!==n&&Qc(n,e,2)}function ks(e){var n=ls();if("function"===typeof e){var t=e;if(e=t(),Yo){xe(!0);try{t()}finally{xe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},n}function Cs(e,n,t,r){return e.baseState=t,fs(e,Wo,"function"===typeof r?r:hs)}function As(e,n,t,r,i){if(pa(e))throw Error(s(485));if(null!==(e=n.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==L.T?t(!0):o.isTransition=!1,r(o),null===(t=n.pending)?(o.next=n.pending=o,Es(n,o)):(o.next=t.next,n.pending=t.next=o)}}function Es(e,n){var t=n.action,r=n.payload,i=e.state;if(n.isTransition){var o=L.T,s={};L.T=s;try{var a=t(i,r),l=L.S;null!==l&&l(s,a),Ts(e,n,a)}catch(c){_s(e,n,c)}finally{null!==o&&null!==s.types&&(o.types=s.types),L.T=o}}else try{Ts(e,n,o=t(i,r))}catch(d){_s(e,n,d)}}function Ts(e,n,t){null!==t&&"object"===typeof t&&"function"===typeof t.then?t.then(function(t){Is(e,n,t)},function(t){return _s(e,n,t)}):Is(e,n,t)}function Is(e,n,t){n.status="fulfilled",n.value=t,Rs(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,Es(e,t)))}function _s(e,n,t){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{n.status="rejected",n.reason=t,Rs(n),n=n.next}while(n!==r)}e.action=null}function Rs(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ps(e,n){return n}function Ds(e,n){if(ui){var t=fc.formState;if(null!==t){e:{var r=Ho;if(ui){if(di){n:{for(var i=di,o=hi;8!==i.nodeType;){if(!o){i=null;break n}if(null===(i=Lu(i.nextSibling))){i=null;break n}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){di=Lu(i.nextSibling),r="F!"===i.data;break e}}fi(r)}r=!1}r&&(n=t[0])}}return(t=ls()).memoizedState=t.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:n},t.queue=r,t=ca.bind(null,Ho,r),r.dispatch=t,r=ks(!1),o=ua.bind(null,Ho,!1,r.queue),i={state:n,dispatch:null,action:e,pending:null},(r=ls()).queue=i,t=As.bind(null,Ho,i,o,t),i.dispatch=t,r.memoizedState=e,[n,t,!1]}function Ms(e){return Ls(cs(),Wo,e)}function Ls(e,n,t){if(n=fs(e,n,Ps)[0],e=gs(hs)[0],"object"===typeof n&&null!==n&&"function"===typeof n.then)try{var r=ds(n)}catch(Yl){if(Yl===$i)throw Zi;throw Yl}else r=n;var i=(n=cs()).queue,o=i.dispatch;return t!==n.memoizedState&&(Ho.flags|=2048,Os(9,{destroy:void 0},Fs.bind(null,i,t),null)),[r,o,e]}function Fs(e,n){e.action=n}function Ns(e){var n=cs(),t=Wo;if(null!==t)return Ls(n,t,e);cs(),n=n.memoizedState;var r=(t=cs()).queue.dispatch;return t.memoizedState=e,[n,r,!1]}function Os(e,n,t,r){return e={tag:e,create:t,deps:r,inst:n,next:null},null===(n=Ho.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function zs(){return cs().memoizedState}function Vs(e,n,t,r){var i=ls();Ho.flags|=e,i.memoizedState=Os(1|n,{destroy:void 0},t,void 0===r?null:r)}function Bs(e,n,t,r){var i=cs();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Wo&&null!==r&&es(r,Wo.memoizedState.deps)?i.memoizedState=Os(n,o,t,r):(Ho.flags|=e,i.memoizedState=Os(1|n,o,t,r))}function Us(e,n){Vs(8390656,8,e,n)}function js(e,n){Bs(2048,8,e,n)}function Hs(e){var n=cs().memoizedState;return function(e){Ho.flags|=4;var n=Ho.updateQueue;if(null===n)n={lastEffect:null,events:null,stores:null,memoCache:null},Ho.updateQueue=n,n.events=[e];else{var t=n.events;null===t?n.events=[e]:t.push(e)}}({ref:n,nextImpl:e}),function(){if(0!==(2&gc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Ws(e,n){return Bs(4,2,e,n)}function qs(e,n){return Bs(4,4,e,n)}function Gs(e,n){if("function"===typeof n){e=e();var t=n(e);return function(){"function"===typeof t?t():n(null)}}if(null!==n&&void 0!==n)return e=e(),n.current=e,function(){n.current=null}}function Ks(e,n,t){t=null!==t&&void 0!==t?t.concat([e]):null,Bs(4,4,Gs.bind(null,n,e),t)}function Ys(){}function Qs(e,n){var t=cs();n=void 0===n?null:n;var r=t.memoizedState;return null!==n&&es(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Xs(e,n){var t=cs();n=void 0===n?null:n;var r=t.memoizedState;if(null!==n&&es(n,r[1]))return r[0];if(r=e(),Yo){xe(!0);try{e()}finally{xe(!1)}}return t.memoizedState=[r,n],r}function $s(e,n,t){return void 0===t||0!==(1073741824&jo)&&0===(261930&bc)?e.memoizedState=n:(e.memoizedState=t,e=Yc(),Ho.lanes|=e,Ac|=e,t)}function Js(e,n,t,r){return Jt(t,n)?t:null!==Io.current?(e=$s(e,t,r),Jt(e,n)||(Ma=!0),e):0===(42&jo)||0!==(1073741824&jo)&&0===(261930&bc)?(Ma=!0,e.memoizedState=t):(e=Yc(),Ho.lanes|=e,Ac|=e,n)}function Zs(e,n,t,r,i){var o=F.p;F.p=0!==o&&8>o?o:8;var s=L.T,a={};L.T=a,ua(e,!1,n,t);try{var l=i(),c=L.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)da(e,n,function(e,n){var t=[],r={status:"pending",value:null,reason:null,then:function(e){t.push(e)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var e=0;e<t.length;e++)(0,t[e])(n)},function(e){for(r.status="rejected",r.reason=e,e=0;e<t.length;e++)(0,t[e])(void 0)}),r}(l,r),Kc());else da(e,n,r,Kc())}catch(d){da(e,n,{then:function(){},status:"rejected",reason:d},Kc())}finally{F.p=o,null!==s&&null!==a.types&&(s.types=a.types),L.T=s}}function ea(){}function na(e,n,t,r){if(5!==e.tag)throw Error(s(476));var i=ta(e).queue;Zs(e,i,n,N,null===t?ea:function(){return ra(e),t(r)})}function ta(e){var n=e.memoizedState;if(null!==n)return n;var t={};return(n={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:N},next:null}).next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},next:null},e.memoizedState=n,null!==(e=e.alternate)&&(e.memoizedState=n),n}function ra(e){var n=ta(e);null===n.next&&(n=e.alternate.memoizedState),da(e,n.next.queue,{},Kc())}function ia(){return Di(up)}function oa(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Kc(),r=yo(n,e=xo(t),t);return null!==r&&(Qc(r,n,t),wo(r,n,t)),n={cache:Vi()},void(e.payload=n)}n=n.return}}function la(e,n,t){var r=Kc();t={lane:r,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},pa(e)?ha(n,t):null!==(t=Dr(e,n,t,r))&&(Qc(t,e,r),ga(t,n,r))}function ca(e,n,t){da(e,n,t,Kc())}function da(e,n,t,r){var i={lane:r,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(pa(e))ha(n,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var s=n.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,Jt(a,s))return Pr(e,n,i,0),null===fc&&Rr(),!1}catch(l){}if(null!==(t=Dr(e,n,i,r)))return Qc(t,e,r),ga(t,n,r),!0}return!1}function ua(e,n,t,r){if(r={lane:2,revertLane:Hd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pa(e)){if(n)throw Error(s(479))}else null!==(n=Dr(e,t,r,2))&&Qc(n,e,2)}function pa(e){var n=e.alternate;return e===Ho||null!==n&&n===Ho}function ha(e,n){Ko=Go=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function ga(e,n,t){if(0!==(4194048&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Le(e,t)}}var fa={readContext:Di,use:us,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};fa.useEffectEvent=Zo;var ma={readContext:Di,use:us,useCallback:function(e,n){return ls().memoizedState=[e,void 0===n?null:n],e},useContext:Di,useEffect:Us,useImperativeHandle:function(e,n,t){t=null!==t&&void 0!==t?t.concat([e]):null,Vs(4194308,4,Gs.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Vs(4194308,4,e,n)},useInsertionEffect:function(e,n){Vs(4,2,e,n)},useMemo:function(e,n){var t=ls();n=void 0===n?null:n;var r=e();if(Yo){xe(!0);try{e()}finally{xe(!1)}}return t.memoizedState=[r,n],r},useReducer:function(e,n,t){var r=ls();if(void 0!==t){var i=t(n);if(Yo){xe(!0);try{t(n)}finally{xe(!1)}}}else i=n;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=la.bind(null,Ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var n=(e=ks(e)).queue,t=ca.bind(null,Ho,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:Ys,useDeferredValue:function(e,n){return $s(ls(),e,n)},useTransition:function(){var e=ks(!1);return e=Zs.bind(null,Ho,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,t){var r=Ho,i=ls();if(ui){if(void 0===t)throw Error(s(407));t=t()}else{if(t=n(),null===fc)throw Error(s(349));0!==(127&bc)||vs(r,n,t)}i.memoizedState=t;var o={value:t,getSnapshot:n};return i.queue=o,Us(ys.bind(null,r,o,e),[e]),r.flags|=2048,Os(9,{destroy:void 0},xs.bind(null,r,o,t,n),null),t},useId:function(){var e=ls(),n=fc.identifierPrefix;if(ui){var t=ri;n="_"+n+"R_"+(t=(ti&~(1<<32-ye(ti)-1)).toString(32)+t),0<(t=Qo++)&&(n+="H"+t.toString(32)),n+="_"}else n="_"+n+"r_"+(t=Jo++).toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ia,useFormState:Ds,useActionState:Ds,useOptimistic:function(e){var n=ls();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=ua.bind(null,Ho,!0,t),t.dispatch=n,[e,n]},useMemoCache:ps,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,Ho)},useEffectEvent:function(e){var n=ls(),t={impl:e};return n.memoizedState=t,function(){if(0!==(2&gc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}},ba={readContext:Di,use:us,useCallback:Qs,useContext:Di,useEffect:js,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:Xs,useReducer:gs,useRef:zs,useState:function(){return gs(hs)},useDebugValue:Ys,useDeferredValue:function(e,n){return Js(cs(),Wo.memoizedState,e,n)},useTransition:function(){var e=gs(hs)[0],n=cs().memoizedState;return["boolean"===typeof e?e:ds(e),n]},useSyncExternalStore:bs,useId:oa,useHostTransitionStatus:ia,useFormState:Ms,useActionState:Ms,useOptimistic:function(e,n){return Cs(cs(),0,e,n)},useMemoCache:ps,useCacheRefresh:sa};ba.useEffectEvent=Hs;var va={readContext:Di,use:us,useCallback:Qs,useContext:Di,useEffect:js,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:Xs,useReducer:ms,useRef:zs,useState:function(){return ms(hs)},useDebugValue:Ys,useDeferredValue:function(e,n){var t=cs();return null===Wo?$s(t,e,n):Js(t,Wo.memoizedState,e,n)},useTransition:function(){var e=ms(hs)[0],n=cs().memoizedState;return["boolean"===typeof e?e:ds(e),n]},useSyncExternalStore:bs,useId:oa,useHostTransitionStatus:ia,useFormState:Ns,useActionState:Ns,useOptimistic:function(e,n){var t=cs();return null!==Wo?Cs(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])},useMemoCache:ps,useCacheRefresh:sa};function xa(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:h({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}va.useEffectEvent=Hs;var ya={enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Kc(),i=xo(r);i.payload=n,void 0!==t&&null!==t&&(i.callback=t),null!==(n=yo(e,i,r))&&(Qc(n,e,r),wo(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Kc(),i=xo(r);i.tag=1,i.payload=n,void 0!==t&&null!==t&&(i.callback=t),null!==(n=yo(e,i,r))&&(Qc(n,e,r),wo(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Kc(),r=xo(t);r.tag=2,void 0!==n&&null!==n&&(r.callback=n),null!==(n=yo(e,r,t))&&(Qc(n,e,t),wo(n,e,t))}};function wa(e,n,t,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!n.prototype||!n.prototype.isPureReactComponent||(!Zt(t,r)||!Zt(i,o))}function Sa(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ya.enqueueReplaceState(n,n.state,null)}function ka(e,n){var t=n;if("ref"in n)for(var r in t={},n)"ref"!==r&&(t[r]=n[r]);if(e=e.defaultProps)for(var i in t===n&&(t=h({},t)),e)void 0===t[i]&&(t[i]=e[i]);return t}function Ca(e){Er(e)}function Aa(e){console.error(e)}function Ea(e){Er(e)}function Ta(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(t){setTimeout(function(){throw t})}}function Ia(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _a(e,n,t){return(t=xo(t)).tag=3,t.payload={element:null},t.callback=function(){Ta(e,n)},t}function Ra(e){return(e=xo(e)).tag=3,e}function Pa(e,n,t,r){var i=t.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ia(n,t,r)}}var s=t.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Ia(n,t,r),"function"!==typeof i&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Da=Error(s(461)),Ma=!1;function La(e,n,t,r){n.child=null===e?fo(n,null,t,r):go(n,e.child,t,r)}function Fa(e,n,t,r,i){t=t.render;var o=n.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Pi(n),r=ns(e,n,t,s,o,i),a=os(),null===e||Ma?(ui&&a&&si(n),n.flags|=1,La(e,n,r,i),n.child):(ss(e,n,i),il(e,n,i))}function Na(e,n,t,r,i){if(null===e){var o=t.type;return"function"!==typeof o||Vr(o)||void 0!==o.defaultProps||null!==t.compare?((e=jr(t.type,null,r,n,n.mode,i)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=o,Oa(e,n,o,r,i))}if(o=e.child,!ol(e,i)){var s=o.memoizedProps;if((t=null!==(t=t.compare)?t:Zt)(s,r)&&e.ref===n.ref)return il(e,n,i)}return n.flags|=1,(e=Br(o,r)).ref=n.ref,e.return=n,n.child=e}function Oa(e,n,t,r,i){if(null!==e){var o=e.memoizedProps;if(Zt(o,r)&&e.ref===n.ref){if(Ma=!1,n.pendingProps=r=o,!ol(e,i))return n.lanes=e.lanes,il(e,n,i);0!==(131072&e.flags)&&(Ma=!0)}}return Wa(e,n,t,r,i)}function za(e,n,t,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===n.stateNode&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&n.flags)){if(o=null!==o?o.baseLanes|t:t,null!==e){for(r=n.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,n.child=null;return Ba(e,n,o,t,r)}if(0===(536870912&t))return r=n.lanes=536870912,Ba(e,n,null!==o?o.baseLanes|t:t,t,r);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==o?o.cachePool:null),null!==o?Ro(n,o):Po(),Oo(n)}else null!==o?(Qi(0,o.cachePool),Ro(n,o),zo(),n.memoizedState=null):(null!==e&&Qi(0,null),Po(),zo());return La(e,n,i,t),n.child}function Va(e,n){return null!==e&&22===e.tag||null!==n.stateNode||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ba(e,n,t,r,i){var o=Yi();return o=null===o?null:{parent:zi._currentValue,pool:o},n.memoizedState={baseLanes:t,cachePool:o},null!==e&&Qi(0,null),Po(),Oo(n),null!==e&&_i(e,n,r,!0),n.childLanes=i,null}function Ua(e,n){return(n=Za({mode:n.mode,children:n.children},e.mode)).ref=e.ref,e.child=n,n.return=e,n}function ja(e,n,t){return go(n,e.child,null,t),(e=Ua(n,n.pendingProps)).flags|=2,Vo(n),n.memoizedState=null,e}function Ha(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=4194816);else{if("function"!==typeof t&&"object"!==typeof t)throw Error(s(284));null!==e&&e.ref===t||(n.flags|=4194816)}}function Wa(e,n,t,r,i){return Pi(n),t=ns(e,n,t,r,void 0,i),r=os(),null===e||Ma?(ui&&r&&si(n),n.flags|=1,La(e,n,t,i),n.child):(ss(e,n,i),il(e,n,i))}function qa(e,n,t,r,i,o){return Pi(n),n.updateQueue=null,t=rs(n,r,t,i),ts(e),r=os(),null===e||Ma?(ui&&r&&si(n),n.flags|=1,La(e,n,t,o),n.child):(ss(e,n,o),il(e,n,o))}function Ga(e,n,t,r,i){if(Pi(n),null===n.stateNode){var o=Nr,s=t.contextType;"object"===typeof s&&null!==s&&(o=Di(s)),o=new t(r,o),n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ya,n.stateNode=o,o._reactInternals=n,(o=n.stateNode).props=r,o.state=n.memoizedState,o.refs={},bo(n),s=t.contextType,o.context="object"===typeof s&&null!==s?Di(s):Nr,o.state=n.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(xa(n,t,s,r),o.state=n.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ya.enqueueReplaceState(o,o.state,null),Ao(n,r,o,i),Co(),o.state=n.memoizedState),"function"===typeof o.componentDidMount&&(n.flags|=4194308),r=!0}else if(null===e){o=n.stateNode;var a=n.memoizedProps,l=ka(t,a);o.props=l;var c=o.context,d=t.contextType;s=Nr,"object"===typeof d&&null!==d&&(s=Di(d));var u=t.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate,a=n.pendingProps!==a,d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&Sa(n,o,r,s),mo=!1;var p=n.memoizedState;o.state=p,Ao(n,r,o,i),Co(),c=n.memoizedState,a||p!==c||mo?("function"===typeof u&&(xa(n,t,u,r),c=n.memoizedState),(l=mo||wa(n,t,l,r,p,c,s))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(n.flags|=4194308)):("function"===typeof o.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(n.flags|=4194308),r=!1)}else{o=n.stateNode,vo(e,n),d=ka(t,s=n.memoizedProps),o.props=d,u=n.pendingProps,p=o.context,c=t.contextType,l=Nr,"object"===typeof c&&null!==c&&(l=Di(c)),(c="function"===typeof(a=t.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==u||p!==l)&&Sa(n,o,r,l),mo=!1,p=n.memoizedState,o.state=p,Ao(n,r,o,i),Co();var h=n.memoizedState;s!==u||p!==h||mo||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"===typeof a&&(xa(n,t,a,r),h=n.memoizedState),(d=mo||wa(n,t,d,r,p,h,l)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(n.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),o.props=r,o.state=h,o.context=l,r=d):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return o=r,Ha(e,n),r=0!==(128&n.flags),o||r?(o=n.stateNode,t=r&&"function"!==typeof t.getDerivedStateFromError?null:o.render(),n.flags|=1,null!==e&&r?(n.child=go(n,e.child,null,i),n.child=go(n,null,t,i)):La(e,n,t,i),n.memoizedState=o.state,e=n.child):e=il(e,n,i),e}function Ka(e,n,t,r){return xi(),n.flags|=256,La(e,n,t,r),n.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(e){return{baseLanes:e,cachePool:Xi()}}function Xa(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=Ic),e}function $a(e,n,t){var r,i=n.pendingProps,o=!1,a=0!==(128&n.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Bo.current)),r&&(o=!0,n.flags&=-129),r=0!==(32&n.flags),n.flags&=-33,null===e){if(ui){if(o?Fo(n):zo(),(e=di)?null!==(e=null!==(e=Pu(e,hi))&&"&"!==e.data?e:null)&&(n.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ti,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(t=qr(e)).return=n,n.child=t,ci=n,di=null):e=null,null===e)throw fi(n);return Mu(e)?n.lanes=32:n.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(zo(),l=Za({mode:"hidden",children:l},o=n.mode),i=Hr(i,o,t,null),l.return=n,i.return=n,l.sibling=i,n.child=l,(i=n.child).memoizedState=Qa(t),i.childLanes=Xa(e,r,t),n.memoizedState=Ya,Va(null,i)):(Fo(n),Ja(n,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&n.flags?(Fo(n),n.flags&=-257,n=el(e,n,t)):null!==n.memoizedState?(zo(),n.child=e.child,n.flags|=128,n=null):(zo(),l=i.fallback,o=n.mode,i=Za({mode:"visible",children:i.children},o),(l=Hr(l,o,t,null)).flags|=2,i.return=n,l.return=n,i.sibling=l,n.child=i,go(n,e.child,null,t),(i=n.child).memoizedState=Qa(t),i.childLanes=Xa(e,r,t),n.memoizedState=Ya,n=Va(null,i));else if(Fo(n),Mu(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var d=r.dgst;r=d,(i=Error(s(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),n=el(e,n,t)}else if(Ma||_i(e,n,t,!1),r=0!==(t&e.childLanes),Ma||r){if(null!==(r=fc)&&(0!==(i=Fe(r,t))&&i!==c.retryLane))throw c.retryLane=i,Mr(e,i),Qc(r,e,i),Da;Du(l)||ad(),n=el(e,n,t)}else Du(l)?(n.flags|=192,n.child=e.child,n=null):(e=c.treeContext,di=Lu(l.nextSibling),ci=n,ui=!0,pi=null,hi=!1,null!==e&&li(n,e),(n=Ja(n,i.children)).flags|=4096);return n}return o?(zo(),l=i.fallback,o=n.mode,d=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Br(d,l):(l=Hr(l,o,t,null)).flags|=2,l.return=n,i.return=n,i.sibling=l,n.child=i,Va(null,i),i=n.child,null===(l=e.child.memoizedState)?l=Qa(t):(null!==(o=l.cachePool)?(c=zi._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Xi(),l={baseLanes:l.baseLanes|t,cachePool:o}),i.memoizedState=l,i.childLanes=Xa(e,r,t),n.memoizedState=Ya,Va(e.child,i)):(Fo(n),e=(t=e.child).sibling,(t=Br(t,{mode:"visible",children:i.children})).return=n,t.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t,n.memoizedState=null,t)}function Ja(e,n){return(n=Za({mode:"visible",children:n},e.mode)).return=e,e.child=n}function Za(e,n){return(e=zr(22,e,null,n)).lanes=0,e}function el(e,n,t){return go(n,e.child,null,t),(e=Ja(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function nl(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Ti(e.return,n,t)}function tl(e,n,t,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,treeForkCount:o}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i,s.treeForkCount=o)}function rl(e,n,t){var r=n.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=Bo.current,a=0!==(2&s);if(a?(s=1&s|2,n.flags|=128):s&=1,U(Bo,s),La(e,n,r,t),r=ui?Jr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,t,n);else if(19===e.tag)nl(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(t=n.child,i=null;null!==t;)null!==(e=t.alternate)&&null===Uo(e)&&(i=t),t=t.sibling;null===(t=i)?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),tl(n,!1,i,t,o,r);break;case"backwards":case"unstable_legacy-backwards":for(t=null,i=n.child,n.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}tl(n,!0,t,null,o,r);break;case"together":tl(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function il(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ac|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(_i(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error(s(153));if(null!==n.child){for(t=Br(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Br(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function ol(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Ri(e))}function sl(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)Ma=!0;else{if(!ol(e,t)&&0===(128&n.flags))return Ma=!1,function(e,n,t){switch(n.tag){case 3:Y(n,n.stateNode.containerInfo),Ai(0,zi,e.memoizedState.cache),xi();break;case 27:case 5:X(n);break;case 4:Y(n,n.stateNode.containerInfo);break;case 10:Ai(0,n.type,n.memoizedProps.value);break;case 31:if(null!==n.memoizedState)return n.flags|=128,No(n),null;break;case 13:var r=n.memoizedState;if(null!==r)return null!==r.dehydrated?(Fo(n),n.flags|=128,null):0!==(t&n.child.childLanes)?$a(e,n,t):(Fo(n),null!==(e=il(e,n,t))?e.sibling:null);Fo(n);break;case 19:var i=0!==(128&e.flags);if((r=0!==(t&n.childLanes))||(_i(e,n,t,!1),r=0!==(t&n.childLanes)),i){if(r)return rl(e,n,t);n.flags|=128}if(null!==(i=n.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Bo,Bo.current),r)break;return null;case 22:return n.lanes=0,za(e,n,t,n.pendingProps);case 24:Ai(0,zi,e.memoizedState.cache)}return il(e,n,t)}(e,n,t);Ma=0!==(131072&e.flags)}else Ma=!1,ui&&0!==(1048576&n.flags)&&oi(n,Jr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=ro(n.elementType),n.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===S){n.tag=11,n=Fa(null,n,e,r,t);break e}if(i===A){n.tag=14,n=Na(null,n,e,r,t);break e}}throw n=D(e)||e,Error(s(306,n,""))}Vr(e)?(r=ka(e,r),n.tag=1,n=Ga(null,n,e,r,t)):(n.tag=0,n=Wa(null,n,e,r,t))}return n;case 0:return Wa(e,n,n.type,n.pendingProps,t);case 1:return Ga(e,n,r=n.type,i=ka(r,n.pendingProps),t);case 3:e:{if(Y(n,n.stateNode.containerInfo),null===e)throw Error(s(387));r=n.pendingProps;var o=n.memoizedState;i=o.element,vo(e,n),Ao(n,r,null,t);var a=n.memoizedState;if(r=a.cache,Ai(0,zi,r),r!==o.cache&&Ii(n,[zi],t,!0),Co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},n.updateQueue.baseState=o,n.memoizedState=o,256&n.flags){n=Ka(e,n,r,t);break e}if(r!==i){wi(i=Yr(Error(s(424)),n)),n=Ka(e,n,r,t);break e}if(9===(e=n.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Lu(e.firstChild),ci=n,ui=!0,pi=null,hi=!0,t=fo(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(xi(),r===i){n=il(e,n,t);break e}La(e,n,r,t)}n=n.child}return n;case 26:return Ha(e,n),null===e?(t=Gu(n.type,null,n.pendingProps,null))?n.memoizedState=t:ui||(t=n.type,e=n.pendingProps,(r=bu(G.current).createElement(t))[Ue]=n,r[je]=e,hu(r,t,e),en(r),n.stateNode=r):n.memoizedState=Gu(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return X(n),null===e&&ui&&(r=n.stateNode=zu(n.type,n.pendingProps,G.current),ci=n,hi=!0,i=di,Tu(n.type)?(Fu=i,di=Lu(r.firstChild)):di=i),La(e,n,n.pendingProps.children,t),Ha(e,n),null===e&&(n.flags|=4194304),n.child;case 5:return null===e&&ui&&((i=r=di)&&(null!==(r=function(e,n,t,r){for(;1===e.nodeType;){var i=t;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==n||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Lu(e.nextSibling)))break}return null}(r,n.type,n.pendingProps,hi))?(n.stateNode=r,ci=n,di=Lu(r.firstChild),hi=!1,i=!0):i=!1),i||fi(n)),X(n),i=n.type,o=n.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,yu(i,o)?r=null:null!==a&&yu(i,a)&&(n.flags|=32),null!==n.memoizedState&&(i=ns(e,n,is,null,null,t),up._currentValue=i),Ha(e,n),La(e,n,r,t),n.child;case 6:return null===e&&ui&&((e=t=di)&&(null!==(t=function(e,n,t){if(""===n)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Lu(e.nextSibling)))return null}return e}(t,n.pendingProps,hi))?(n.stateNode=t,ci=n,di=null,e=!0):e=!1),e||fi(n)),null;case 13:return $a(e,n,t);case 4:return Y(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=go(n,null,r,t):La(e,n,r,t),n.child;case 11:return Fa(e,n,n.type,n.pendingProps,t);case 7:return La(e,n,n.pendingProps,t),n.child;case 8:case 12:return La(e,n,n.pendingProps.children,t),n.child;case 10:return r=n.pendingProps,Ai(0,n.type,r.value),La(e,n,r.children,t),n.child;case 9:return i=n.type._context,r=n.pendingProps.children,Pi(n),r=r(i=Di(i)),n.flags|=1,La(e,n,r,t),n.child;case 14:return Na(e,n,n.type,n.pendingProps,t);case 15:return Oa(e,n,n.type,n.pendingProps,t);case 19:return rl(e,n,t);case 31:return function(e,n,t){var r=n.pendingProps,i=0!==(128&n.flags);if(n.flags&=-129,null===e){if(ui){if("hidden"===r.mode)return e=Ua(n,r),n.lanes=536870912,Va(null,e);if(No(n),(e=di)?null!==(e=null!==(e=Pu(e,hi))&&"&"===e.data?e:null)&&(n.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ti,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(t=qr(e)).return=n,n.child=t,ci=n,di=null):e=null,null===e)throw fi(n);return n.lanes=536870912,null}return Ua(n,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(No(n),i)if(256&n.flags)n.flags&=-257,n=ja(e,n,t);else{if(null===n.memoizedState)throw Error(s(558));n.child=e.child,n.flags|=128,n=null}else if(Ma||_i(e,n,t,!1),i=0!==(t&e.childLanes),Ma||i){if(null!==(r=fc)&&0!==(a=Fe(r,t))&&a!==o.retryLane)throw o.retryLane=a,Mr(e,a),Qc(r,e,a),Da;ad(),n=ja(e,n,t)}else e=o.treeContext,di=Lu(a.nextSibling),ci=n,ui=!0,pi=null,hi=!1,null!==e&&li(n,e),(n=Ua(n,r)).flags|=4096;return n}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=n.ref,n.child=e,e.return=n,e}(e,n,t);case 22:return za(e,n,t,n.pendingProps);case 24:return Pi(n),r=Di(zi),null===e?(null===(i=Yi())&&(i=fc,o=Vi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=t),i=o),n.memoizedState={parent:r,cache:i},bo(n),Ai(0,zi,i)):(0!==(e.lanes&t)&&(vo(e,n),Ao(n,null,null,t),Co()),i=e.memoizedState,o=n.memoizedState,i.parent!==r?(i={parent:r,cache:r},n.memoizedState=i,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=i),Ai(0,zi,r)):(r=o.cache,Ai(0,zi,r),r!==i.cache&&Ii(n,[zi],t,!0))),La(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function al(e){e.flags|=4}function ll(e,n,t,r,i){if((n=0!==(32&e.mode))&&(n=!1),n){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!id())throw io=eo,Ji;e.flags|=8192}}else e.flags&=-16777217}function cl(e,n){if("stylesheet"!==n.type||0!==(4&n.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!op(n)){if(!id())throw io=eo,Ji;e.flags|=8192}}function dl(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?Re():536870912,e.lanes|=n,_c|=n)}function ul(e,n){if(!ui)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var i=e.child;null!==i;)t|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function hl(e,n,t){var r=n.pendingProps;switch(ai(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(n),null;case 3:return t=n.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(zi),Q(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||(vi(n)?al(n):null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,yi())),pl(n),null;case 26:var i=n.type,o=n.memoizedState;return null===e?(al(n),null!==o?(pl(n),cl(n,o)):(pl(n),ll(n,i,0,0,t))):o?o!==e.memoizedState?(al(n),pl(n),cl(n,o)):(pl(n),n.flags&=-16777217):((e=e.memoizedProps)!==r&&al(n),pl(n),ll(n,i,0,0,t)),null;case 27:if($(n),t=G.current,i=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==r&&al(n);else{if(!r){if(null===n.stateNode)throw Error(s(166));return pl(n),null}e=W.current,vi(n)?mi(n):(e=zu(i,r,t),n.stateNode=e,al(n))}return pl(n),null;case 5:if($(n),i=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==r&&al(n);else{if(!r){if(null===n.stateNode)throw Error(s(166));return pl(n),null}if(o=W.current,vi(n))mi(n);else{var a=bu(G.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[Ue]=n,o[je]=r;e:for(a=n.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;null===a.sibling;){if(null===a.return||a.return===n)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}n.stateNode=o;e:switch(hu(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(n)}}return pl(n),ll(n,n.type,null===e||e.memoizedProps,n.pendingProps,t),null;case 6:if(e&&null!=n.stateNode)e.memoizedProps!==r&&al(n);else{if("string"!==typeof r&&null===n.stateNode)throw Error(s(166));if(e=G.current,vi(n)){if(e=n.stateNode,t=n.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=n,(e=!!(e.nodeValue===t||null!==r&&!0===r.suppressHydrationWarning||du(e.nodeValue,t)))||fi(n,!0)}else(e=bu(e).createTextNode(r))[Ue]=n,n.stateNode=e}return pl(n),null;case 31:if(t=n.memoizedState,null===e||null!==e.memoizedState){if(r=vi(n),null!==t){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=n.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ue]=n}else xi(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;pl(n),e=!1}else t=yi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=t),e=!0;if(!e)return 256&n.flags?(Vo(n),n):(Vo(n),null);if(0!==(128&n.flags))throw Error(s(558))}return pl(n),null;case 13:if(r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ue]=n}else xi(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;pl(n),i=!1}else i=yi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&n.flags?(Vo(n),n):(Vo(n),null)}return Vo(n),0!==(128&n.flags)?(n.lanes=t,n):(t=null!==r,e=null!==e&&null!==e.memoizedState,t&&(i=null,null!==(r=n.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),t!==e&&t&&(n.child.flags|=8192),dl(n,n.updateQueue),pl(n),null);case 4:return Q(),null===e&&eu(n.stateNode.containerInfo),pl(n),null;case 10:return Ei(n.type),pl(n),null;case 19:if(B(Bo),null===(r=n.memoizedState))return pl(n),null;if(i=0!==(128&n.flags),null===(o=r.rendering))if(i)ul(r,!1);else{if(0!==Cc||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(o=Uo(e))){for(n.flags|=128,ul(r,!1),e=o.updateQueue,n.updateQueue=e,dl(n,e),n.subtreeFlags=0,e=t,t=n.child;null!==t;)Ur(t,e),t=t.sibling;return U(Bo,1&Bo.current|2),ui&&ii(n,r.treeForkCount),n.child}e=e.sibling}null!==r.tail&&le()>Fc&&(n.flags|=128,i=!0,ul(r,!1),n.lanes=4194304)}else{if(!i)if(null!==(e=Uo(o))){if(n.flags|=128,i=!0,e=e.updateQueue,n.updateQueue=e,dl(n,e),ul(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ui)return pl(n),null}else 2*le()-r.renderingStartTime>Fc&&536870912!==t&&(n.flags|=128,i=!0,ul(r,!1),n.lanes=4194304);r.isBackwards?(o.sibling=n.child,n.child=o):(null!==(e=r.last)?e.sibling=o:n.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,t=Bo.current,U(Bo,i?1&t|2:1&t),ui&&ii(n,r.treeForkCount),e):(pl(n),null);case 22:case 23:return Vo(n),Do(),r=null!==n.memoizedState,null!==e?null!==e.memoizedState!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?0!==(536870912&t)&&0===(128&n.flags)&&(pl(n),6&n.subtreeFlags&&(n.flags|=8192)):pl(n),null!==(t=n.updateQueue)&&dl(n,t.retryQueue),t=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),r=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(r=n.memoizedState.cachePool.pool),r!==t&&(n.flags|=2048),null!==e&&B(Ki),null;case 24:return t=null,null!==e&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),Ei(zi),pl(n),null;case 25:case 30:return null}throw Error(s(156,n.tag))}function gl(e,n){switch(ai(n),n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Ei(zi),Q(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return $(n),null;case 31:if(null!==n.memoizedState){if(Vo(n),null===n.alternate)throw Error(s(340));xi()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 13:if(Vo(n),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(s(340));xi()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return B(Bo),null;case 4:return Q(),null;case 10:return Ei(n.type),null;case 22:case 23:return Vo(n),Do(),null!==e&&B(Ki),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return Ei(zi),null;default:return null}}function fl(e,n){switch(ai(n),n.tag){case 3:Ei(zi),Q();break;case 26:case 27:case 5:$(n);break;case 4:Q();break;case 31:null!==n.memoizedState&&Vo(n);break;case 13:Vo(n);break;case 19:B(Bo);break;case 10:Ei(n.type);break;case 22:case 23:Vo(n),Do(),null!==e&&B(Ki);break;case 24:Ei(zi)}}function ml(e,n){try{var t=n.updateQueue,r=null!==t?t.lastEffect:null;if(null!==r){var i=r.next;t=i;do{if((t.tag&e)===e){r=void 0;var o=t.create,s=t.inst;r=o(),s.destroy=r}t=t.next}while(t!==i)}}catch(a){Cd(n,n.return,a)}}function bl(e,n,t){try{var r=n.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=n;var l=t,c=a;try{c()}catch(d){Cd(i,l,d)}}}r=r.next}while(r!==o)}}catch(d){Cd(n,n.return,d)}}function vl(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{To(n,t)}catch(r){Cd(e,e.return,r)}}}function xl(e,n,t){t.props=ka(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(r){Cd(e,n,r)}}function yl(e,n){try{var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof t?e.refCleanup=t(r):t.current=r}}catch(i){Cd(e,n,i)}}function wl(e,n){var t=e.ref,r=e.refCleanup;if(null!==t)if("function"===typeof r)try{r()}catch(i){Cd(e,n,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof t)try{t(null)}catch(o){Cd(e,n,o)}else t.current=null}function Sl(e){var n=e.type,t=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":t.autoFocus&&r.focus();break e;case"img":t.src?r.src=t.src:t.srcSet&&(r.srcset=t.srcSet)}}catch(i){Cd(e,e.return,i)}}function kl(e,n,t){try{var r=e.stateNode;!function(e,n,t,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,d=null,u=null;for(g in t){var p=t[g];if(t.hasOwnProperty(g)&&null!=p)switch(g){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(g)||uu(e,n,g,null,r,p)}}for(var h in r){var g=r[h];if(p=t[h],r.hasOwnProperty(h)&&(null!=g||null!=p))switch(h){case"type":o=g;break;case"name":i=g;break;case"checked":d=g;break;case"defaultChecked":u=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(null!=g)throw Error(s(137,n));break;default:g!==p&&uu(e,n,h,g,r,p)}}return void xn(e,a,l,c,d,u,o,i);case"select":for(o in g=a=l=h=null,t)if(c=t[o],t.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":g=c;default:r.hasOwnProperty(o)||uu(e,n,o,null,r,c)}for(i in r)if(o=r[i],c=t[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&uu(e,n,i,o,r,c)}return n=l,t=a,r=g,void(null!=h?Sn(e,!!t,h,!1):!!r!==!!t&&(null!=n?Sn(e,!!t,n,!0):Sn(e,!!t,t?[]:"",!1)));case"textarea":for(l in g=h=null,t)if(i=t[l],t.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:uu(e,n,l,null,r,i)}for(a in r)if(i=r[a],o=t[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":h=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&uu(e,n,a,i,r,o)}return void kn(e,h,g);case"option":for(var f in t)if(h=t[f],t.hasOwnProperty(f)&&null!=h&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else uu(e,n,f,null,r,h);for(c in r)if(h=r[c],g=t[c],r.hasOwnProperty(c)&&h!==g&&(null!=h||null!=g))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else uu(e,n,c,h,r,g);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in t)h=t[m],t.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&uu(e,n,m,null,r,h);for(d in r)if(h=r[d],g=t[d],r.hasOwnProperty(d)&&h!==g&&(null!=h||null!=g))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,n));break;default:uu(e,n,d,h,r,g)}return;default:if(_n(n)){for(var b in t)h=t[b],t.hasOwnProperty(b)&&void 0!==h&&!r.hasOwnProperty(b)&&pu(e,n,b,void 0,r,h);for(u in r)h=r[u],g=t[u],!r.hasOwnProperty(u)||h===g||void 0===h&&void 0===g||pu(e,n,u,h,r,g);return}}for(var v in t)h=t[v],t.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&uu(e,n,v,null,r,h);for(p in r)h=r[p],g=t[p],!r.hasOwnProperty(p)||h===g||null==h&&null==g||uu(e,n,p,h,r,g)}(r,e.type,t,n),r[je]=n}catch(i){Cd(e,e.return,i)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Tu(e.type)||4===e.tag}function Al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Tu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?(9===t.nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).insertBefore(e,n):((n=9===t.nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=Mn));else if(4!==r&&(27===r&&Tu(e.type)&&(t=e.stateNode,n=null),null!==(e=e.child)))for(El(e,n,t),e=e.sibling;null!==e;)El(e,n,t),e=e.sibling}function Tl(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&(27===r&&Tu(e.type)&&(t=e.stateNode),null!==(e=e.child)))for(Tl(e,n,t),e=e.sibling;null!==e;)Tl(e,n,t),e=e.sibling}function Il(e){var n=e.stateNode,t=e.memoizedProps;try{for(var r=e.type,i=n.attributes;i.length;)n.removeAttributeNode(i[0]);hu(n,r,t),n[Ue]=e,n[je]=t}catch(o){Cd(e,e.return,o)}}var _l=!1,Rl=!1,Pl=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Ml=null;function Ll(e,n,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ql(e,t),4&r&&ml(5,t);break;case 1:if(Ql(e,t),4&r)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(s){Cd(t,t.return,s)}else{var i=ka(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(i,n,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Cd(t,t.return,a)}}64&r&&vl(t),512&r&&yl(t,t.return);break;case 3:if(Ql(e,t),64&r&&null!==(e=t.updateQueue)){if(n=null,null!==t.child)switch(t.child.tag){case 27:case 5:case 1:n=t.child.stateNode}try{To(e,n)}catch(s){Cd(t,t.return,s)}}break;case 27:null===n&&4&r&&Il(t);case 26:case 5:Ql(e,t),null===n&&4&r&&Sl(t),512&r&&yl(t,t.return);break;case 12:Ql(e,t);break;case 31:Ql(e,t),4&r&&Bl(e,t);break;case 13:Ql(e,t),4&r&&Ul(e,t),64&r&&(null!==(e=t.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,n){var t=e.ownerDocument;if("$~"===e.data)e._reactRetry=n;else if("$?"!==e.data||"loading"!==t.readyState)n();else{var r=function(){n(),t.removeEventListener("DOMContentLoaded",r)};t.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,t=Id.bind(null,t))));break;case 22:if(!(r=null!==t.memoizedState||_l)){n=null!==n&&null!==n.memoizedState||Rl,i=_l;var o=Rl;_l=r,(Rl=n)&&!o?$l(e,t,0!==(8772&t.subtreeFlags)):Ql(e,t),_l=i,Rl=o}break;case 30:break;default:Ql(e,t)}}function Fl(e){var n=e.alternate;null!==n&&(e.alternate=null,Fl(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&Qe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,Ol=!1;function zl(e,n,t){for(t=t.child;null!==t;)Vl(e,n,t),t=t.sibling}function Vl(e,n,t){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(be,t)}catch(o){}switch(t.tag){case 26:Rl||wl(t,n),zl(e,n,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode).parentNode.removeChild(t);break;case 27:Rl||wl(t,n);var r=Nl,i=Ol;Tu(t.type)&&(Nl=t.stateNode,Ol=!1),zl(e,n,t),Vu(t.stateNode),Nl=r,Ol=i;break;case 5:Rl||wl(t,n);case 6:if(r=Nl,i=Ol,Nl=null,zl(e,n,t),Ol=i,null!==(Nl=r))if(Ol)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(t.stateNode)}catch(s){Cd(t,n,s)}else try{Nl.removeChild(t.stateNode)}catch(s){Cd(t,n,s)}break;case 18:null!==Nl&&(Ol?(Iu(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,t.stateNode),qp(e)):Iu(Nl,t.stateNode));break;case 4:r=Nl,i=Ol,Nl=t.stateNode.containerInfo,Ol=!0,zl(e,n,t),Nl=r,Ol=i;break;case 0:case 11:case 14:case 15:bl(2,t,n),Rl||bl(4,t,n),zl(e,n,t);break;case 1:Rl||(wl(t,n),"function"===typeof(r=t.stateNode).componentWillUnmount&&xl(t,n,r)),zl(e,n,t);break;case 21:zl(e,n,t);break;case 22:Rl=(r=Rl)||null!==t.memoizedState,zl(e,n,t),Rl=r;break;default:zl(e,n,t)}}function Bl(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qp(e)}catch(t){Cd(n,n.return,t)}}}function Ul(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qp(e)}catch(t){Cd(n,n.return,t)}}function jl(e,n){var t=function(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new Dl),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new Dl),n;default:throw Error(s(435,e.tag))}}(e);n.forEach(function(n){if(!t.has(n)){t.add(n);var r=_d.bind(null,e,n);n.then(r,r)}})}function Hl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var i=t[r],o=e,a=n,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Tu(l.type)){Nl=l.stateNode,Ol=!1;break e}break;case 5:Nl=l.stateNode,Ol=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,Ol=!0;break e}l=l.return}if(null===Nl)throw Error(s(160));Vl(o,a,i),Nl=null,Ol=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&n.subtreeFlags)for(n=n.child;null!==n;)ql(n,e),n=n.sibling}var Wl=null;function ql(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(n,e),Gl(e),4&r&&(bl(3,e,e.return),ml(3,e),bl(5,e,e.return));break;case 1:Hl(n,e),Gl(e),512&r&&(Rl||null===t||wl(t,t.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===t?r:t.concat(r))));break;case 26:var i=Wl;if(Hl(n,e),Gl(e),512&r&&(Rl||null===t||wl(t,t.return)),4&r){var o=null!==t?t.memoizedState:null;if(r=e.memoizedState,null===t)if(null===r)if(null===e.stateNode){e:{r=e.type,t=e.memoizedProps,i=i.ownerDocument||i;n:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ye]||o[Ue]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),hu(o,r,t),o[Ue]=e,en(o),r=o;break e;case"link":var a=rp("link","href",i).get(r+(t.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==t.href||""===t.href?null:t.href)&&o.getAttribute("rel")===(null==t.rel?null:t.rel)&&o.getAttribute("title")===(null==t.title?null:t.title)&&o.getAttribute("crossorigin")===(null==t.crossOrigin?null:t.crossOrigin)){a.splice(l,1);break n}hu(o=i.createElement(r),r,t),i.head.appendChild(o);break;case"meta":if(a=rp("meta","content",i).get(r+(t.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==t.content?null:""+t.content)&&o.getAttribute("name")===(null==t.name?null:t.name)&&o.getAttribute("property")===(null==t.property?null:t.property)&&o.getAttribute("http-equiv")===(null==t.httpEquiv?null:t.httpEquiv)&&o.getAttribute("charset")===(null==t.charSet?null:t.charSet)){a.splice(l,1);break n}hu(o=i.createElement(r),r,t),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Ue]=e,en(o),r=o}e.stateNode=r}else ip(i,e.type,e.stateNode);else e.stateNode=Ju(i,r,e.memoizedProps);else o!==r?(null===o?null!==t.stateNode&&(t=t.stateNode).parentNode.removeChild(t):o.count--,null===r?ip(i,e.type,e.stateNode):Ju(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,t.memoizedProps)}break;case 27:Hl(n,e),Gl(e),512&r&&(Rl||null===t||wl(t,t.return)),null!==t&&4&r&&kl(e,e.memoizedProps,t.memoizedProps);break;case 5:if(Hl(n,e),Gl(e),512&r&&(Rl||null===t||wl(t,t.return)),32&e.flags){i=e.stateNode;try{An(i,"")}catch(f){Cd(e,e.return,f)}}4&r&&null!=e.stateNode&&kl(e,i=e.memoizedProps,null!==t?t.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Hl(n,e),Gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,t=e.stateNode;try{t.nodeValue=r}catch(f){Cd(e,e.return,f)}}break;case 3:if(tp=null,i=Wl,Wl=ju(n.containerInfo),Hl(n,e),Wl=i,Gl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{qp(n.containerInfo)}catch(f){Cd(e,e.return,f)}Pl&&(Pl=!1,Kl(e));break;case 4:r=Wl,Wl=ju(e.stateNode.containerInfo),Hl(n,e),Gl(e),Wl=r;break;case 12:default:Hl(n,e),Gl(e);break;case 31:case 19:Hl(n,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r)));break;case 13:Hl(n,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==t&&null!==t.memoizedState)&&(Mc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==t&&null!==t.memoizedState,d=_l,u=Rl;if(_l=d||i,Rl=u||c,Hl(n,e),Rl=u,_l=d,Gl(e),8192&r)e:for(n=e.stateNode,n._visibility=i?-2&n._visibility:1|n._visibility,i&&(null===t||c||_l||Rl||Xl(e)),t=null,n=e;;){if(5===n.tag||26===n.tag){if(null===t){c=t=n;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){Cd(c,c.return,f)}}}else if(6===n.tag){if(null===t){c=n;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){Cd(c,c.return,f)}}}else if(18===n.tag){if(null===t){c=n;try{var g=c.stateNode;i?_u(g,!0):_u(c.stateNode,!1)}catch(f){Cd(c,c.return,f)}}}else if((22!==n.tag&&23!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;null===n.sibling;){if(null===n.return||n.return===e)break e;t===n&&(t=null),n=n.return}t===n&&(t=null),n.sibling.return=n.return,n=n.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(t=r.retryQueue)&&(r.retryQueue=null,jl(e,t))));case 30:case 21:}}function Gl(e){var n=e.flags;if(2&n){try{for(var t,r=e.return;null!==r;){if(Cl(r)){t=r;break}r=r.return}if(null==t)throw Error(s(160));switch(t.tag){case 27:var i=t.stateNode;Tl(e,Al(e),i);break;case 5:var o=t.stateNode;32&t.flags&&(An(o,""),t.flags&=-33),Tl(e,Al(e),o);break;case 3:case 4:var a=t.stateNode.containerInfo;El(e,Al(e),a);break;default:throw Error(s(161))}}catch(l){Cd(e,e.return,l)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var n=e;Kl(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),e=e.sibling}}function Ql(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)Ll(e,n.alternate,n),n=n.sibling}function Xl(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bl(4,n,n.return),Xl(n);break;case 1:wl(n,n.return);var t=n.stateNode;"function"===typeof t.componentWillUnmount&&xl(n,n.return,t),Xl(n);break;case 27:Vu(n.stateNode);case 26:case 5:wl(n,n.return),Xl(n);break;case 22:null===n.memoizedState&&Xl(n);break;default:Xl(n)}e=e.sibling}}function $l(e,n,t){for(t=t&&0!==(8772&n.subtreeFlags),n=n.child;null!==n;){var r=n.alternate,i=e,o=n,s=o.flags;switch(o.tag){case 0:case 11:case 15:$l(i,o,t),ml(4,o);break;case 1:if($l(i,o,t),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Cd(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Eo(l[i],a)}catch(c){Cd(r,r.return,c)}}t&&64&s&&vl(o),yl(o,o.return);break;case 27:Il(o);case 26:case 5:$l(i,o,t),t&&null===r&&4&s&&Sl(o),yl(o,o.return);break;case 12:$l(i,o,t);break;case 31:$l(i,o,t),t&&4&s&&Bl(i,o);break;case 13:$l(i,o,t),t&&4&s&&Ul(i,o);break;case 22:null===o.memoizedState&&$l(i,o,t),yl(o,o.return);break;case 30:break;default:$l(i,o,t)}n=n.sibling}}function Jl(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&Bi(t))}function Zl(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Bi(e))}function ec(e,n,t,r){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)nc(e,n,t,r),n=n.sibling}function nc(e,n,t,r){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ec(e,n,t,r),2048&i&&ml(9,n);break;case 1:case 31:case 13:default:ec(e,n,t,r);break;case 3:ec(e,n,t,r),2048&i&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){ec(e,n,t,r),e=n.stateNode;try{var o=n.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Cd(n,n.return,l)}}else ec(e,n,t,r);break;case 23:break;case 22:o=n.stateNode,s=n.alternate,null!==n.memoizedState?2&o._visibility?ec(e,n,t,r):rc(e,n):2&o._visibility?ec(e,n,t,r):(o._visibility|=2,tc(e,n,t,r,0!==(10256&n.subtreeFlags)||!1)),2048&i&&Jl(s,n);break;case 24:ec(e,n,t,r),2048&i&&Zl(n.alternate,n)}}function tc(e,n,t,r,i){for(i=i&&(0!==(10256&n.subtreeFlags)||!1),n=n.child;null!==n;){var o=e,s=n,a=t,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(o,s,a,l,i),ml(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?tc(o,s,a,l,i):rc(o,s):(d._visibility|=2,tc(o,s,a,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:tc(o,s,a,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:tc(o,s,a,l,i)}n=n.sibling}}function rc(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,r=n,i=r.flags;switch(r.tag){case 22:rc(t,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(t,r),2048&i&&Zl(r.alternate,r);break;default:rc(t,r)}n=n.sibling}}var ic=8192;function oc(e,n,t){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,n,t),e=e.sibling}function sc(e,n,t){switch(e.tag){case 26:oc(e,n,t),e.flags&ic&&null!==e.memoizedState&&function(e,n,t,r){if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ku(r.href),o=n.querySelector(Yu(i));if(o)return null!==(n=o._p)&&"object"===typeof n&&"function"===typeof n.then&&(e.count++,e=ap.bind(e),n.then(e,e)),t.state.loading|=4,t.instance=o,void en(o);o=n.ownerDocument||n,r=Qu(r),(i=Bu.get(i))&&ep(r,i),en(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,n){s.onload=e,s.onerror=n}),hu(o,"link",r),t.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(t,n),(n=t.state.preload)&&0===(3&t.state.loading)&&(e.count++,t=ap.bind(e),n.addEventListener("load",t),n.addEventListener("error",t))}}(t,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,n,t);break;case 3:case 4:var r=Wl;Wl=ju(e.stateNode.containerInfo),oc(e,n,t),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,oc(e,n,t),ic=r):oc(e,n,t))}}function ac(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function lc(e){var n=e.deletions;if(0!==(16&e.flags)){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];Ml=r,uc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&2&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-3,dc(e)):lc(e)}}function dc(e){var n=e.deletions;if(0!==(16&e.flags)){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];Ml=r,uc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:bl(8,n,n.return),dc(n);break;case 22:2&(t=n.stateNode)._visibility&&(t._visibility&=-3,dc(n));break;default:dc(n)}e=e.sibling}}function uc(e,n){for(;null!==Ml;){var t=Ml;switch(t.tag){case 0:case 11:case 15:bl(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var r=t.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(t.memoizedState.cache)}if(null!==(r=t.child))r.return=t,Ml=r;else e:for(t=e;null!==Ml;){var i=(r=Ml).sibling,o=r.return;if(Fl(r),r===t){Ml=null;break e}if(null!==i){i.return=o,Ml=i;break e}Ml=o}}}var pc={getCacheForType:function(e){var n=Di(zi),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t},cacheSignal:function(){return Di(zi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,gc=0,fc=null,mc=null,bc=0,vc=0,xc=null,yc=!1,wc=!1,Sc=!1,kc=0,Cc=0,Ac=0,Ec=0,Tc=0,Ic=0,_c=0,Rc=null,Pc=null,Dc=!1,Mc=0,Lc=0,Fc=1/0,Nc=null,Oc=null,zc=0,Vc=null,Bc=null,Uc=0,jc=0,Hc=null,Wc=null,qc=0,Gc=null;function Kc(){return 0!==(2&gc)&&0!==bc?bc&-bc:null!==L.T?Hd():ze()}function Yc(){if(0===Ic)if(0===(536870912&bc)||ui){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),Ic=e}else Ic=536870912;return null!==(e=Mo.current)&&(e.flags|=32),Ic}function Qc(e,n,t){(e!==fc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(td(e,0),Zc(e,bc,Ic,!1)),De(e,t),0!==(2&gc)&&e===fc||(e===fc&&(0===(2&gc)&&(Ec|=t),4===Cc&&Zc(e,bc,Ic,!1)),Nd(e))}function Xc(e,n,t){if(0!==(6&gc))throw Error(s(327));for(var r=!t&&0===(127&n)&&0===(n&e.expiredLanes)||Ie(e,n),i=r?function(e,n){var t=gc;gc|=2;var r=od(),i=sd();fc!==e||bc!==n?(Nc=null,Fc=le()+500,td(e,n)):wc=Ie(e,n);e:for(;;)try{if(0!==vc&&null!==mc){n=mc;var o=xc;n:switch(vc){case 1:vc=0,xc=null,hd(e,n,o,1);break;case 2:case 9:if(no(o)){vc=0,xc=null,pd(n);break}n=function(){2!==vc&&9!==vc||fc!==e||(vc=7),Nd(e)},o.then(n,n);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:no(o)?(vc=0,xc=null,pd(n)):(vc=0,xc=null,hd(e,n,o,7));break;case 5:var a=null;switch(mc.tag){case 26:a=mc.memoizedState;case 5:case 27:var l=mc;if(a?op(a):l.stateNode.complete){vc=0,xc=null;var c=l.sibling;if(null!==c)mc=c;else{var d=l.return;null!==d?(mc=d,gd(d)):mc=null}break n}}vc=0,xc=null,hd(e,n,o,5);break;case 6:vc=0,xc=null,hd(e,n,o,6);break;case 8:nd(),Cc=6;break e;default:throw Error(s(462))}}dd();break}catch(u){rd(e,u)}return Ci=ki=null,L.H=r,L.A=i,gc=t,null!==mc?0:(fc=null,bc=0,Rr(),Cc)}(e,n):ld(e,n,!0),o=r;;){if(0===i){wc&&!r&&Zc(e,n,0,!1);break}if(t=e.current.alternate,!o||Jc(t)){if(2===i){if(o=n,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){n=a;e:{var l=e;i=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(td(l,a).flags|=256),2!==(a=ld(l,a,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=o,Ec|=o,i=4;break e}o=Pc,Pc=i,null!==o&&(null===Pc?Pc=o:Pc.push.apply(Pc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){td(e,0),Zc(e,n,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&n)!==n)break;case 6:Zc(r,n,Ic,!yc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&n)===n&&10<(i=Mc+300-le())){if(Zc(r,n,Ic,!yc),0!==Te(r,0,!0))break e;Uc=n,r.timeoutHandle=Su($c.bind(null,r,t,Pc,Nc,Dc,n,Ic,Ec,_c,yc,o,"Throttled",-0,0),i)}else $c(r,t,Pc,Nc,Dc,n,Ic,Ec,_c,yc,o,null,-0,0)}break}i=ld(e,n,!1),o=!1}Nd(e)}function $c(e,n,t,r,i,o,s,a,l,c,d,u,p,h){if(e.timeoutHandle=-1,8192&(u=n.subtreeFlags)||16785408===(16785408&u)){sc(n,o,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn});var g=(62914560&o)===o?Mc-le():(4194048&o)===o?Lc-le():0;if(g=function(e,n){return e.stylesheets&&0===e.count&&cp(e,e.stylesheets),0<e.count||0<e.imgCount?function(t){var r=setTimeout(function(){if(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4+n);0<e.imgBytes&&0===sp&&(sp=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,n=0,t=performance.getEntriesByType("resource"),r=0;r<t.length;r++){var i=t[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&gu(s)){for(s=0,a=i.responseEnd,r+=1;r<t.length;r++){var l=t[r],c=l.startTime;if(c>a)break;var d=l.transferSize,u=l.initiatorType;d&&gu(u)&&(s+=d*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,n+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend)){var n=e.unsuspend;e.unsuspend=null,n()}},(e.imgBytes>sp?50:800)+n);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(u,g),null!==g)return Uc=o,e.cancelPendingCommit=g(md.bind(null,e,n,o,t,r,i,s,a,l,d,u,null,p,h)),void Zc(e,o,s,!c)}md(e,n,o,t,r,i,s,a,l)}function Jc(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Jt(o(),i))return!1}catch(s){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zc(e,n,t,r){n&=~Tc,n&=~Ec,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var i=n;0<i;){var o=31-ye(i),s=1<<o;r[o]=-1,i&=~s}0!==t&&Me(e,t,n)}function ed(){return 0!==(6&gc)||(Od(0,!1),!1)}function nd(){if(null!==mc){if(0===vc)var e=mc.return;else Ci=ki=null,as(e=mc),ao=null,lo=0,e=mc;for(;null!==e;)fl(e.alternate,e),e=e.return;mc=null}}function td(e,n){var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,ku(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),Uc=0,nd(),fc=e,mc=t=Br(e.current,null),bc=n,vc=0,xc=null,yc=!1,wc=Ie(e,n),Sc=!1,_c=Ic=Tc=Ec=Ac=Cc=0,Pc=Rc=null,Dc=!1,0!==(8&n)&&(n|=32&n);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=n;0<r;){var i=31-ye(r),o=1<<i;n|=e[i],r&=~o}return kc=n,Rr(),t}function rd(e,n){Ho=null,L.H=fa,n===$i||n===Zi?(n=oo(),vc=3):n===Ji?(n=oo(),vc=4):vc=n===Da?8:null!==n&&"object"===typeof n&&"function"===typeof n.then?6:1,xc=n,null===mc&&(Cc=1,Ta(e,Yr(n,e.current)))}function id(){var e=Mo.current;return null===e||((4194048&bc)===bc?null===Lo:((62914560&bc)===bc||0!==(536870912&bc))&&e===Lo)}function od(){var e=L.H;return L.H=fa,null===e?fa:e}function sd(){var e=L.A;return L.A=pc,e}function ad(){Cc=4,yc||(4194048&bc)!==bc&&null!==Mo.current||(wc=!0),0===(134217727&Ac)&&0===(134217727&Ec)||null===fc||Zc(fc,bc,Ic,!1)}function ld(e,n,t){var r=gc;gc|=2;var i=od(),o=sd();fc===e&&bc===n||(Nc=null,td(e,n)),n=!1;var s=Cc;e:for(;;)try{if(0!==vc&&null!==mc){var a=mc,l=xc;switch(vc){case 8:nd(),s=6;break e;case 3:case 2:case 9:case 6:null===Mo.current&&(n=!0);var c=vc;if(vc=0,xc=null,hd(e,a,l,c),t&&wc){s=0;break e}break;default:c=vc,vc=0,xc=null,hd(e,a,l,c)}}cd(),s=Cc;break}catch(d){rd(e,d)}return n&&e.shellSuspendCounter++,Ci=ki=null,gc=r,L.H=i,L.A=o,null===mc&&(fc=null,bc=0,Rr()),s}function cd(){for(;null!==mc;)ud(mc)}function dd(){for(;null!==mc&&!se();)ud(mc)}function ud(e){var n=sl(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===n?gd(e):mc=n}function pd(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=qa(t,n,n.pendingProps,n.type,void 0,bc);break;case 11:n=qa(t,n,n.pendingProps,n.type.render,n.ref,bc);break;case 5:as(n);default:fl(t,n),n=sl(t,n=mc=Ur(n,kc),kc)}e.memoizedProps=e.pendingProps,null===n?gd(e):mc=n}function hd(e,n,t,r){Ci=ki=null,as(n),ao=null,lo=0;var i=n.return;try{if(function(e,n,t,r,i){if(t.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(n=t.alternate)&&_i(n,t,i,!0),null!==(t=Mo.current)){switch(t.tag){case 31:case 13:return null===Lo?ad():null===t.alternate&&0===Cc&&(Cc=3),t.flags&=-257,t.flags|=65536,t.lanes=i,r===eo?t.flags|=16384:(null===(n=t.updateQueue)?t.updateQueue=new Set([r]):n.add(r),Ad(e,r,i)),!1;case 22:return t.flags|=65536,r===eo?t.flags|=16384:(null===(n=t.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([r]):t.add(r),Ad(e,r,i)),!1}throw Error(s(435,t.tag))}return Ad(e,r,i),ad(),!1}if(ui)return null!==(n=Mo.current)?(0===(65536&n.flags)&&(n.flags|=256),n.flags|=65536,n.lanes=i,r!==gi&&wi(Yr(e=Error(s(422),{cause:r}),t))):(r!==gi&&wi(Yr(n=Error(s(423),{cause:r}),t)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,t),So(e,i=_a(e.stateNode,r,i)),4!==Cc&&(Cc=2)),!1;var o=Error(s(520),{cause:r});if(o=Yr(o,t),null===Rc?Rc=[o]:Rc.push(o),4!==Cc&&(Cc=2),null===n)return!0;r=Yr(r,t),t=n;do{switch(t.tag){case 3:return t.flags|=65536,e=i&-i,t.lanes|=e,So(t,e=_a(t.stateNode,r,e)),!1;case 1:if(n=t.type,o=t.stateNode,0===(128&t.flags)&&("function"===typeof n.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Oc||!Oc.has(o))))return t.flags|=65536,i&=-i,t.lanes|=i,Pa(i=Ra(i),e,t,r),So(t,i),!1}t=t.return}while(null!==t);return!1}(e,i,n,t,bc))return Cc=1,Ta(e,Yr(t,e.current)),void(mc=null)}catch(o){if(null!==i)throw mc=i,o;return Cc=1,Ta(e,Yr(t,e.current)),void(mc=null)}32768&n.flags?(ui||1===r?e=!0:wc||0!==(536870912&bc)?e=!1:(yc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Mo.current)&&13===r.tag&&(r.flags|=16384))),fd(n,e)):gd(n)}function gd(e){var n=e;do{if(0!==(32768&n.flags))return void fd(n,yc);e=n.return;var t=hl(n.alternate,n,kc);if(null!==t)return void(mc=t);if(null!==(n=n.sibling))return void(mc=n);mc=n=e}while(null!==n);0===Cc&&(Cc=5)}function fd(e,n){do{var t=gl(e.alternate,e);if(null!==t)return t.flags&=32767,void(mc=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(mc=e);mc=e=t}while(null!==e);Cc=6,mc=null}function md(e,n,t,r,i,o,a,l,c){e.cancelPendingCommit=null;do{wd()}while(0!==zc);if(0!==(6&gc))throw Error(s(327));if(null!==n){if(n===e.current)throw Error(s(177));if(o=n.lanes|n.childLanes,function(e,n,t,r,i,o){var s=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(t=s&~t;0<t;){var d=31-ye(t),u=1<<d;a[d]=0,l[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var h=p[d];null!==h&&(h.lane&=-536870913)}t&=~u}0!==r&&Me(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~n))}(e,t,o|=_r,a,l,c),e===fc&&(mc=fc=null,bc=0),Bc=n,Vc=e,Uc=t,jc=o,Hc=i,Wc=r,0!==(10256&n.subtreeFlags)||0!==(10256&n.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(pe,function(){return Sd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&n.flags),0!==(13878&n.subtreeFlags)||r){r=L.T,L.T=null,i=F.p,F.p=2,a=gc,gc|=4;try{!function(e,n){if(e=e.containerInfo,fu=yp,ir(e=rr(e))){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(m){t=null;break e}var a=0,l=-1,c=-1,d=0,u=0,p=e,h=null;n:for(;;){for(var g;p!==t||0!==i&&3!==p.nodeType||(l=a+i),p!==o||0!==r&&3!==p.nodeType||(c=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(g=p.firstChild);)h=p,p=g;for(;;){if(p===e)break n;if(h===t&&++d===i&&(l=a),h===o&&++u===r&&(c=a),null!==(g=p.nextSibling))break;h=(p=h).parentNode}p=g}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(mu={focusedElem:e,selectionRange:t},yp=!1,Ml=n;null!==Ml;)if(e=(n=Ml).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Ml=e;else for(;null!==Ml;){switch(o=(n=Ml).alternate,e=n.flags,n.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=n.updateQueue)?e.events:null))for(t=0;t<e.length;t++)(i=e[t]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,t=n,i=o.memoizedProps,o=o.memoizedState,r=t.stateNode;try{var f=ka(t.type,i);e=r.getSnapshotBeforeUpdate(f,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){Cd(t,t.return,b)}}break;case 3:if(0!==(1024&e))if(9===(t=(e=n.stateNode.containerInfo).nodeType))Ru(e);else if(1===t)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ru(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=n.sibling)){e.return=n.return,Ml=e;break}Ml=n.return}}(e,n)}finally{gc=a,F.p=i,L.T=r}}zc=1,bd(),vd(),xd()}}function bd(){if(1===zc){zc=0;var e=Vc,n=Bc,t=0!==(13878&n.flags);if(0!==(13878&n.subtreeFlags)||t){t=L.T,L.T=null;var r=F.p;F.p=2;var i=gc;gc|=4;try{ql(n,e);var o=mu,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&tr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else{var u=a.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var h=p.getSelection(),g=a.textContent.length,f=Math.min(l.start,g),m=void 0===l.end?f:Math.min(l.end,g);!h.extend&&f>m&&(s=m,m=f,f=s);var b=nr(a,f),v=nr(a,m);if(b&&v&&(1!==h.rangeCount||h.anchorNode!==b.node||h.anchorOffset!==b.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var x=u.createRange();x.setStart(b.node,b.offset),h.removeAllRanges(),f>m?(h.addRange(x),h.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),h.addRange(x))}}}}for(u=[],h=a;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<u.length;a++){var y=u[a];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}yp=!!fu,mu=fu=null}finally{gc=i,F.p=r,L.T=t}}e.current=n,zc=2}}function vd(){if(2===zc){zc=0;var e=Vc,n=Bc,t=0!==(8772&n.flags);if(0!==(8772&n.subtreeFlags)||t){t=L.T,L.T=null;var r=F.p;F.p=2;var i=gc;gc|=4;try{Ll(e,n.alternate,n)}finally{gc=i,F.p=r,L.T=t}}zc=3}}function xd(){if(4===zc||3===zc){zc=0,ae();var e=Vc,n=Bc,t=Uc,r=Wc;0!==(10256&n.subtreeFlags)||0!==(10256&n.flags)?zc=5:(zc=0,Bc=Vc=null,yd(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Oc=null),Oe(t),n=n.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(be,n,void 0,128===(128&n.current.flags))}catch(l){}if(null!==r){n=L.T,i=F.p,F.p=2,L.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{L.T=n,F.p=i}}0!==(3&Uc)&&wd(),Nd(e),i=e.pendingLanes,0!==(261930&t)&&0!==(42&i)?e===Gc?qc++:(qc=0,Gc=e):qc=0,Od(0,!1)}}function yd(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,Bi(n)))}function wd(){return bd(),vd(),xd(),Sd()}function Sd(){if(5!==zc)return!1;var e=Vc,n=jc;jc=0;var t=Oe(Uc),r=L.T,i=F.p;try{F.p=32>t?32:t,L.T=null,t=Hc,Hc=null;var o=Vc,a=Uc;if(zc=0,Bc=Vc=null,Uc=0,0!==(6&gc))throw Error(s(331));var l=gc;if(gc|=4,cc(o.current),nc(o,o.current,a,t),gc=l,Od(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(be,o)}catch(c){}return!0}finally{F.p=i,L.T=r,yd(e,n)}}function kd(e,n,t){n=Yr(t,n),null!==(e=yo(e,n=_a(e.stateNode,n,2),2))&&(De(e,2),Nd(e))}function Cd(e,n,t){if(3===e.tag)kd(e,e,t);else for(;null!==n;){if(3===n.tag){kd(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Oc||!Oc.has(r))){e=Yr(t,e),null!==(r=yo(n,t=Ra(2),2))&&(Pa(t,r,n,e),De(r,2),Nd(r));break}}n=n.return}}function Ad(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(n,i)}else void 0===(i=r.get(n))&&(i=new Set,r.set(n,i));i.has(t)||(Sc=!0,i.add(t),e=Ed.bind(null,e,n,t),n.then(e,e))}function Ed(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,fc===e&&(bc&t)===t&&(4===Cc||3===Cc&&(62914560&bc)===bc&&300>le()-Mc?0===(2&gc)&&td(e,0):Tc|=t,_c===bc&&(_c=0)),Nd(e)}function Td(e,n){0===n&&(n=Re()),null!==(e=Mr(e,n))&&(De(e,n),Nd(e))}function Id(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Td(e,t)}function _d(e,n){var t=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(t=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(n),Td(e,t)}var Rd=null,Pd=null,Dd=!1,Md=!1,Ld=!1,Fd=0;function Nd(e){e!==Pd&&null===e.next&&(null===Pd?Rd=Pd=e:Pd=Pd.next=e),Md=!0,Dd||(Dd=!0,Au(function(){0!==(6&gc)?ie(de,zd):Vd()}))}function Od(e,n){if(!Ld&&Md){Ld=!0;do{for(var t=!1,r=Rd;null!==r;){if(!n)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-ye(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(t=!0,jd(r,o))}else o=bc,0===(3&(o=Te(r,r===fc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,o)||(t=!0,jd(r,o));r=r.next}}while(t);Ld=!1}}function zd(){Vd()}function Vd(){Md=Dd=!1;var e=0;0!==Fd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wu&&(wu=e,!0);return wu=null,!1}()&&(e=Fd);for(var n=le(),t=null,r=Rd;null!==r;){var i=r.next,o=Bd(r,n);0===o?(r.next=null,null===t?Rd=i:t.next=i,null===i&&(Pd=t)):(t=r,(0!==e||0!==(3&o))&&(Md=!0)),r=i}0!==zc&&5!==zc||Od(e,!1),0!==Fd&&(Fd=0)}function Bd(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-ye(o),a=1<<s,l=i[s];-1===l?0!==(a&t)&&0===(a&r)||(i[s]=_e(a,n)):l<=n&&(e.expiredLanes|=a),o&=~a}if(t=bc,t=Te(e,e===(n=fc)?t:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===t||e===n&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&t)||Ie(e,t)){if((n=t&-t)===e.callbackPriority)return n;switch(null!==r&&oe(r),Oe(t)){case 2:case 8:t=ue;break;case 32:default:t=pe;break;case 268435456:t=ge}return r=Ud.bind(null,e),t=ie(t,r),e.callbackPriority=n,e.callbackNode=t,n}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Ud(e,n){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var t=e.callbackNode;if(wd()&&e.callbackNode!==t)return null;var r=bc;return 0===(r=Te(e,e===fc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,n),Bd(e,le()),null!=e.callbackNode&&e.callbackNode===t?Ud.bind(null,e):null)}function jd(e,n){if(wd())return null;Xc(e,n,!0)}function Hd(){if(0===Fd){var e=Hi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Fd=e}return Fd}function Wd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dn(""+e)}function qd(e,n){var t=n.ownerDocument.createElement("input");return t.name=n.name,t.value=n.value,e.id&&t.setAttribute("form",e.id),n.parentNode.insertBefore(t,n),e=new FormData(e),t.parentNode.removeChild(t),e}for(var Gd=0;Gd<Cr.length;Gd++){var Kd=Cr[Gd];Ar(Kd.toLowerCase(),"on"+(Kd[0].toUpperCase()+Kd.slice(1)))}Ar(mr,"onAnimationEnd"),Ar(br,"onAnimationIteration"),Ar(vr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(xr,"onTransitionRun"),Ar(yr,"onTransitionStart"),Ar(wr,"onTransitionCancel"),Ar(Sr,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function Xd(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var r=e[t],i=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(d){Er(d)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(d){Er(d)}i.currentTarget=null,o=l}}}}function $d(e,n){var t=n[We];void 0===t&&(t=n[We]=new Set);var r=e+"__bubble";t.has(r)||(nu(n,e,2,!1),t.add(r))}function Jd(e,n,t){var r=0;n&&(r|=4),nu(t,e,r,n)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Zd]){e[Zd]=!0,nn.forEach(function(n){"selectionchange"!==n&&(Qd.has(n)||Jd(n,!1,e),Jd(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Zd]||(n[Zd]=!0,Jd("selectionchange",!1,n))}}function nu(e,n,t,r){switch(Tp(n)){case 2:var i=wp;break;case 8:i=Sp;break;default:i=kp}t=i.bind(null,n,t,e),i=void 0,!Hn||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(i=!0),r?void 0!==i?e.addEventListener(n,t,{capture:!0,passive:i}):e.addEventListener(n,t,!0):void 0!==i?e.addEventListener(n,t,{passive:i}):e.addEventListener(n,t,!1)}function tu(e,n,t,r,i){var o=r;if(0===(1&n)&&0===(2&n)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Xe(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Bn(function(){var r=o,i=Fn(t),s=[];e:{var a=kr.get(e);if(void 0!==a){var c=rt,d=e;switch(e){case"keypress":if(0===Qn(t))break e;case"keydown":case"keyup":c=vt;break;case"focusin":d="focus",c=ct;break;case"focusout":d="blur",c=ct;break;case"beforeblur":case"afterblur":c=ct;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=at;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=lt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yt;break;case mr:case br:case vr:c=dt;break;case Sr:c=wt;break;case"scroll":case"scrollend":c=ot;break;case"wheel":c=St;break;case"copy":case"cut":case"paste":c=ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xt;break;case"toggle":case"beforetoggle":c=kt}var u=0!==(4&n),p=!u&&("scroll"===e||"scrollend"===e),h=u?null!==a?a+"Capture":null:a;u=[];for(var g,f=r;null!==f;){var m=f;if(g=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===g||null===h||null!=(m=Un(f,h))&&u.push(ru(f,m,g)),p)break;f=f.return}0<u.length&&(a=new c(a,d,null,t,i),s.push({event:a,listeners:u}))}}if(0===(7&n)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||t===Ln||!(d=t.relatedTarget||t.fromElement)||!Xe(d)&&!d[He])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(d=(d=t.relatedTarget||t.toElement)?Xe(d):null)&&(p=l(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=at,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xt,m="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==c?a:Je(c),g=null==d?a:Je(d),(a=new u(m,f+"leave",c,t,i)).target=p,a.relatedTarget=g,m=null,Xe(i)===r&&((u=new u(h,f+"enter",d,t,i)).target=g,u.relatedTarget=p,m=u),p=m,c&&d)e:{for(u=ou,f=d,g=0,m=h=c;m;m=u(m))g++;m=0;for(var b=f;b;b=u(b))m++;for(;0<g-m;)h=u(h),g--;for(;0<m-g;)f=u(f),m--;for(;g--;){if(h===f||null!==f&&h===f.alternate){u=h;break e}h=u(h),f=u(f)}u=null}else u=null;null!==c&&su(s,a,c,u,!1),null!==d&&null!==p&&su(s,p,d,u,!0)}if("select"===(c=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Ut;else if(Ft(a))if(jt)v=$t;else{v=Qt;var x=Yt}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&_n(r.elementType)&&(v=Ut):v=Xt;switch(v&&(v=v(e,r))?Nt(s,v,t,i):(x&&x(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wn(a,"number",a.value)),x=r?Je(r):window,e){case"focusin":(Ft(x)||"true"===x.contentEditable)&&(sr=x,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(s,t,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":dr(s,t,i)}var y;if(At)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Mt?Pt(e,t)&&(w="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(w="onCompositionStart");w&&(It&&"ko"!==t.locale&&(Mt||"onCompositionStart"!==w?"onCompositionEnd"===w&&Mt&&(y=Yn()):(Gn="value"in(qn=i)?qn.value:qn.textContent,Mt=!0)),0<(x=iu(r,w)).length&&(w=new pt(w,e,null,t,i),s.push({event:w,listeners:x}),y?w.data=y:null!==(y=Dt(t))&&(w.data=y))),(y=Tt?function(e,n){switch(e){case"compositionend":return Dt(n);case"keypress":return 32!==n.which?null:(Rt=!0,_t);case"textInput":return(e=n.data)===_t&&Rt?null:e;default:return null}}(e,t):function(e,n){if(Mt)return"compositionend"===e||!At&&Pt(e,n)?(e=Yn(),Kn=Gn=qn=null,Mt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return It&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(w=iu(r,"onBeforeInput")).length&&(x=new pt("onBeforeInput","beforeinput",null,t,i),s.push({event:x,listeners:w}),x.data=y)),function(e,n,t,r,i){if("submit"===n&&t&&t.stateNode===i){var o=Wd((i[je]||null).action),s=r.submitter;s&&null!==(n=(n=s[je]||null)?Wd(n.formAction):s.getAttribute("formAction"))&&(o=n,s=null);var a=new rt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Fd){var e=s?qd(i,s):new FormData(i);na(t,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?qd(i,s):new FormData(i),na(t,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,t,i)}Xd(s,n)})}function ru(e,n,t){return{instance:e,listener:n,currentTarget:t}}function iu(e,n){for(var t=n+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Un(e,t))&&r.unshift(ru(e,i,o)),null!=(i=Un(e,n))&&r.push(ru(e,i,o))),3===e.tag)return r;e=e.return}return[]}function ou(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function su(e,n,t,r,i){for(var o=n._reactName,s=[];null!==t&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Un(t,o))&&s.unshift(ru(t,c,l)):i||null!=(c=Un(t,o))&&s.push(ru(t,c,l))),t=t.return}0!==s.length&&e.push({event:n,listeners:s})}var au=/\r\n?/g,lu=/\u0000|\uFFFD/g;function cu(e){return("string"===typeof e?e:""+e).replace(au,"\n").replace(lu,"")}function du(e,n){return n=cu(n),cu(e)===n}function uu(e,n,t,r,i,o){switch(t){case"children":"string"===typeof r?"body"===n||"textarea"===n&&""===r||An(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==n&&An(e,""+r);break;case"className":dn(e,"class",r);break;case"tabIndex":dn(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,t,r);break;case"style":In(e,r,o);break;case"data":if("object"!==n){dn(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==n||"href"!==t)){e.removeAttribute(t);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(t);break}r=Dn(""+r),e.setAttribute(t,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===t?("input"!==n&&uu(e,n,"name",i.name,i,null),uu(e,n,"formEncType",i.formEncType,i,null),uu(e,n,"formMethod",i.formMethod,i,null),uu(e,n,"formTarget",i.formTarget,i,null)):(uu(e,n,"encType",i.encType,i,null),uu(e,n,"method",i.method,i,null),uu(e,n,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(t);break}r=Dn(""+r),e.setAttribute(t,r);break;case"onClick":null!=r&&(e.onclick=Mn);break;case"onScroll":null!=r&&$d("scroll",e);break;case"onScrollEnd":null!=r&&$d("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(t=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=t}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}t=Dn(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(t,""+r):e.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(t,""):e.removeAttribute(t);break;case"capture":case"download":!0===r?e.setAttribute(t,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(t,r):e.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(t,r):e.removeAttribute(t);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(t):e.setAttribute(t,r);break;case"popover":$d("beforetoggle",e),$d("toggle",e),cn(e,"popover",r);break;case"xlinkActuate":un(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":un(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":un(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":un(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":un(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":un(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":un(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":cn(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&cn(e,t=Rn.get(t)||t,r)}}function pu(e,n,t,r,i,o){switch(t){case"style":In(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(t=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=t}}break;case"children":"string"===typeof r?An(e,r):("number"===typeof r||"bigint"===typeof r)&&An(e,""+r);break;case"onScroll":null!=r&&$d("scroll",e);break;case"onScrollEnd":null!=r&&$d("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tn.hasOwnProperty(t)||("o"!==t[0]||"n"!==t[1]||(i=t.endsWith("Capture"),n=t.slice(2,i?t.length-7:void 0),"function"===typeof(o=null!=(o=e[je]||null)?o[t]:null)&&e.removeEventListener(n,o,i),"function"!==typeof r)?t in e?e[t]=r:!0===r?e.setAttribute(t,""):cn(e,t,r):("function"!==typeof o&&null!==o&&(t in e?e[t]=null:e.hasAttribute(t)&&e.removeAttribute(t)),e.addEventListener(n,r,i)))}}function hu(e,n,t){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$d("error",e),$d("load",e);var r,i=!1,o=!1;for(r in t)if(t.hasOwnProperty(r)){var a=t[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:uu(e,n,r,a,t,null)}}return o&&uu(e,n,"srcSet",t.srcSet,t,null),void(i&&uu(e,n,"src",t.src,t,null));case"input":$d("invalid",e);var l=r=a=o=null,c=null,d=null;for(i in t)if(t.hasOwnProperty(i)){var u=t[i];if(null!=u)switch(i){case"name":o=u;break;case"type":a=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,n));break;default:uu(e,n,i,u,t,null)}}return void yn(e,r,l,c,d,a,o,!1);case"select":for(o in $d("invalid",e),i=a=r=null,t)if(t.hasOwnProperty(o)&&null!=(l=t[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:uu(e,n,o,l,t,null)}return n=r,t=a,e.multiple=!!i,void(null!=n?Sn(e,!!i,n,!1):null!=t&&Sn(e,!!i,t,!0));case"textarea":for(a in $d("invalid",e),r=o=i=null,t)if(t.hasOwnProperty(a)&&null!=(l=t[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:uu(e,n,a,l,t,null)}return void Cn(e,i,o,r);case"option":for(c in t)if(t.hasOwnProperty(c)&&null!=(i=t[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else uu(e,n,c,i,t,null);return;case"dialog":$d("beforetoggle",e),$d("toggle",e),$d("cancel",e),$d("close",e);break;case"iframe":case"object":$d("load",e);break;case"video":case"audio":for(i=0;i<Yd.length;i++)$d(Yd[i],e);break;case"image":$d("error",e),$d("load",e);break;case"details":$d("toggle",e);break;case"embed":case"source":case"link":$d("error",e),$d("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in t)if(t.hasOwnProperty(d)&&null!=(i=t[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:uu(e,n,d,i,t,null)}return;default:if(_n(n)){for(u in t)t.hasOwnProperty(u)&&(void 0!==(i=t[u])&&pu(e,n,u,i,t,void 0));return}}for(l in t)t.hasOwnProperty(l)&&(null!=(i=t[l])&&uu(e,n,l,i,t,null))}function gu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fu=null,mu=null;function bu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xu(e,n){if(0===e)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===n?0:e}function yu(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"bigint"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var wu=null;var Su="function"===typeof setTimeout?setTimeout:void 0,ku="function"===typeof clearTimeout?clearTimeout:void 0,Cu="function"===typeof Promise?Promise:void 0,Au="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Cu?function(e){return Cu.resolve(null).then(e).catch(Eu)}:Su;function Eu(e){setTimeout(function(){throw e})}function Tu(e){return"head"===e}function Iu(e,n){var t=n,r=0;do{var i=t.nextSibling;if(e.removeChild(t),i&&8===i.nodeType)if("/$"===(t=i.data)||"/&"===t){if(0===r)return e.removeChild(i),void qp(n);r--}else if("$"===t||"$?"===t||"$~"===t||"$!"===t||"&"===t)r++;else if("html"===t)Vu(e.ownerDocument.documentElement);else if("head"===t){Vu(t=e.ownerDocument.head);for(var o=t.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Ye]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||t.removeChild(o),o=s}}else"body"===t&&Vu(e.ownerDocument.body);t=i}while(t);qp(n)}function _u(e,n){var t=e;e=0;do{var r=t.nextSibling;if(1===t.nodeType?n?(t._stashedDisplay=t.style.display,t.style.display="none"):(t.style.display=t._stashedDisplay||"",""===t.getAttribute("style")&&t.removeAttribute("style")):3===t.nodeType&&(n?(t._stashedText=t.nodeValue,t.nodeValue=""):t.nodeValue=t._stashedText||""),r&&8===r.nodeType)if("/$"===(t=r.data)){if(0===e)break;e--}else"$"!==t&&"$?"!==t&&"$~"!==t&&"$!"!==t||e++;t=r}while(t)}function Ru(e){var n=e.firstChild;for(n&&10===n.nodeType&&(n=n.nextSibling);n;){var t=n;switch(n=n.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Ru(t),Qe(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===t.rel.toLowerCase())continue}e.removeChild(t)}}function Pu(e,n){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Lu(e.nextSibling)))return null}return e}function Du(e){return"$?"===e.data||"$~"===e.data}function Mu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Lu(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n||"$~"===n||"&"===n||"F!"===n||"F"===n)break;if("/$"===n||"/&"===n)return null}}return e}var Fu=null;function Nu(e){e=e.nextSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t||"/&"===t){if(0===n)return Lu(e.nextSibling);n--}else"$"!==t&&"$!"!==t&&"$?"!==t&&"$~"!==t&&"&"!==t||n++}e=e.nextSibling}return null}function Ou(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t||"$~"===t||"&"===t){if(0===n)return e;n--}else"/$"!==t&&"/&"!==t||n++}e=e.previousSibling}return null}function zu(e,n,t){switch(n=bu(t),e){case"html":if(!(e=n.documentElement))throw Error(s(452));return e;case"head":if(!(e=n.head))throw Error(s(453));return e;case"body":if(!(e=n.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Vu(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qe(e)}var Bu=new Map,Uu=new Set;function ju(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hu=F.d;F.d={f:function(){var e=Hu.f(),n=ed();return e||n},r:function(e){var n=$e(e);null!==n&&5===n.tag&&"form"===n.type?ra(n):Hu.r(e)},D:function(e){Hu.D(e),qu("dns-prefetch",e,null)},C:function(e,n){Hu.C(e,n),qu("preconnect",e,n)},L:function(e,n,t){Hu.L(e,n,t);var r=Wu;if(r&&e&&n){var i='link[rel="preload"][as="'+vn(n)+'"]';"image"===n&&t&&t.imageSrcSet?(i+='[imagesrcset="'+vn(t.imageSrcSet)+'"]',"string"===typeof t.imageSizes&&(i+='[imagesizes="'+vn(t.imageSizes)+'"]')):i+='[href="'+vn(e)+'"]';var o=i;switch(n){case"style":o=Ku(e);break;case"script":o=Xu(e)}Bu.has(o)||(e=h({rel:"preload",href:"image"===n&&t&&t.imageSrcSet?void 0:e,as:n},t),Bu.set(o,e),null!==r.querySelector(i)||"style"===n&&r.querySelector(Yu(o))||"script"===n&&r.querySelector($u(o))||(hu(n=r.createElement("link"),"link",e),en(n),r.head.appendChild(n)))}},m:function(e,n){Hu.m(e,n);var t=Wu;if(t&&e){var r=n&&"string"===typeof n.as?n.as:"script",i='link[rel="modulepreload"][as="'+vn(r)+'"][href="'+vn(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xu(e)}if(!Bu.has(o)&&(e=h({rel:"modulepreload",href:e},n),Bu.set(o,e),null===t.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector($u(o)))return}hu(r=t.createElement("link"),"link",e),en(r),t.head.appendChild(r)}}},X:function(e,n){Hu.X(e,n);var t=Wu;if(t&&e){var r=Ze(t).hoistableScripts,i=Xu(e),o=r.get(i);o||((o=t.querySelector($u(i)))||(e=h({src:e,async:!0},n),(n=Bu.get(i))&&np(e,n),en(o=t.createElement("script")),hu(o,"link",e),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,n,t){Hu.S(e,n,t);var r=Wu;if(r&&e){var i=Ze(r).hoistableStyles,o=Ku(e);n=n||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Yu(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":n},t),(t=Bu.get(o))&&ep(e,t);var l=s=r.createElement("link");en(l),hu(l,"link",e),l._p=new Promise(function(e,n){l.onload=e,l.onerror=n}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zu(s,n,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,n){Hu.M(e,n);var t=Wu;if(t&&e){var r=Ze(t).hoistableScripts,i=Xu(e),o=r.get(i);o||((o=t.querySelector($u(i)))||(e=h({src:e,async:!0,type:"module"},n),(n=Bu.get(i))&&np(e,n),en(o=t.createElement("script")),hu(o,"link",e),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Wu="undefined"===typeof document?null:document;function qu(e,n,t){var r=Wu;if(r&&"string"===typeof n&&n){var i=vn(n);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof t&&(i+='[crossorigin="'+t+'"]'),Uu.has(i)||(Uu.add(i),e={rel:e,crossOrigin:t,href:n},null===r.querySelector(i)&&(hu(n=r.createElement("link"),"link",e),en(n),r.head.appendChild(n)))}}function Gu(e,n,t,r){var i,o,a,l,c=(c=G.current)?ju(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof t.precedence&&"string"===typeof t.href?(n=Ku(t.href),(r=(t=Ze(c).hoistableStyles).get(n))||(r={type:"style",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===t.rel&&"string"===typeof t.href&&"string"===typeof t.precedence){e=Ku(t.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Yu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Bu.has(e)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Bu.set(e,t),d||(i=c,o=e,a=t,l=u.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),hu(o,"link",a),en(o),i.head.appendChild(o))))),n&&null===r)throw Error(s(528,""));return u}if(n&&null!==r)throw Error(s(529,""));return null;case"script":return n=t.async,"string"===typeof(t=t.src)&&n&&"function"!==typeof n&&"symbol"!==typeof n?(n=Xu(t),(r=(t=Ze(c).hoistableScripts).get(n))||(r={type:"script",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ku(e){return'href="'+vn(e)+'"'}function Yu(e){return'link[rel="stylesheet"]['+e+"]"}function Qu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Xu(e){return'[src="'+vn(e)+'"]'}function $u(e){return"script[async]"+e}function Ju(e,n,t){if(n.count++,null===n.instance)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+vn(t.href)+'"]');if(r)return n.instance=r,en(r),r;var i=h({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return en(r=(e.ownerDocument||e).createElement("style")),hu(r,"style",i),Zu(r,t.precedence,e),n.instance=r;case"stylesheet":i=Ku(t.href);var o=e.querySelector(Yu(i));if(o)return n.state.loading|=4,n.instance=o,en(o),o;r=Qu(t),(i=Bu.get(i))&&ep(r,i),en(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,n){a.onload=e,a.onerror=n}),hu(o,"link",r),n.state.loading|=4,Zu(o,t.precedence,e),n.instance=o;case"script":return o=Xu(t.src),(i=e.querySelector($u(o)))?(n.instance=i,en(i),i):(r=t,(i=Bu.get(o))&&np(r=h({},t),i),en(i=(e=e.ownerDocument||e).createElement("script")),hu(i,"link",r),e.head.appendChild(i),n.instance=i);case"void":return null;default:throw Error(s(443,n.type))}else"stylesheet"===n.type&&0===(4&n.state.loading)&&(r=n.instance,n.state.loading|=4,Zu(r,t.precedence,e));return n.instance}function Zu(e,n,t){for(var r=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===n)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(n=9===t.nodeType?t.head:t).insertBefore(e,n.firstChild)}function ep(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.title&&(e.title=n.title)}function np(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.integrity&&(e.integrity=n.integrity)}var tp=null;function rp(e,n,t){if(null===tp){var r=new Map,i=tp=new Map;i.set(t,r)}else(r=(i=tp).get(t))||(r=new Map,i.set(t,r));if(r.has(e))return r;for(r.set(e,null),t=t.getElementsByTagName(e),i=0;i<t.length;i++){var o=t[i];if(!(o[Ye]||o[Ue]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(n)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function ip(e,n,t){(e=e.ownerDocument||e).head.insertBefore(t,"title"===n?e.querySelector("head > title"):null)}function op(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sp=0;function ap(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lp=null;function cp(e,n){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lp=new Map,n.forEach(dp,e),lp=null,ap.call(e))}function dp(e,n){if(!(4&n.state.loading)){var t=lp.get(e);if(t)var r=t.get(null);else{t=new Map,lp.set(e,t);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(t.set(s.dataset.precedence,s),r=s)}r&&t.set(null,r)}s=(i=n.instance).getAttribute("data-precedence"),(o=t.get(s)||r)===r&&t.set(null,i),t.set(s,i),this.count++,r=ap.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),n.state.loading|=4}}var up={$$typeof:w,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function pp(e,n,t,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hp(e,n,t,r,i,o,s,a,l,c,d,u){return e=new pp(e,n,t,s,l,c,d,u,a),n=1,!0===o&&(n|=24),o=zr(3,null,null,n),e.current=o,o.stateNode=e,(n=Vi()).refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:r,isDehydrated:t,cache:n},bo(o),e}function gp(e){return e?e=Nr:Nr}function fp(e,n,t,r,i,o){i=gp(i),null===r.context?r.context=i:r.pendingContext=i,(r=xo(n)).payload={element:t},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(t=yo(e,r,n))&&(Qc(t,0,n),wo(t,e,n))}function mp(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function bp(e,n){mp(e,n),(e=e.alternate)&&mp(e,n)}function vp(e){if(13===e.tag||31===e.tag){var n=Mr(e,67108864);null!==n&&Qc(n,0,67108864),bp(e,67108864)}}function xp(e){if(13===e.tag||31===e.tag){var n=Kc(),t=Mr(e,n=Ne(n));null!==t&&Qc(t,0,n),bp(e,n)}}var yp=!0;function wp(e,n,t,r){var i=L.T;L.T=null;var o=F.p;try{F.p=2,kp(e,n,t,r)}finally{F.p=o,L.T=i}}function Sp(e,n,t,r){var i=L.T;L.T=null;var o=F.p;try{F.p=8,kp(e,n,t,r)}finally{F.p=o,L.T=i}}function kp(e,n,t,r){if(yp){var i=Cp(r);if(null===i)tu(e,n,r,Ap,t),Np(e,r);else if(function(e,n,t,r,i){switch(n){case"focusin":return _p=Op(_p,e,n,t,r,i),!0;case"dragenter":return Rp=Op(Rp,e,n,t,r,i),!0;case"mouseover":return Pp=Op(Pp,e,n,t,r,i),!0;case"pointerover":var o=i.pointerId;return Dp.set(o,Op(Dp.get(o)||null,e,n,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mp.set(o,Op(Mp.get(o)||null,e,n,t,r,i)),!0}return!1}(i,e,n,t,r))r.stopPropagation();else if(Np(e,r),4&n&&-1<Fp.indexOf(e)){for(;null!==i;){var o=$e(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=Ee(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-ye(s);a.entanglements[1]|=l,s&=~l}Nd(o),0===(6&gc)&&(Fc=le()+500,Od(0,!1))}}break;case 31:case 13:null!==(a=Mr(o,2))&&Qc(a,0,2),ed(),bp(o,2)}if(null===(o=Cp(r))&&tu(e,n,r,Ap,t),o===i)break;i=o}null!==i&&r.stopPropagation()}else tu(e,n,r,null,t)}}function Cp(e){return Ep(e=Fn(e))}var Ap=null;function Ep(e){if(Ap=null,null!==(e=Xe(e))){var n=l(e);if(null===n)e=null;else{var t=n.tag;if(13===t){if(null!==(e=c(n)))return e;e=null}else if(31===t){if(null!==(e=d(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ap=e,null}function Tp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case pe:case he:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Ip=!1,_p=null,Rp=null,Pp=null,Dp=new Map,Mp=new Map,Lp=[],Fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(e,n){switch(e){case"focusin":case"focusout":_p=null;break;case"dragenter":case"dragleave":Rp=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Dp.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(n.pointerId)}}function Op(e,n,t,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==n&&(null!==(n=$e(n))&&vp(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==i&&-1===n.indexOf(i)&&n.push(i),e)}function zp(e){var n=Xe(e.target);if(null!==n){var t=l(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=c(t)))return e.blockedOn=n,void Ve(e.priority,function(){xp(t)})}else if(31===n){if(null!==(n=d(t)))return e.blockedOn=n,void Ve(e.priority,function(){xp(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Vp(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Cp(e.nativeEvent);if(null!==t)return null!==(n=$e(t))&&vp(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);Ln=r,t.target.dispatchEvent(r),Ln=null,n.shift()}return!0}function Bp(e,n,t){Vp(e)&&t.delete(n)}function Up(){Ip=!1,null!==_p&&Vp(_p)&&(_p=null),null!==Rp&&Vp(Rp)&&(Rp=null),null!==Pp&&Vp(Pp)&&(Pp=null),Dp.forEach(Bp),Mp.forEach(Bp)}function jp(e,n){e.blockedOn===n&&(e.blockedOn=null,Ip||(Ip=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Up)))}var Hp=null;function Wp(e){Hp!==e&&(Hp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hp===e&&(Hp=null);for(var n=0;n<e.length;n+=3){var t=e[n],r=e[n+1],i=e[n+2];if("function"!==typeof r){if(null===Ep(r||t))continue;break}var o=$e(t);null!==o&&(e.splice(n,3),n-=3,na(o,{pending:!0,data:i,method:t.method,action:r},r,i))}}))}function qp(e){function n(n){return jp(n,e)}null!==_p&&jp(_p,e),null!==Rp&&jp(Rp,e),null!==Pp&&jp(Pp,e),Dp.forEach(n),Mp.forEach(n);for(var t=0;t<Lp.length;t++){var r=Lp[t];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Lp.length&&null===(t=Lp[0]).blockedOn;)zp(t),null===t.blockedOn&&Lp.shift();if(null!=(t=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<t.length;r+=3){var i=t[r],o=t[r+1],s=i[je]||null;if("function"===typeof o)s||Wp(t);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[je]||null)a=s.formAction;else if(null!==Ep(i))continue}else a=s.action;"function"===typeof a?t[r+1]=a:(t.splice(r,3),r-=3),Wp(t)}}}function Gp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function n(){null!==i&&(i(),i=null),r||setTimeout(t,20)}function t(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(t,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),null!==i&&(i(),i=null)}}}function Kp(e){this._internalRoot=e}function Yp(e){this._internalRoot=e}Yp.prototype.render=Kp.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(s(409));fp(n.current,Kc(),e,n,null,null)},Yp.prototype.unmount=Kp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;fp(e.current,2,null,e,null,null),ed(),n[He]=null}},Yp.prototype.unstable_scheduleHydration=function(e){if(e){var n=ze();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Lp.length&&0!==n&&n<Lp[t].priority;t++);Lp.splice(t,0,e),0===t&&zp(e)}};var Qp=i.version;if("19.2.0"!==Qp)throw Error(s(527,Qp,"19.2.0"));F.findDOMNode=function(e){var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var n=e.alternate;if(!n){if(null===(n=l(e)))throw Error(s(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return u(i),e;if(o===r)return u(i),n;o=o.sibling}throw Error(s(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===t){a=!0,t=i,r=o;break}if(c===r){a=!0,r=i,t=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===t){a=!0,t=o,r=i;break}if(c===r){a=!0,r=o,t=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(t.alternate!==r)throw Error(s(190))}if(3!==t.tag)throw Error(s(188));return t.stateNode.current===t?e:n}(n),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Xp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{be=$p.inject(Xp),ve=$p}catch(Zp){}}n.createRoot=function(e,n){if(!a(e))throw Error(s(299));var t=!1,r="",i=Ca,o=Aa,l=Ea;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),n=hp(e,1,!1,null,0,t,r,null,i,o,l,Gp),e[He]=n.current,eu(e),new Kp(n)},n.hydrateRoot=function(e,n,t){if(!a(e))throw Error(s(299));var r=!1,i="",o=Ca,l=Aa,c=Ea,d=null;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.formState&&(d=t.formState)),(n=hp(e,1,!0,n,0,r,i,d,o,l,c,Gp)).context=gp(null),t=n.current,(i=xo(r=Ne(r=Kc()))).callback=null,yo(t,i,r),t=r,n.current.lanes=t,De(n,t),Nd(n),e[He]=n.current,eu(e),new Yp(n)},n.version="19.2.0"},43:(e,n,t)=>{e.exports=t(288)},288:(e,n)=>{var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,b={};function v(e,n,t){this.props=e,this.context=n,this.refs=b,this.updater=t||f}function x(){}function y(e,n,t){this.props=e,this.context=n,this.refs=b,this.updater=t||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var w=y.prototype=new x;w.constructor=y,m(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray;function k(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var I=/\/+/g;function _(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function R(e,n,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(a){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case t:case r:d=!0;break;case p:return R((d=e._init)(e._payload),n,i,o,s)}}if(d)return s=s(e),d=""===o?"."+_(e,0):o,S(s)?(i="",null!=d&&(i=d.replace(I,"$&/")+"/"),R(s,n,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+d,s=E(l.type,c,l.props)),n.push(s)),1;d=0;var u,h=""===o?".":o+":";if(S(e))for(var f=0;f<e.length;f++)d+=R(o=e[f],n,i,a=h+_(o,f),s);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=g&&u[g]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(o=e.next()).done;)d+=R(o=o.value,n,i,a=h+_(o,f++),s);else if("object"===a){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(n){"pending"===e.status&&(e.status="fulfilled",e.value=n)},function(n){"pending"===e.status&&(e.status="rejected",e.reason=n)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),n,i,o,s);throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,n,t){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return n.call(t,e,i++)}),r}function D(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:P,forEach:function(e,n,t){P(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return P(e,function(){n++}),n},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};n.Activity=h,n.Children=L,n.Component=v,n.Fragment=i,n.Profiler=s,n.PureComponent=y,n.StrictMode=o,n.Suspense=d,n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,n.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},n.cache=function(e){return function(){return e.apply(null,arguments)}},n.cacheSignal=function(){return null},n.cloneElement=function(e,n,t){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=n)for(o in void 0!==n.key&&(i=""+n.key),n)!A.call(n,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===n.ref||(r[o]=n[o]);var o=arguments.length-2;if(1===o)r.children=t;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return E(e.type,i,r)},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},n.createElement=function(e,n,t){var r,i={},o=null;if(null!=n)for(r in void 0!==n.key&&(o=""+n.key),n)A.call(n,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=n[r]);var s=arguments.length-2;if(1===s)i.children=t;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,o,i)},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=T,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=C.T,t={};C.T=t;try{var r=e(),i=C.S;null!==i&&i(t,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,M)}catch(o){M(o)}finally{null!==n&&null!==t.types&&(n.types=t.types),C.T=n}},n.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},n.use=function(e){return C.H.use(e)},n.useActionState=function(e,n,t){return C.H.useActionState(e,n,t)},n.useCallback=function(e,n){return C.H.useCallback(e,n)},n.useContext=function(e){return C.H.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e,n){return C.H.useDeferredValue(e,n)},n.useEffect=function(e,n){return C.H.useEffect(e,n)},n.useEffectEvent=function(e){return C.H.useEffectEvent(e)},n.useId=function(){return C.H.useId()},n.useImperativeHandle=function(e,n,t){return C.H.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return C.H.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return C.H.useLayoutEffect(e,n)},n.useMemo=function(e,n){return C.H.useMemo(e,n)},n.useOptimistic=function(e,n){return C.H.useOptimistic(e,n)},n.useReducer=function(e,n,t){return C.H.useReducer(e,n,t)},n.useRef=function(e){return C.H.useRef(e)},n.useState=function(e){return C.H.useState(e)},n.useSyncExternalStore=function(e,n,t){return C.H.useSyncExternalStore(e,n,t)},n.useTransition=function(){return C.H.useTransition()},n.version="19.2.0"},391:(e,n,t)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(4)},579:(e,n,t)=>{e.exports=t(799)},672:(e,n,t)=>{var r=t(43);function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,n){return"font"===e?"":"string"===typeof n?"use-credentials"===n?n:"":void 0}n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(i(299));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.flushSync=function(e){var n=l.T,t=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=n,s.p=t,s.d.f()}},n.preconnect=function(e,n){"string"===typeof e&&(n?n="string"===typeof(n=n.crossOrigin)?"use-credentials"===n?n:"":void 0:n=null,s.d.C(e,n))},n.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},n.preinit=function(e,n){if("string"===typeof e&&n&&"string"===typeof n.as){var t=n.as,r=c(t,n.crossOrigin),i="string"===typeof n.integrity?n.integrity:void 0,o="string"===typeof n.fetchPriority?n.fetchPriority:void 0;"style"===t?s.d.S(e,"string"===typeof n.precedence?n.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===t&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof n.nonce?n.nonce:void 0})}},n.preinitModule=function(e,n){if("string"===typeof e)if("object"===typeof n&&null!==n){if(null==n.as||"script"===n.as){var t=c(n.as,n.crossOrigin);s.d.M(e,{crossOrigin:t,integrity:"string"===typeof n.integrity?n.integrity:void 0,nonce:"string"===typeof n.nonce?n.nonce:void 0})}}else null==n&&s.d.M(e)},n.preload=function(e,n){if("string"===typeof e&&"object"===typeof n&&null!==n&&"string"===typeof n.as){var t=n.as,r=c(t,n.crossOrigin);s.d.L(e,t,{crossOrigin:r,integrity:"string"===typeof n.integrity?n.integrity:void 0,nonce:"string"===typeof n.nonce?n.nonce:void 0,type:"string"===typeof n.type?n.type:void 0,fetchPriority:"string"===typeof n.fetchPriority?n.fetchPriority:void 0,referrerPolicy:"string"===typeof n.referrerPolicy?n.referrerPolicy:void 0,imageSrcSet:"string"===typeof n.imageSrcSet?n.imageSrcSet:void 0,imageSizes:"string"===typeof n.imageSizes?n.imageSizes:void 0,media:"string"===typeof n.media?n.media:void 0})}},n.preloadModule=function(e,n){if("string"===typeof e)if(n){var t=c(n.as,n.crossOrigin);s.d.m(e,{as:"string"===typeof n.as&&"script"!==n.as?n.as:void 0,crossOrigin:t,integrity:"string"===typeof n.integrity?n.integrity:void 0})}else s.d.m(e)},n.requestFormReset=function(e){s.d.r(e)},n.unstable_batchedUpdates=function(e,n){return e(n)},n.useFormState=function(e,n,t){return l.H.useFormState(e,n,t)},n.useFormStatus=function(){return l.H.useHostTransitionStatus()},n.version="19.2.0"},799:(e,n)=>{var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var o in r={},n)"key"!==o&&(r[o]=n[o]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:void 0!==n?n:null,props:r}}n.Fragment=r,n.jsx=i,n.jsxs=i},853:(e,n,t)=>{e.exports=t(896)},896:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,i=e[r];if(!(0<o(i,n)))break e;e[r]=n,e[t]=i,t=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,d=e[c];if(0>o(l,t))c<i&&0>o(d,l)?(e[r]=d,e[c]=t,r=c):(e[r]=l,e[a]=t,r=a);else{if(!(c<i&&0>o(d,t)))break e;e[r]=d,e[c]=t,r=c}}}return n}function o(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if(n.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,p=null,h=3,g=!1,f=!1,m=!1,b=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var n=r(d);null!==n;){if(null===n.callback)i(d);else{if(!(n.startTime<=e))break;i(d),n.sortIndex=n.expirationTime,t(c,n)}n=r(d)}}function S(e){if(m=!1,w(e),!f)if(null!==r(c))f=!0,C||(C=!0,k());else{var n=r(d);null!==n&&D(S,n.startTime-e)}}var k,C=!1,A=-1,E=5,T=-1;function I(){return!!b||!(n.unstable_now()-T<E)}function _(){if(b=!1,C){var e=n.unstable_now();T=e;var t=!0;try{e:{f=!1,m&&(m=!1,x(A),A=-1),g=!0;var o=h;try{n:{for(w(e),p=r(c);null!==p&&!(p.expirationTime>e&&I());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=e);if(e=n.unstable_now(),"function"===typeof a){p.callback=a,w(e),t=!0;break n}p===r(c)&&i(c),w(e)}else i(c);p=r(c)}if(null!==p)t=!0;else{var l=r(d);null!==l&&D(S,l.startTime-e),t=!1}}break e}finally{p=null,h=o,g=!1}t=void 0}}finally{t?k():C=!1}}}if("function"===typeof y)k=function(){y(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){v(_,0)};function D(e,t){A=v(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(e){switch(h){case 1:case 2:case 3:var n=3;break;default:n=h}var t=h;h=n;try{return e()}finally{h=t}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=h;h=e;try{return n()}finally{h=t}},n.unstable_scheduleCallback=function(e,i,o){var s=n.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,t(d,e),null===r(c)&&e===r(d)&&(m?(x(A),A=-1):m=!0,D(S,o-s))):(e.sortIndex=a,t(c,e),f||g||(f=!0,C||(C=!0,k()))),e},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(e){var n=h;return function(){var t=h;h=n;try{return e.apply(this,arguments)}finally{h=t}}}},950:(e,n,t)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(672)}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=t(43),i=t(391);function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==n.indexOf(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}function l(e,n,t){return(n=a(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){l(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}const u=["sri"],p=["page"],h=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var b="popstate";function v(){return A(function(e,n){let{pathname:t,search:r,hash:i}=e.location;return S("",{pathname:t,search:r,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")},function(e,n){return"string"===typeof n?n:k(n)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,n){if(!1===e||null===e||"undefined"===typeof e)throw new Error(n)}function y(e,n){if(!e){"undefined"!==typeof console&&console.warn(n);try{throw new Error(n)}catch(t){}}}function w(e,n){return{usr:e.state,key:e.key,idx:n}}function S(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof n?C(n):n),{},{state:t,key:n&&n.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&"?"!==t&&(n+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(n+="#"===r.charAt(0)?r:"#"+r),n}function C(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substring(t),e=e.substring(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substring(r),e=e.substring(0,r)),e&&(n.pathname=e)}return n}function A(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();function u(){return(s.state||{idx:null}).idx}function p(){a="POP";let e=u(),n=null==e?null:e-c;c=e,l&&l({action:a,location:g.location,delta:n})}function h(e){return E(e)}null==c&&(c=0,s.replaceState(d(d({},s.state),{},{idx:c}),""));let g={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(b,p),l=e,()=>{i.removeEventListener(b,p),l=null}},createHref:e=>n(i,e),createURL:h,encodeLocation(e){let n=h(e);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:function(e,n){a="PUSH";let r=S(g.location,e,n);t&&t(r,e),c=u()+1;let d=w(r,c),p=g.createHref(r);try{s.pushState(d,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(p)}o&&l&&l({action:a,location:g.location,delta:1})},replace:function(e,n){a="REPLACE";let r=S(g.location,e,n);t&&t(r,e),c=u();let i=w(r,c),d=g.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:g.location,delta:0})},go:e=>s.go(e)};return g}function E(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t="http://localhost";"undefined"!==typeof window&&(t="null"!==window.location.origin?window.location.origin:window.location.href),x(t,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=t+r),new URL(r,t)}new WeakMap;function T(e,n){return I(e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function I(e,n,t,r){let i=H(("string"===typeof n?C(n):n).pathname||"/",t);if(null==i)return null;let o=_(e);!function(e){e.sort((e,n)=>e.score!==n.score?n.score-e.score:function(e,n){let t=e.length===n.length&&e.slice(0,-1).every((e,t)=>e===n[t]);return t?e[e.length-1]-n[n.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),n.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=j(i);s=V(o[a],e,r)}return s}function _(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;x(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=$([r,l.relativePath]),d=t.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),_(e.children,n,d,c,s)),(null!=e.path||e.index)&&n.push({path:c,score:z(c,e.index),routesMeta:d})};return e.forEach((e,n)=>{var t;if(""!==e.path&&null!==(t=e.path)&&void 0!==t&&t.includes("?"))for(let r of R(e.path))o(e,n,!0,r);else o(e,n)}),n}function R(e){let n=e.split("/");if(0===n.length)return[];let[t,...r]=n,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=R(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(n=>e.startsWith("/")&&""===n?"/":n)}var P=/^:[\w-]+$/,D=3,M=2,L=1,F=10,N=-2,O=e=>"*"===e;function z(e,n){let t=e.split("/"),r=t.length;return t.some(O)&&(r+=N),n&&(r+=M),t.filter(e=>!O(e)).reduce((e,n)=>e+(P.test(n)?D:""===n?L:F),r)}function V(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?n:n.slice(o.length)||"/",d=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&t&&!r[r.length-1].route.index&&(d=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:$([o,d.pathname]),pathnameBase:J($([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=$([o,d.pathnameBase]))}return s}function B(e,n){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=U(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,n,t)=>{let{paramName:r,isOptional:i}=n;if("*"===r){let e=a[t]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[t];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function U(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,n,t)=>(r.push({paramName:n,isOptional:null!=t}),t?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function j(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(n){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(n,").")),e}}function H(e,n){if("/"===n)return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&"/"!==r?null:e.slice(t)||"/"}var W=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=e=>W.test(e);function G(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?t.length>1&&t.pop():"."!==e&&t.push(e)}),t.length>1?t.join("/"):"/"}function K(e,n,t,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(n,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(t,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Y(e){return e.filter((e,n)=>0===n||e.route.path&&e.route.path.length>0)}function Q(e){let n=Y(e);return n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)}function X(e,n,t){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=C(e):(r=d({},e),x(!r.pathname||!r.pathname.includes("?"),K("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),K("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),K("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=t;else{let e=n.length-1;if(!i&&a.startsWith("..")){let n=a.split("/");for(;".."===n[0];)n.shift(),e-=1;r.pathname=n.join("/")}o=e>=0?n[e]:"/"}let l=function(e){let n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:o=""}="string"===typeof e?C(e):e;if(r)if(q(r))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),y(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}n=r.startsWith("/")?G(r.substring(1),"/"):G(r,t)}else n=t;return{pathname:n,search:Z(i),hash:ee(o)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&t.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var $=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ee=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var te=["POST","PUT","PATCH","DELETE"],re=(new Set(te),["GET",...te]);new Set(re),Symbol("ResetLoaderData");var ie=r.createContext(null);ie.displayName="DataRouter";var oe=r.createContext(null);oe.displayName="DataRouterState";var se=r.createContext(!1);var ae=r.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var le=r.createContext(new Map);le.displayName="Fetchers";var ce=r.createContext(null);ce.displayName="Await";var de=r.createContext(null);de.displayName="Navigation";var ue=r.createContext(null);ue.displayName="Location";var pe=r.createContext({outlet:null,matches:[],isDataRoute:!1});pe.displayName="Route";var he=r.createContext(null);he.displayName="RouteError";function ge(){return null!=r.useContext(ue)}function fe(){return x(ge(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ue).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function be(e){r.useContext(de).static||r.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=r.useContext(pe);return e?function(){let{router:e}=Ie("useNavigate"),n=Re("useNavigate"),t=r.useRef(!1);be(()=>{t.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(t.current,me),t.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,d({fromRouteId:n},i)))},[e,n]);return i}():function(){x(ge(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ie),{basename:n,navigator:t}=r.useContext(de),{matches:i}=r.useContext(pe),{pathname:o}=fe(),s=JSON.stringify(Q(i)),a=r.useRef(!1);be(()=>{a.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(a.current,me),!a.current)return;if("number"===typeof r)return void t.go(r);let l=X(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:$([n,l.pathname])),(i.replace?t.replace:t.push)(l,i.state,i)},[n,t,s,o,e]);return l}()}r.createContext(null);function xe(){let{matches:e}=r.useContext(pe),n=e[e.length-1];return n?n.params:{}}function ye(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:t}=r.useContext(pe),{pathname:i}=fe(),o=JSON.stringify(Q(t));return r.useMemo(()=>X(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function we(e,n,t,i,o){x(ge(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(de),{matches:a}=r.useContext(pe),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",p=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Me(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,f=fe();if(n){var m;let e="string"===typeof n?C(n):n;x("/"===p||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=f;let b=g.pathname||"/",v=b;if("/"!==p){let e=p.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=T(e,{pathname:v});y(h||null!=w,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),y(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=Ee(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([p,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:$([p,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,t,i,o);return n&&S?r.createElement(ue.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},S):S}function Se(){let e=Pe(),n=ne(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},n),t?r.createElement("pre",{style:o},t):null,a)}var ke=r.createElement(Se,null),Ce=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||"idle"!==n.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.onError?this.props.onError(e,n):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(pe.Provider,{value:this.props.routeContext},r.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ae(e){let{routeContext:n,match:t,children:i}=e,o=r.useContext(ie);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),r.createElement(pe.Provider,{value:n},i)}function Ee(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!t)return null;if(t.errors)e=t.matches;else{if(0!==n.length||t.initialized||!(t.matches.length>0))return null;e=t.matches}}let o=e,s=null===t||void 0===t?void 0:t.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(t)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:n,errors:r}=t,i=e.route.loader&&!n.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}let c=t&&i?(e,n)=>{var r,o;i(e,{location:t.location,params:null!==(r=null===(o=t.matches)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.params)&&void 0!==r?r:{},errorInfo:n})}:void 0;return o.reduceRight((e,i,d)=>{let u,p=!1,h=null,g=null;t&&(u=s&&i.route.id?s[i.route.id]:void 0,h=i.route.errorElement||ke,a&&(l<0&&0===d?(Me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):l===d&&(p=!0,g=i.route.hydrateFallbackElement||null)));let f=n.concat(o.slice(0,d+1)),m=()=>{let n;return n=u?h:p?g:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ae,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=t},children:n})};return t&&(i.route.ErrorBoundary||i.route.errorElement||0===d)?r.createElement(Ce,{location:t.location,revalidation:t.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):m()},null)}function Te(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ie(e){let n=r.useContext(ie);return x(n,Te(e)),n}function _e(e){let n=r.useContext(oe);return x(n,Te(e)),n}function Re(e){let n=function(e){let n=r.useContext(pe);return x(n,Te(e)),n}(e),t=n.matches[n.matches.length-1];return x(t.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),t.route.id}function Pe(){var e;let n=r.useContext(he),t=_e("useRouteError"),i=Re("useRouteError");return void 0!==n?n:null===(e=t.errors)||void 0===e?void 0:e[i]}var De={};function Me(e,n,t){n||De[e]||(De[e]=!0,y(!1,t))}var Le={};function Fe(e,n){e||Le[n]||(Le[n]=!0,console.warn(n))}r.memo(function(e){let{routes:n,future:t,state:r,unstable_onError:i}=e;return we(n,void 0,r,i,t)});function Ne(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oe(e){let{basename:n="/",children:t=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;x(!ge(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);"string"===typeof i&&(i=C(i));let{pathname:d="/",search:u="",hash:p="",state:h=null,key:g="default"}=i,f=r.useMemo(()=>{let e=H(d,l);return null==e?null:{location:{pathname:e,search:u,hash:p,state:h,key:g},navigationType:o}},[l,d,u,p,h,g,o]);return y(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:r.createElement(de.Provider,{value:c},r.createElement(ue.Provider,{children:t,value:f}))}function ze(e){let{children:n,location:t}=e;return we(Ve(n),t)}r.Component;function Ve(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...n,i];if(e.type===r.Fragment)return void t.push.apply(t,Ve(e.props.children,o));x(e.type===Ne,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ve(e.props.children,o)),t.push(s)}),t}var Be="get",Ue="application/x-www-form-urlencoded";function je(e){return null!=e&&"string"===typeof e.tagName}var He=null;var We=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qe(e){return null==e||We.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function Ge(e,n){let t,r,i,o,s;if(je(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?H(s,n):null,t=e.getAttribute("method")||Be,i=qe(e.getAttribute("enctype"))||Ue,o=new FormData(e)}else if(function(e){return je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?H(a,n):null,t=e.getAttribute("formmethod")||s.getAttribute("method")||Be,i=qe(e.getAttribute("formenctype"))||qe(s.getAttribute("enctype"))||Ue,o=new FormData(s,e),!function(){if(null===He)try{new FormData(document.createElement("form"),0),He=!1}catch(e){He=!0}return He}()){let{name:n,type:t,value:r}=e;if("image"===t){let e=n?"".concat(n,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else n&&o.append(n,r)}}else{if(je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Be,r=null,i=Ue,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ke(e,n){if(!1===e||null===e||"undefined"===typeof e)throw new Error(n)}Symbol("SingleFetchRedirect");function Ye(e,n,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(t):n&&"/"===H(r.pathname,n)?r.pathname="".concat(n.replace(/\/$/,""),"/_root.").concat(t):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(t),r}async function Qe(e,n){if(e.id in n)return n[e.id];try{let t=await import(e.module);return n[e.id]=t,t}catch(t){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xe(e){return null!=e&&"string"===typeof e.page}function $e(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Je(e,n,t,r,i,o){let s=(e,n)=>!t[n]||e.route.id!==t[n].route.id,a=(e,n)=>{var r;return t[n].pathname!==e.pathname||(null===(r=t[n].route.path)||void 0===r?void 0:r.endsWith("*"))&&t[n].params["*"]!==e.params["*"]};return"assets"===o?n.filter((e,n)=>s(e,n)||a(e,n)):"data"===o?n.filter((n,o)=>{let l=r.routes[n.route.id];if(!l||!l.hasLoader)return!1;if(s(n,o)||a(n,o))return!0;if(n.route.shouldRevalidate){var c;let r=n.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=t[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:n.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ze(e,n){let{includeHydrateFallback:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=n.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function en(e,n){let t=new Set,r=new Set(n);return e.reduce((e,i)=>{if(n&&!Xe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let n={},t=Object.keys(e).sort();for(let r of t)n[r]=e[r];return n}(i));return t.has(o)||(t.add(o),e.push({key:o,link:i})),e},[])}function nn(e,n){return"lazy"===e.mode&&!0===n}function tn(){let e=r.useContext(ie);return Ke(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rn(){let e=r.useContext(oe);return Ke(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var on=r.createContext(void 0);function sn(){let e=r.useContext(on);return Ke(e,"You must render this element inside a <HydratedRouter> element"),e}function an(e,n){return t=>{e&&e(t),t.defaultPrevented||n(t)}}function ln(e,n,t){if(t&&!pn)return[e[0]];if(n){let t=e.findIndex(e=>void 0!==n[e.route.id]);return e.slice(0,t+1)}return e}on.displayName="FrameworkContext";function cn(e){let{page:n}=e,t=o(e,p),{router:i}=tn(),s=r.useMemo(()=>T(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?r.createElement(un,d({page:n,matches:s},t)):null}function dn(e){let{manifest:n,routeModules:t}=sn(),[i,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,n,t){return en((await Promise.all(e.map(async e=>{let r=n.routes[e.route.id];if(r){let e=await Qe(r,t);return e.links?e.links():[]}return[]}))).flat(1).filter($e).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,n,t).then(e=>{r||o(e)}),()=>{r=!0}},[e,n,t]),i}function un(e){let{page:n,matches:t}=e,i=o(e,h),s=fe(),{manifest:a,routeModules:l}=sn(),{basename:c}=tn(),{loaderData:u,matches:p}=rn(),g=r.useMemo(()=>Je(n,t,p,a,s,"data"),[n,t,p,a,s]),f=r.useMemo(()=>Je(n,t,p,a,s,"assets"),[n,t,p,a,s]),m=r.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(t.forEach(n=>{var t;let i=a.routes[n.route.id];i&&i.hasLoader&&(!g.some(e=>e.route.id===n.route.id)&&n.route.id in u&&null!==(t=l[n.route.id])&&void 0!==t&&t.shouldRevalidate||i.hasClientLoader?r=!0:e.add(n.route.id))}),0===e.size)return[];let i=Ye(n,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",t.filter(n=>e.has(n.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,s,a,g,t,n,l]),b=r.useMemo(()=>Ze(f,a),[f,a]),v=dn(f);return r.createElement(r.Fragment,null,m.map(e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},i))),b.map(e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:n,link:t}=e;return r.createElement("link",d({key:n,nonce:i.nonce},t))}))}var pn=!1;function hn(e){let{manifest:n,serverHandoffString:t,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:l}=sn(),{router:c,static:p,staticContext:h}=tn(),{matches:g}=rn(),f=r.useContext(se),m=nn(a,l);s&&(s.didRenderScripts=!0);let b=ln(g,null,i);r.useEffect(()=>{pn=!0},[]);let v=r.useMemo(()=>{var i;if(f)return null;let s=h?"window.__reactRouterContext = ".concat(t,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=p?"".concat(null!==(i=n.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(b.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];Ke(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,d=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,n){let{sri:t}=e,r=o(e,u),i=new Set(n.state.matches.map(e=>e.route.id)),s=n.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let t=T(n.routes,e,n.basename);t&&t.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,n)=>Object.assign(e,{[n]:r.routes[n]}),{});return d(d({},r),{},{routes:l,sri:!!t||void 0})}(n,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(b.map((e,n)=>"".concat(JSON.stringify(e.route.id),":route").concat(n)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),x=pn||f?[]:(y=n.entry.imports.concat(Ze(b,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let w="object"===typeof n.sri?n.sri:{};return Fe(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),pn||f?null:r.createElement(r.Fragment,null,"object"===typeof n.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>r.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),v)}function gn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return e=>{n.forEach(n=>{"function"===typeof n?n(e):null!=n&&(n.current=e)})}}r.Component;function fn(e){let{error:n,isOutsideRemixApp:t}=e;console.error(n);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ne(n))return r.createElement(mn,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),o);if(n instanceof Error)i=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);i=new Error(e)}return r.createElement(mn,{title:"Application Error!",isOutsideRemixApp:t},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function mn(e){var n;let{title:t,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=sn();return null!==(n=a.root)&&void 0!==n&&n.Layout&&!o?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(hn,null):null)))}var bn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{bn&&(window.__reactRouterVersion="7.9.6")}catch(nx){}function vn(e){let{basename:n,children:t,window:i}=e,o=r.useRef();null==o.current&&(o.current=v({window:i,v5Compat:!0}));let s=o.current,[a,l]=r.useState({action:s.action,location:s.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>s.listen(c),[s,c]),r.createElement(Oe,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var xn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=r.forwardRef(function(e,n){let t,{onClick:i,discover:s="render",prefetch:a="none",relative:l,reloadDocument:c,replace:u,state:p,target:h,to:f,preventScrollReset:m,viewTransition:b}=e,v=o(e,g),{basename:w}=r.useContext(de),S="string"===typeof f&&xn.test(f),C=!1;if("string"===typeof f&&S&&(t=f,bn))try{let e=new URL(window.location.href),n=f.startsWith("//")?new URL(e.protocol+f):new URL(f),t=H(n.pathname,w);n.origin===e.origin&&null!=t?f=t+n.search+n.hash:C=!0}catch(nx){y(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let A=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(ge(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=r.useContext(de),{hash:o,pathname:s,search:a}=ye(e,{relative:n}),l=s;return"/"!==t&&(l="/"===s?t:$([t,s])),i.createHref({pathname:l,search:a,hash:o})}(f,{relative:l}),[E,T,I]=function(e,n){let t=r.useContext(on),[i,o]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=n,h=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let g=()=>{o(!0)},f=()=>{o(!1),a(!1)};return t?"intent"!==e?[s,h,{}]:[s,h,{onFocus:an(l,g),onBlur:an(c,f),onMouseEnter:an(d,g),onMouseLeave:an(u,f),onTouchStart:an(p,g)}]:[!1,h,{}]}(a,v),_=function(e){let{target:n,replace:t,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ve(),c=fe(),d=ye(e,{relative:s});return r.useCallback(r=>{if(function(e,n){return 0===e.button&&(!n||"_self"===n)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,n)){r.preventDefault();let n=void 0!==t?t:k(c)===k(d);l(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,d,t,i,n,e,o,s,a])}(f,{replace:u,state:p,target:h,preventScrollReset:m,relative:l,viewTransition:b});let R=r.createElement("a",d(d(d({},v),I),{},{href:t||A,onClick:C||c?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:gn(n,T),target:h,"data-discover":S||"render"!==s?void 0:"true"}));return E&&!S?r.createElement(r.Fragment,null,R,r.createElement(cn,{page:A})):R});yn.displayName="Link",r.forwardRef(function(e,n){let{"aria-current":t="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:p}=e,h=o(e,f),g=ye(c,{relative:h.relative}),m=fe(),b=r.useContext(oe),{navigator:v,basename:y}=r.useContext(de),w=null!=b&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.useContext(ae);x(null!=t,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kn("useViewTransitionState"),o=ye(e,{relative:n});if(!t.isTransitioning)return!1;let s=H(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=H(t.nextLocation.pathname,i)||t.nextLocation.pathname;return null!=B(o.pathname,a)||null!=B(o.pathname,s)}(g)&&!0===u,S=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,k=m.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(k=k.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&y&&(C=H(C,y)||C);const A="/"!==S&&S.endsWith("/")?S.length-1:S.length;let E,T=k===S||!a&&k.startsWith(S)&&"/"===k.charAt(A),I=null!=C&&(C===S||!a&&C.startsWith(S)&&"/"===C.charAt(S.length)),_={isActive:T,isPending:I,isTransitioning:w},R=T?t:void 0;E="function"===typeof s?s(_):[s,T?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(_):l;return r.createElement(yn,d(d({},h),{},{"aria-current":R,className:E,ref:n,style:P,to:c,viewTransition:u}),"function"===typeof p?p(_):p)}).displayName="NavLink";var wn=r.forwardRef((e,n)=>{let{discover:t="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:u=Be,action:p,onSubmit:h,relative:g,preventScrollReset:f,viewTransition:b}=e,v=o(e,m),y=En(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:t}=r.useContext(de),i=r.useContext(pe);x(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=d({},ye(e||".",{relative:n})),a=fe();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),n=e.getAll("index");if(n.some(e=>""===e)){e.delete("index"),n.filter(e=>e).forEach(n=>e.append("index",n));let t=e.toString();s.search=t?"?".concat(t):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==t&&(s.pathname="/"===s.pathname?t:$([t,s.pathname]));return k(s)}(p,{relative:g}),S="get"===u.toLowerCase()?"get":"post",C="string"===typeof p&&xn.test(p);return r.createElement("form",d(d({ref:n,method:S,action:w,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let n=e.nativeEvent.submitter,t=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||u;y(n||e.currentTarget,{fetcherKey:i,method:t,navigate:s,replace:l,state:c,relative:g,preventScrollReset:f,viewTransition:b})}},v),{},{"data-discover":C||"render"!==t?void 0:"true"}))});function Sn(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kn(e){let n=r.useContext(ie);return x(n,Sn(e)),n}wn.displayName="Form";var Cn=0,An=()=>"__".concat(String(++Cn),"__");function En(){let{router:e}=kn("useSubmit"),{basename:n}=r.useContext(de),t=Re("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:c}=Ge(r,n);if(!1===i.navigate){let n=i.fetcherKey||An();await e.fetch(n,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,n,t])}const Tn=function(e){const n=[];let t=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?n[t++]=i:i<2048?(n[t++]=i>>6|192,n[t++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),n[t++]=i>>18|240,n[t++]=i>>12&63|128,n[t++]=i>>6&63|128,n[t++]=63&i|128):(n[t++]=i>>12|224,n[t++]=i>>6&63|128,n[t++]=63&i|128)}return n},In={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const n=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=n>>2,d=(3&n)<<4|s>>4;let u=(15&s)<<2|l>>6,p=63&l;a||(p=64,o||(u=64)),r.push(t[c],t[d],t[u],t[p])}return r.join("")},encodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(Tn(e),n)},decodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):function(e){const n=[];let t=0,r=0;for(;t<e.length;){const i=e[t++];if(i<128)n[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[t++];n[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;n[r++]=String.fromCharCode(55296+(o>>10)),n[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[t++],s=e[t++];n[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return n.join("")}(this.decodeStringToByteArray(e,n))},decodeStringToByteArray(e,n){this.init_();const t=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const n=t[e.charAt(i++)],o=i<e.length?t[e.charAt(i)]:0;++i;const s=i<e.length?t[e.charAt(i)]:64;++i;const a=i<e.length?t[e.charAt(i)]:64;if(++i,null==n||null==o||null==s||null==a)throw new _n;const l=n<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _n extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rn=function(e){return function(e){const n=Tn(e);return In.encodeByteArray(n,!0)}(e).replace(/\./g,"")},Pn=function(e){try{return In.decodeString(e,!0)}catch(nx){console.error("base64Decode failed: ",nx)}return null};function Dn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t.g)return t.g;throw new Error("Unable to locate global object.")}const Mn=()=>{try{return Dn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(nx){return}const n=e&&Pn(e[1]);return n&&JSON.parse(n)})()}catch(nx){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(nx))}},Ln=e=>{var n;return null===(n=Mn())||void 0===n||null===(n=n.emulatorHosts)||void 0===n?void 0:n[e]},Fn=()=>{var e;return null===(e=Mn())||void 0===e?void 0:e.config},Nn=e=>{var n;return null===(n=Mn())||void 0===n?void 0:n["_".concat(e)]};class On{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,t)=>{n?this.reject(n):this.resolve(t),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,t))}}}function zn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(n){return!1}}async function Vn(e){return(await fetch(e,{credentials:"include"})).ok}const Bn={};let Un=!1;function jn(e,n){if("undefined"===typeof window||"undefined"===typeof document||!zn(window.location.host)||Bn[e]===n||Bn[e]||Un)return;function t(e){return"__firebase__banner__".concat(e)}Bn[e]=n;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const n of Object.keys(Bn))Bn[n]?e.emulator.push(n):e.prod.push(n);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Un=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let n=document.getElementById(e),t=!1;return n||(n=document.createElement("div"),n.setAttribute("id",e),t=!0),{created:t,element:n}}(r),n=t("text"),s=document.getElementById(n)||document.createElement("span"),a=t("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=t("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const n=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(n),function(e,n){e.setAttribute("id",n),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const t=o();!function(e,n){e.setAttribute("width","24"),e.setAttribute("id",n),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),n.append(d,s,l,t),document.body.appendChild(n)}i?(s.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",n)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Hn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wn(){var e;const n=null===(e=Mn())||void 0===e?void 0:e.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(t.g.process)}catch(nx){return!1}}function qn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Gn(){return!Wn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kn(){try{return"object"===typeof indexedDB}catch(nx){return!1}}function Yn(){return new Promise((e,n)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var e;n((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(t){n(t)}})}class Qn extends Error{constructor(e,n,t){super(n),this.code=e,this.customData=t,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}}class Xn{constructor(e,n,t){this.service=e,this.serviceName=n,this.errors=t}create(e){const n=(arguments.length<=1?void 0:arguments[1])||{},t="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,n){return e.replace($n,(e,t)=>{const r=n[t];return null!=r?String(r):"<".concat(t,"?>")})}(r,n):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(t,").");return new Qn(t,o,n)}}const $n=/\{\$([^}]+)}/g;function Jn(e,n){if(e===n)return!0;const t=Object.keys(e),r=Object.keys(n);for(const i of t){if(!r.includes(i))return!1;const t=e[i],o=n[i];if(Zn(t)&&Zn(o)){if(!Jn(t,o))return!1}else if(t!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Zn(e){return null!==e&&"object"===typeof e}function et(e){const n=[];for(const[t,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}function nt(e){const n={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[t,r]=e.split("=");n[decodeURIComponent(t)]=decodeURIComponent(r)}}),n}function tt(e){const n=e.indexOf("?");if(!n)return"";const t=e.indexOf("#",n);return e.substring(n,t>0?t:void 0)}class rt{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,t){let r;if(void 0===e&&void 0===n&&void 0===t)throw new Error("Missing Observer.");r=function(e,n){if("object"!==typeof e||null===e)return!1;for(const t of n)if(t in e&&"function"===typeof e[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:t},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(nx){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(nx){"undefined"!==typeof console&&console.error&&console.error(nx)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function it(){}function ot(e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(n,e),r=Math.round(.5*t*(Math.random()-.5)*2);return Math.min(144e5,t+r)}function st(e){return e&&e._delegate?e._delegate:e}class at{constructor(e,n,t){this.name=e,this.instanceFactory=n,this.type=t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lt="[DEFAULT]";class ct{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const e=new On;if(this.instancesDeferred.set(n,e),this.isInitialized(n)||this.shouldAutoInitialize())try{const t=this.getOrInitializeService({instanceIdentifier:n});t&&e.resolve(t)}catch(nx){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const t=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(n=null===e||void 0===e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(nx){if(r)return null;throw nx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(nx){}for(const[e,n]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:t});n.resolve(e)}catch(nx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:n={}}=e,t=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(t))throw Error("".concat(this.name,"(").concat(t,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:t,options:n});for(const[i,o]of this.instancesDeferred.entries()){t===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,n){var t;const r=this.normalizeInstanceIdentifier(n),i=null!==(t=this.onInitCallbacks.get(r))&&void 0!==t?t:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const t=this.onInitCallbacks.get(n);if(t)for(const i of t)try{i(e,n)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:n,options:t={}}=e,r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=n,i===lt?void 0:i),options:t}),this.instances.set(n,r),this.instancesOptions.set(n,t),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ct(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const ut=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const ht={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},gt=pt.INFO,ft={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},mt=function(e,n){if(n<e.logLevel)return;const t=(new Date).toISOString(),r=ft[n];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(n,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(t,"]  ").concat(e.name,":"),...o)};class bt{constructor(e){this.name=e,this._logLevel=gt,this._logHandler=mt,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...n),this._logHandler(this,pt.DEBUG,...n)}log(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...n),this._logHandler(this,pt.VERBOSE,...n)}info(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...n),this._logHandler(this,pt.INFO,...n)}warn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...n),this._logHandler(this,pt.WARN,...n)}error(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...n),this._logHandler(this,pt.ERROR,...n)}}let vt,xt;const yt=new WeakMap,wt=new WeakMap,St=new WeakMap,kt=new WeakMap,Ct=new WeakMap;let At={get(e,n,t){if(e instanceof IDBTransaction){if("done"===n)return wt.get(e);if("objectStoreNames"===n)return e.objectStoreNames||St.get(e);if("store"===n)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return It(e[n])},set:(e,n,t)=>(e[n]=t,!0),has:(e,n)=>e instanceof IDBTransaction&&("done"===n||"store"===n)||n in e};function Et(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.apply(_t(this),t),It(yt.get(this))}:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return It(e.apply(_t(this),t))}:function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];const o=e.call(_t(this),n,...r);return St.set(o,n.sort?n.sort():[n]),It(o)}}function Tt(e){return"function"===typeof e?Et(e):(e instanceof IDBTransaction&&function(e){if(wt.has(e))return;const n=new Promise((n,t)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{t(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});wt.set(e,n)}(e),n=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,At):e);var n}function It(e){if(e instanceof IDBRequest)return function(e){const n=new Promise((n,t)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(It(e.result)),r()},o=()=>{t(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return n.then(n=>{n instanceof IDBCursor&&yt.set(n,e)}).catch(()=>{}),Ct.set(n,e),n}(e);if(kt.has(e))return kt.get(e);const n=Tt(e);return n!==e&&(kt.set(e,n),Ct.set(n,e)),n}const _t=e=>Ct.get(e);function Rt(e,n){let{blocked:t,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,n),a=It(s);return r&&s.addEventListener("upgradeneeded",e=>{r(It(s.result),e.oldVersion,e.newVersion,It(s.transaction),e)}),t&&s.addEventListener("blocked",e=>t(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const Pt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Mt=new Map;function Lt(e,n){if(!(e instanceof IDBDatabase)||n in e||"string"!==typeof n)return;if(Mt.get(n))return Mt.get(n);const t=n.replace(/FromIndex$/,""),r=n!==t,i=Dt.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pt.includes(t))return;const o=async function(e){const n=this.transaction(e,i?"readwrite":"readonly");let o=n.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[t](...a),i&&n.done]))[0]};return Mt.set(n,o),o}At=(e=>d(d({},e),{},{get:(n,t,r)=>Lt(n,t)||e.get(n,t,r),has:(n,t)=>!!Lt(n,t)||e.has(n,t)}))(At);class Ft{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const n=e.getComponent();return"VERSION"===(null===n||void 0===n?void 0:n.type)}(e)){const n=e.getImmediate();return"".concat(n.library,"/").concat(n.version)}return null}).filter(e=>e).join(" ")}}const Nt="@firebase/app",Ot="0.14.6",zt=new bt("@firebase/app"),Vt="@firebase/app-compat",Bt="@firebase/analytics-compat",Ut="@firebase/analytics",jt="@firebase/app-check-compat",Ht="@firebase/app-check",Wt="@firebase/auth",qt="@firebase/auth-compat",Gt="@firebase/database",Kt="@firebase/data-connect",Yt="@firebase/database-compat",Qt="@firebase/functions",Xt="@firebase/functions-compat",$t="@firebase/installations",Jt="@firebase/installations-compat",Zt="@firebase/messaging",er="@firebase/messaging-compat",nr="@firebase/performance",tr="@firebase/performance-compat",rr="@firebase/remote-config",ir="@firebase/remote-config-compat",or="@firebase/storage",sr="@firebase/storage-compat",ar="@firebase/firestore",lr="@firebase/ai",cr="@firebase/firestore-compat",dr="firebase",ur="[DEFAULT]",pr={[Nt]:"fire-core",[Vt]:"fire-core-compat",[Ut]:"fire-analytics",[Bt]:"fire-analytics-compat",[Ht]:"fire-app-check",[jt]:"fire-app-check-compat",[Wt]:"fire-auth",[qt]:"fire-auth-compat",[Gt]:"fire-rtdb",[Kt]:"fire-data-connect",[Yt]:"fire-rtdb-compat",[Qt]:"fire-fn",[Xt]:"fire-fn-compat",[$t]:"fire-iid",[Jt]:"fire-iid-compat",[Zt]:"fire-fcm",[er]:"fire-fcm-compat",[nr]:"fire-perf",[tr]:"fire-perf-compat",[rr]:"fire-rc",[ir]:"fire-rc-compat",[or]:"fire-gcs",[sr]:"fire-gcs-compat",[ar]:"fire-fst",[cr]:"fire-fst-compat",[lr]:"fire-vertex","fire-js":"fire-js",[dr]:"fire-js-all"},hr=new Map,gr=new Map,fr=new Map;function mr(e,n){try{e.container.addComponent(n)}catch(nx){zt.debug("Component ".concat(n.name," failed to register with FirebaseApp ").concat(e.name),nx)}}function br(e){const n=e.name;if(fr.has(n))return zt.debug("There were multiple attempts to register component ".concat(n,".")),!1;fr.set(n,e);for(const t of hr.values())mr(t,e);for(const t of gr.values())mr(t,e);return!0}function vr(e,n){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(n)}function xr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const yr=new Xn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wr{constructor(e,n,t){this._isDeleted=!1,this._options=d({},e),this._config=d({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=t,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Sr="12.6.0";function kr(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e;if("object"!==typeof n){n={name:n}}const r=d({name:ur,automaticDataCollectionEnabled:!0},n),i=r.name;if("string"!==typeof i||!i)throw yr.create("bad-app-name",{appName:String(i)});if(t||(t=Fn()),!t)throw yr.create("no-options");const o=hr.get(i);if(o){if(Jn(t,o.options)&&Jn(r,o.config))return o;throw yr.create("duplicate-app",{appName:i})}const s=new dt(i);for(const l of fr.values())s.addComponent(l);const a=new wr(t,r,s);return hr.set(i,a),a}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;const n=hr.get(e);if(!n&&e===ur&&Fn())return kr();if(!n)throw yr.create("no-app",{appName:e});return n}function Ar(e,n,t){var r;let i=null!==(r=pr[e])&&void 0!==r?r:e;t&&(i+="-".concat(t));const o=i.match(/\s|\//),s=n.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(n,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(n,'" contains illegal characters (whitespace or "/")')),void zt.warn(e.join(" "))}br(new at("".concat(i,"-version"),()=>({library:i,version:n}),"VERSION"))}const Er="firebase-heartbeat-store";let Tr=null;function Ir(){return Tr||(Tr=Rt("firebase-heartbeat-database",1,{upgrade:(e,n)=>{if(0===n)try{e.createObjectStore(Er)}catch(nx){console.warn(nx)}}}).catch(e=>{throw yr.create("idb-open",{originalErrorMessage:e.message})})),Tr}async function _r(e,n){try{const t=(await Ir()).transaction(Er,"readwrite"),r=t.objectStore(Er);await r.put(n,Rr(e)),await t.done}catch(nx){if(nx instanceof Qn)zt.warn(nx.message);else{const n=yr.create("idb-set",{originalErrorMessage:null===nx||void 0===nx?void 0:nx.message});zt.warn(n.message)}}}function Rr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Pr{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mr(n),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dr();var n;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let n=0,t=e[0].date;for(let r=1;r<e.length;r++)e[r].date<t&&(t=e[r].date,n=r);return n}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(nx){zt.warn(nx)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const n=Dr(),{heartbeatsToSend:t,unsentEntries:r}=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const t=[];let r=e.slice();for(const i of e){const e=t.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Lr(t)>n){e.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Lr(t)>n){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Rn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(nx){return zt.warn(nx),""}}}function Dr(){return(new Date).toISOString().substring(0,10)}class Mr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kn()&&Yn().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const n=(await Ir()).transaction(Er),t=await n.objectStore(Er).get(Rr(e));return await n.done,t}catch(nx){if(nx instanceof Qn)zt.warn(nx.message);else{const n=yr.create("idb-get",{originalErrorMessage:null===nx||void 0===nx?void 0:nx.message});zt.warn(n.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var n;const t=await this.read();return _r(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var n;const t=await this.read();return _r(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Lr(e){return Rn(JSON.stringify({version:2,heartbeats:e})).length}var Fr;Fr="",br(new at("platform-logger",e=>new Ft(e),"PRIVATE")),br(new at("heartbeat",e=>new Pr(e),"PRIVATE")),Ar(Nt,Ot,Fr),Ar(Nt,Ot,"esm2020"),Ar("fire-js","");Ar("firebase","12.6.0","app");const Nr="@firebase/installations",Or="0.6.19",zr=1e4,Vr="w:".concat(Or),Br="FIS_v2",Ur=36e5,jr=new Xn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Hr(e){return e instanceof Qn&&e.code.includes("request-failed")}function Wr(e){let{projectId:n}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(n,"/installations")}function qr(e){return{token:e.token,requestStatus:2,expiresIn:(n=e.expiresIn,Number(n.replace("s","000"))),creationTime:Date.now()};var n}async function Gr(e,n){const t=(await n.json()).error;return jr.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function Kr(e){let{apiKey:n}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Yr(e,n){let{refreshToken:t}=n;const r=Kr(e);return r.append("Authorization",function(e){return"".concat(Br," ").concat(e)}(t)),r}async function Qr(e){const n=await e();return n.status>=500&&n.status<600?e():n}function Xr(e){return new Promise(n=>{setTimeout(n,e)})}const $r=/^[cdef][\w-]{21}$/;function Jr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function(e){const n=(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_"));var t;return n.substr(0,22)}(e);return $r.test(n)?n:""}catch(e){return""}}function Zr(e){return"".concat(e.appName,"!").concat(e.appId)}const ei=new Map;function ni(e,n){const t=Zr(e);ti(t,n),function(e,n){const t=ii();t&&t.postMessage({key:e,fid:n});oi()}(t,n)}function ti(e,n){const t=ei.get(e);if(t)for(const r of t)r(n)}let ri=null;function ii(){return!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=e=>{ti(e.data.key,e.data.fid)}),ri}function oi(){0===ei.size&&ri&&(ri.close(),ri=null)}const si="firebase-installations-store";let ai=null;function li(){return ai||(ai=Rt("firebase-installations-database",1,{upgrade:(e,n)=>{if(0===n)e.createObjectStore(si)}})),ai}async function ci(e,n){const t=Zr(e),r=(await li()).transaction(si,"readwrite"),i=r.objectStore(si),o=await i.get(t);return await i.put(n,t),await r.done,o&&o.fid===n.fid||ni(e,n.fid),n}async function di(e){const n=Zr(e),t=(await li()).transaction(si,"readwrite");await t.objectStore(si).delete(n),await t.done}async function ui(e,n){const t=Zr(e),r=(await li()).transaction(si,"readwrite"),i=r.objectStore(si),o=await i.get(t),s=n(o);return void 0===s?await i.delete(t):await i.put(s,t),await r.done,!s||o&&o.fid===s.fid||ni(e,s.fid),s}async function pi(e){let n;const t=await ui(e.appConfig,t=>{const r=function(e){const n=e||{fid:Jr(),registrationStatus:0};return fi(n)}(t),i=function(e,n){if(0===n.registrationStatus){if(!navigator.onLine){return{installationEntry:n,registrationPromise:Promise.reject(jr.create("app-offline"))}}const t={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,n){try{const t=await async function(e,n){let{appConfig:t,heartbeatServiceProvider:r}=e,{fid:i}=n;const o=Wr(t),s=Kr(t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Br,appId:t.appId,sdkVersion:Vr},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await Qr(()=>fetch(o,c));if(d.ok){const e=await d.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:qr(e.authToken)}}throw await Gr("Create Installation",d)}(e,n);return ci(e.appConfig,t)}catch(nx){throw Hr(nx)&&409===nx.customData.serverCode?await di(e.appConfig):await ci(e.appConfig,{fid:n.fid,registrationStatus:0}),nx}}(e,t);return{installationEntry:t,registrationPromise:r}}return 1===n.registrationStatus?{installationEntry:n,registrationPromise:hi(e)}:{installationEntry:n}}(e,r);return n=i.registrationPromise,i.installationEntry});return""===t.fid?{installationEntry:await n}:{installationEntry:t,registrationPromise:n}}async function hi(e){let n=await gi(e.appConfig);for(;1===n.registrationStatus;)await Xr(100),n=await gi(e.appConfig);if(0===n.registrationStatus){const{installationEntry:n,registrationPromise:t}=await pi(e);return t||n}return n}function gi(e){return ui(e,e=>{if(!e)throw jr.create("installation-not-found");return fi(e)})}function fi(e){return 1===(n=e).registrationStatus&&n.registrationTime+zr<Date.now()?{fid:e.fid,registrationStatus:0}:e;var n}async function mi(e,n){let{appConfig:t,heartbeatServiceProvider:r}=e;const i=function(e,n){let{fid:t}=n;return"".concat(Wr(e),"/").concat(t,"/authTokens:generate")}(t,n),o=Yr(t,n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Vr,appId:t.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Qr(()=>fetch(i,l));if(c.ok){return qr(await c.json())}throw await Gr("Generate Auth Token",c)}async function bi(e){let n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ui(e.appConfig,r=>{if(!xi(r))throw jr.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+Ur}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,n){let t=await vi(e.appConfig);for(;1===t.authToken.requestStatus;)await Xr(100),t=await vi(e.appConfig);const r=t.authToken;return 0===r.requestStatus?bi(e,n):r}(e,t),r;{if(!navigator.onLine)throw jr.create("app-offline");const t=function(e){const n={requestStatus:1,requestTime:Date.now()};return d(d({},e),{},{authToken:n})}(r);return n=async function(e,n){try{const t=await mi(e,n),r=d(d({},n),{},{authToken:t});return await ci(e.appConfig,r),t}catch(nx){if(!Hr(nx)||401!==nx.customData.serverCode&&404!==nx.customData.serverCode){const t=d(d({},n),{},{authToken:{requestStatus:0}});await ci(e.appConfig,t)}else await di(e.appConfig);throw nx}}(e,t),t}});return n?await n:r.authToken}function vi(e){return ui(e,e=>{if(!xi(e))throw jr.create("not-registered");const n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+zr<Date.now()?d(d({},e),{},{authToken:{requestStatus:0}}):e;var t})}function xi(e){return void 0!==e&&2===e.registrationStatus}async function yi(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=e;await async function(e){const{registrationPromise:n}=await pi(e);n&&await n}(t);return(await bi(t,n)).token}function wi(e){return jr.create("missing-app-config-values",{valueName:e})}const Si="installations",ki=e=>{const n=e.getProvider("app").getImmediate(),t=function(e){if(!e||!e.options)throw wi("App Configuration");if(!e.name)throw wi("App Name");const n=["projectId","apiKey","appId"];for(const t of n)if(!e.options[t])throw wi(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(n);return{app:n,appConfig:t,heartbeatServiceProvider:vr(n,"heartbeat"),_delete:()=>Promise.resolve()}},Ci=e=>{const n=vr(e.getProvider("app").getImmediate(),Si).getImmediate();return{getId:()=>async function(e){const n=e,{installationEntry:t,registrationPromise:r}=await pi(n);return r?r.catch(console.error):bi(n).catch(console.error),t.fid}(n),getToken:e=>yi(n,e)}};br(new at(Si,ki,"PUBLIC")),br(new at("installations-internal",Ci,"PRIVATE")),Ar(Nr,Or),Ar(Nr,Or,"esm2020");const Ai="analytics",Ei="https://www.googletagmanager.com/gtag/js",Ti=new bt("@firebase/analytics"),Ii=new Xn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _i(e){if(!e.startsWith(Ei)){const n=Ii.create("invalid-gtag-resource",{gtagURL:e});return Ti.warn(n.message),""}return e}function Ri(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Pi(e,n){const t=function(e,n){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(e,n)),t}("firebase-js-sdk-policy",{createScriptURL:_i}),r=document.createElement("script"),i="".concat(Ei,"?l=").concat(e,"&id=").concat(n);r.src=t?null===t||void 0===t?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Di(e,n,t,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,n,t,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Ri(t);for(const t of e){const e=r.find(e=>e.measurementId===t),i=e&&n[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(n)),await Promise.all(o),e("event",r,i||{})}catch(nx){Ti.error(nx)}}(e,n,t,r,i)}else if("config"===i){const[i,o]=s;await async function(e,n,t,r,i,o){const s=r[i];try{if(s)await n[s];else{const e=(await Ri(t)).find(e=>e.measurementId===i);e&&await n[e.appId]}}catch(nx){Ti.error(nx)}e("config",i,o)}(e,n,t,r,i,o)}else if("consent"===i){const[n,t]=s;e("consent",n,t)}else if("get"===i){const[n,t,r]=s;e("get",n,t,r)}else if("set"===i){const[n]=s;e("set",n)}else e(i,...s)}catch(nx){Ti.error(nx)}}}const Mi=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Li(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Fi(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mi,t=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Ii.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ii.create("no-api-key")}const s=n.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Oi;return setTimeout(async()=>{a.abort()},void 0!==t?t:6e4),Ni({appId:r,apiKey:i,measurementId:o},s,a,n)}async function Ni(e,n,t){let{throttleEndTimeMillis:r,backoffCount:i}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mi;const{appId:s,measurementId:a}=e;try{await function(e,n){return new Promise((t,r)=>{const i=Math.max(n-Date.now(),0),o=setTimeout(t,i);e.addEventListener(()=>{clearTimeout(o),r(Ii.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}(t,r)}catch(nx){if(a)return Ti.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===nx||void 0===nx?void 0:nx.message,"]")),{appId:s,measurementId:a};throw nx}try{const n=await async function(e){const{appId:n,apiKey:t}=e,r={method:"GET",headers:Li(t)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{var s;const n=await o.json();null!==(s=n.error)&&void 0!==s&&s.message&&(e=n.error.message)}catch(a){}throw Ii.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return o.deleteThrottleMetadata(s),n}catch(nx){var l;const r=nx;if(!function(e){if(!(e instanceof Qn)||!e.customData)return!1;const n=Number(e.customData.httpStatus);return 429===n||500===n||503===n||504===n}(r)){if(o.deleteThrottleMetadata(s),a)return Ti.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:a};throw nx}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?ot(i,o.intervalMillis,30):ot(i,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(s,d),Ti.debug("Calling attemptFetch again in ".concat(c," millis")),Ni(e,d,t,o)}}class Oi{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let zi,Vi;function Bi(e){Vi=e}function Ui(e){zi=e}async function ji(e,n,t,r,i,o,s){var a;const l=Fi(e);l.then(n=>{t[n.measurementId]=n.appId,e.options.measurementId&&n.measurementId!==e.options.measurementId&&Ti.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(n.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Ti.error(e)),n.push(l);const c=async function(){if(!Kn())return Ti.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Yn()}catch(nx){return Ti.warn(Ii.create("indexeddb-unavailable",{errorInfo:null===nx||void 0===nx?void 0:nx.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,u]=await Promise.all([l,c]);(function(e){const n=window.document.getElementsByTagName("script");for(const t of Object.values(n))if(t.src&&t.src.includes(Ei)&&t.src.includes(e))return t;return null})(o)||Pi(o,d.measurementId),Vi&&(i("consent","default",Vi),Bi(void 0)),i("js",new Date);const p=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return p.origin="firebase",p.update=!0,null!=u&&(p.firebase_id=u),i("config",d.measurementId,p),zi&&(i("set",zi),Ui(void 0)),d.measurementId}class Hi{constructor(e){this.app=e}_delete(){return delete Wi[this.app.options.appId],Promise.resolve()}}let Wi={},qi=[];const Gi={};let Ki,Yi,Qi="dataLayer",Xi="gtag",$i=!1;function Ji(){const e=[];if(qn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const n=e.map((e,n)=>"(".concat(n+1,") ").concat(e)).join(" "),t=Ii.create("invalid-analytics-context",{errorInfo:n});Ti.warn(t.message)}}function Zi(e,n,t){Ji();const r=e.options.appId;if(!r)throw Ii.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ii.create("no-api-key");Ti.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Wi[r])throw Ii.create("already-exists",{id:r});if(!$i){!function(e){let n=[];Array.isArray(window[e])?n=window[e]:window[e]=n}(Qi);const{wrappedGtag:e,gtagCore:n}=function(e,n,t,r,i){let o=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=Di(o,e,n,t),{gtagCore:o,wrappedGtag:window[i]}}(Wi,qi,Gi,Qi,Xi);Yi=e,Ki=n,$i=!0}Wi[r]=ji(e,qi,Gi,n,Ki,Qi,t);return new Hi(e)}function eo(e,n,t){e=st(e),async function(e,n,t,r){if(r&&r.global){const n={};for(const e of Object.keys(t))n["user_properties.".concat(e)]=t[e];return e("set",n),Promise.resolve()}e("config",await n,{update:!0,user_properties:t})}(Yi,Wi[e.app.options.appId],n,t).catch(e=>Ti.error(e))}function no(e,n,t,r){e=st(e),async function(e,n,t,r,i){if(i&&i.global)e("event",t,r);else{const i=await n;e("event",t,d(d({},r),{},{send_to:i}))}}(Yi,Wi[e.app.options.appId],n,t,r).catch(e=>Ti.error(e))}const to="@firebase/analytics",ro="0.10.19";br(new at(Ai,(e,n)=>{let{options:t}=n;return Zi(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)},"PUBLIC")),br(new at("analytics-internal",function(e){try{const n=e.getProvider(Ai).getImmediate();return{logEvent:(e,t,r)=>no(n,e,t,r),setUserProperties:(e,t)=>eo(n,e,t)}}catch(nx){throw Ii.create("interop-component-reg-failed",{reason:nx})}},"PRIVATE")),Ar(to,ro),Ar(to,ro,"esm2020");const io=["providerId"],oo=["uid","auth","stsTokenManager"],so=["providerId","signInMethod"];function ao(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lo=ao,co=new Xn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),uo=new bt("@firebase/auth");function po(e){if(uo.logLevel<=pt.ERROR){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];uo.error("Auth (".concat(Sr,"): ").concat(e),...t)}}function ho(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw bo(e,...t)}function go(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return bo(e,...t)}function fo(e,n,t){const r=d(d({},lo()),{},{[n]:t});return new Xn("auth","Firebase",r).create(n,{appName:e.name})}function mo(e){return fo(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bo(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return co.create(e,...t)}function vo(e,n){if(!e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];throw bo(n,...r)}}function xo(e){const n="INTERNAL ASSERTION FAILED: "+e;throw po(n),new Error(n)}function yo(e,n){e||xo(n)}function wo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function So(){return"http:"===ko()||"https:"===ko()}function ko(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Co{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(So()||qn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ao(e,n){yo(e.emulator,"Emulator should always be set here");const{url:t}=e.emulator;return n?"".concat(t).concat(n.startsWith("/")?n.slice(1):n):t}class Eo{static initialize(e,n,t){this.fetchImpl=e,n&&(this.headersImpl=n),t&&(this.responseImpl=t)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const To={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Io=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_o=new Co(3e4,6e4);function Ro(e,n){return e.tenantId&&!n.tenantId?d(d({},n),{},{tenantId:e.tenantId}):n}async function Po(e,n,t,r){return Do(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===n?o=r:i={body:JSON.stringify(r)});const s=et(d({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=d({method:n,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&zn(e.emulatorConfig.host)&&(l.credentials="include"),Eo.fetch()(await Lo(e,e.config.apiHost,t,s),l)})}async function Do(e,n,t){e._canInitEmulator=!1;const r=d(d({},To),n);try{const n=new No(e),i=await Promise.race([t(),n.promise]);n.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Oo(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const n=i.ok?o.errorMessage:o.error.message,[t,s]=n.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw Oo(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===t)throw Oo(e,"email-already-in-use",o);if("USER_DISABLED"===t)throw Oo(e,"user-disabled",o);const a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw fo(e,a,s);ho(e,a)}}catch(nx){if(nx instanceof Qn)throw nx;ho(e,"network-request-failed",{message:String(nx)})}}async function Mo(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Po(e,n,t,r,i);return"mfaPendingCredential"in o&&ho(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Lo(e,n,t,r){const i="".concat(n).concat(t,"?").concat(r),o=e,s=o.config.emulator?Ao(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Io.includes(t)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function Fo(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class No{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(go(this.auth,"network-request-failed")),_o.get())})}}function Oo(e,n,t){const r={appName:e.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=go(e,n,r);return i.customData._tokenResponse=t,i}function zo(e){return void 0!==e&&void 0!==e.enterprise}class Vo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Fo(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bo(e,n){return Po(e,"GET","/v2/recaptchaConfig",Ro(e,n))}async function Uo(e,n){return Po(e,"POST","/v1/accounts:lookup",n)}function jo(e){if(e)try{const n=new Date(Number(e));if(!isNaN(n.getTime()))return n.toUTCString()}catch(nx){}}function Ho(e){return 1e3*Number(e)}function Wo(e){const[n,t,r]=e.split(".");if(void 0===n||void 0===t||void 0===r)return po("JWT malformed, contained fewer than 3 sections"),null;try{const e=Pn(t);return e?JSON.parse(e):(po("Failed to decode base64 JWT payload"),null)}catch(nx){return po("Caught error parsing JWT payload as JSON",null===nx||void 0===nx?void 0:nx.toString()),null}}function qo(e){const n=Wo(e);return vo(n,"internal-error"),vo("undefined"!==typeof n.exp,"internal-error"),vo("undefined"!==typeof n.iat,"internal-error"),Number(n.exp)-Number(n.iat)}async function Go(e,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return n;try{return await n}catch(nx){throw nx instanceof Qn&&function(e){let{code:n}=e;return n==="auth/".concat("user-disabled")||n==="auth/".concat("user-token-expired")}(nx)&&e.auth.currentUser===e&&await e.auth.signOut(),nx}}class Ko{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var n;this.errorBackoff=3e4;const e=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(nx){return void((null===nx||void 0===nx?void 0:nx.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Yo{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qo(e){var n;const t=e.auth,r=await e.getIdToken(),i=await Go(e,Uo(t,{idToken:r}));vo(null===i||void 0===i?void 0:i.users.length,t,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(n=o.providerUserInfo)&&void 0!==n&&n.length?Xo(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(n=>n.providerId===e.providerId)),...c]);var l,c;const d=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),p=!!d&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yo(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(e,h)}function Xo(e){return e.map(e=>{let{providerId:n}=e,t=o(e,io);return{providerId:n,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vo(e.idToken,"internal-error"),vo("undefined"!==typeof e.idToken,"internal-error"),vo("undefined"!==typeof e.refreshToken,"internal-error");const n="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):qo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){vo(0!==e.length,"internal-error");const n=qo(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(vo(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:t,refreshToken:r,expiresIn:i}=await async function(e,n){const t=await Do(e,{},async()=>{const t=et({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Lo(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:t};return e.emulatorConfig&&zn(e.emulatorConfig.host)&&(a.credentials="include"),Eo.fetch()(o,a)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}(e,n);this.updateTokensAndExpiration(t,r,Number(i))}updateTokensAndExpiration(e,n,t){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*t}static fromJSON(e,n){const{refreshToken:t,accessToken:r,expirationTime:i}=n,o=new $o;return t&&(vo("string"===typeof t,"internal-error",{appName:e}),o.refreshToken=t),r&&(vo("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(vo("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return xo("not implemented")}}function Jo(e,n){vo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:n})}class Zo{constructor(e){let{uid:n,auth:t,stsTokenManager:r}=e,i=o(e,oo);this.providerId="firebase",this.proactiveRefresh=new Ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return vo(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return async function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=st(e),r=await t.getIdToken(n),i=Wo(r);vo(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jo(Ho(i.auth_time)),issuedAtTime:jo(Ho(i.iat)),expirationTime:jo(Ho(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const n=st(e);await Qo(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}(this)}_assign(e){this!==e&&(vo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>d({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zo(d(d({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){vo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),t=!0),n&&await Qo(this),await this.auth._persistUserIfCurrent(this),t&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(mo(this.auth));const e=await this.getIdToken();return await Go(this,async function(e,n){return Po(e,"POST","/v1/accounts:delete",n)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return d(d({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>d({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var t,r,i,o,s,a,l,c;const u=null!==(t=n.displayName)&&void 0!==t?t:void 0,p=null!==(r=n.email)&&void 0!==r?r:void 0,h=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,f=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(a=n._redirectEventId)&&void 0!==a?a:void 0,b=null!==(l=n.createdAt)&&void 0!==l?l:void 0,v=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:x,emailVerified:y,isAnonymous:w,providerData:S,stsTokenManager:k}=n;vo(x&&k,e,"internal-error");const C=$o.fromJSON(this.name,k);vo("string"===typeof x,e,"internal-error"),Jo(u,e.name),Jo(p,e.name),vo("boolean"===typeof y,e,"internal-error"),vo("boolean"===typeof w,e,"internal-error"),Jo(h,e.name),Jo(g,e.name),Jo(f,e.name),Jo(m,e.name),Jo(b,e.name),Jo(v,e.name);const A=new Zo({uid:x,auth:e,email:p,emailVerified:y,displayName:u,isAnonymous:w,photoURL:g,phoneNumber:h,tenantId:f,stsTokenManager:C,createdAt:b,lastLoginAt:v});return S&&Array.isArray(S)&&(A.providerData=S.map(e=>d({},e))),m&&(A._redirectEventId=m),A}static async _fromIdTokenResponse(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new $o;r.updateFromServerResponse(n);const i=new Zo({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:t});return await Qo(i),i}static async _fromGetAccountInfoResponse(e,n,t){const r=n.users[0];vo(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Xo(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new $o;s.updateFromIdToken(t);const a=new Zo({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Yo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const es=new Map;function ns(e){yo(e instanceof Function,"Expected a class definition");let n=es.get(e);return n?(yo(n instanceof e,"Instance stored in cache mismatched with class"),n):(n=new e,es.set(e,n),n)}class ts{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return void 0===n?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ts.type="NONE";const rs=ts;function is(e,n,t){return"firebase".concat(":",e,":").concat(n,":").concat(t)}class os{constructor(e,n,t){this.persistence=e,this.auth=n,this.userKey=t;const{config:r,name:i}=this.auth;this.fullUserKey=is(this.userKey,r.apiKey,i),this.fullPersistenceKey=is("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const n=await Uo(this.auth,{idToken:e}).catch(()=>{});return n?Zo._fromGetAccountInfoResponse(this.auth,n,e):null}return Zo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,n?this.setCurrentUser(n):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!n.length)return new os(ns(rs),e,t);const r=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ns(rs);const o=is(t,e.config.apiKey,e.name);let s=null;for(const c of n)try{const n=await c._get(o);if(n){let t;if("string"===typeof n){const r=await Uo(e,{idToken:n}).catch(()=>{});if(!r)break;t=await Zo._fromGetAccountInfoResponse(e,r,n)}else t=Zo._fromJSON(e,n);c!==i&&(s=t),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==i)try{await e._remove(o)}catch(n){}})),new os(i,e,t)):new os(i,e,t)}}function ss(e){const n=e.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(ds(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(as(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(ps(n))return"Blackberry";if(hs(n))return"Webos";if(ls(n))return"Safari";if((n.includes("chrome/")||cs(n))&&!n.includes("edge/"))return"Chrome";if(us(n))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,t=e.match(n);if(2===(null===t||void 0===t?void 0:t.length))return t[1]}return"Other"}function as(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/firefox\//i.test(e)}function ls(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/crios\//i.test(e)}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/iemobile/i.test(e)}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/android/i.test(e)}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/blackberry/i.test(e)}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/webos/i.test(e)}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fs(){return function(){const e=Hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn();return gs(e)||us(e)||hs(e)||ps(e)||/windows phone/i.test(e)||ds(e)}function bs(e){let n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":n=ss(Hn());break;case"Worker":n="".concat(ss(Hn()),"-").concat(e);break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return"".concat(n,"/","JsCore","/").concat(Sr,"/").concat(r)}class vs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const t=n=>new Promise((t,r)=>{try{t(e(n))}catch(nx){r(nx)}});t.onAbort=n,this.queue.push(t);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(nx){n.reverse();for(const r of n)try{r()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===nx||void 0===nx?void 0:nx.message})}}}class xs{constructor(e){var n,t,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(t=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==t?t:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,t,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(n=a.meetsMinPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(t=a.meetsMaxPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,n){const t=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;t&&(n.meetsMinPasswordLength=e.length>=t),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){let t;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let r=0;r<e.length;r++)t=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,t>="a"&&t<="z",t>="A"&&t<="Z",t>="0"&&t<="9",this.allowedNonAlphanumericCharacters.includes(t))}updatePasswordCharacterOptionsStatuses(e,n,t,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=t)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ys{constructor(e,n,t,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ss(this),this.idTokenSubscription=new Ss(this),this.beforeStateQueue=new vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=co,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var t,r,i;if(!this._deleted&&(this.persistenceManager=await os.create(this,e),null===(t=this._resolvePersistenceManagerAvailable)||void 0===t||t.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(nx){}await this.initializeCurrentUser(n),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const n=await Uo(this,{idToken:e}),t=await Zo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(t)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(n=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(n,n))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let t=n,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const n=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=t)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||null===a||void 0===a||!a.user||(t=a.user,r=!0)}if(!t)return this.directlySetCurrentUser(null);if(!t._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(t)}catch(nx){t=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(nx))}return t?this.reloadAndSetCurrentUserOrClear(t):this.directlySetCurrentUser(null)}return vo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===t._redirectEventId?this.directlySetCurrentUser(t):this.reloadAndSetCurrentUserOrClear(t)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(nx){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qo(e)}catch(nx){if((null===nx||void 0===nx?void 0:nx.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(mo(this));const n=e?st(e):null;return n&&vo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&vo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Po(e,"GET","/v2/passwordPolicy",Ro(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),n=new xs(e);null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xn("auth","Firebase",e())}onAuthStateChanged(e,n,t){return this.registerStateListener(this.authStateSubscription,e,n,t)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,t){return this.registerStateListener(this.idTokenSubscription,e,n,t)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const t=this.onAuthStateChanged(()=>{t(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(n.tenantId=this.tenantId),await async function(e,n){return Po(e,"POST","/v2/accounts:revokeToken",Ro(e,n))}(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,n){const t=await this.getOrInitRedirectPersistenceManager(n);return null===e?t.removeCurrentUser():t.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;vo(n,this,"argument-error"),this.redirectPersistenceManager=await os.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,t;return this._isInitialized&&await this.queue(async()=>{}),(null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)===e?this._currentUser:(null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=null!==(e=null===(n=this.currentUser)||void 0===n?void 0:n.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,t,r){if(this._deleted)return()=>{};const i="function"===typeof n?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(vo(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof n){const i=e.addObserver(n,t,r);return()=>{o=!0,i()}}{const t=e.addObserver(n);return()=>{o=!0,t()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const t=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());t&&(n["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==n&&void 0!==n&&n.error&&function(e){if(uo.logLevel<=pt.WARN){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];uo.warn("Auth (".concat(Sr,"): ").concat(e),...t)}}("Error while retrieving App Check token: ".concat(n.error)),null===n||void 0===n?void 0:n.token}}function ws(e){return st(e)}class Ss{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,n){const t=new rt(e,n);return t.subscribe.bind(t)}(e=>this.observer=e)}get next(){return vo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ks={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cs(e){return ks.loadJS(e)}function As(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Es{constructor(){this.enterprise=new Ts}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ts{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Is="NO_RECAPTCHA";class _s{constructor(e){this.type="recaptcha-enterprise",this.auth=ws(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function t(n,t,r){const i=window.grecaptcha;zo(i)?i.enterprise.ready(()=>{i.enterprise.execute(n,{action:e}).then(e=>{t(e)}).catch(()=>{t(Is)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Es).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!n){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(n,t)=>{Bo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const t=new Vo(r);return null==e.tenantId?e._agentRecaptchaConfig=t:e._tenantRecaptchaConfigs[e.tenantId]=t,n(t.siteKey)}t(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{t(e)})})})(this.auth).then(i=>{if(!n&&zo(window.grecaptcha))t(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let n=ks.recaptchaEnterpriseScript;0!==n.length&&(n+=i),Cs(n).then(()=>{t(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Rs(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new _s(e);let s;if(i)s=Is;else try{s=await o.verify(t)}catch(l){s=await o.verify(t,!0)}const a=d({},n);if("mfaSmsEnrollment"===t||"mfaSmsSignIn"===t){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,n=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ps(e,n,t,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Rs(e,n,t,"getOobCode"===t);return r(e,i)}return r(e,n).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(t," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Rs(e,n,t,"getOobCode"===t);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Rs(e,n,t);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(t," flow."));const i=await Rs(e,n,t,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Rs(e,n,t,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ds(e){const n=ws(e),t=await Bo(n,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vo(t);if(null==n.tenantId?n._agentRecaptchaConfig=r:n._tenantRecaptchaConfigs[n.tenantId]=r,r.isAnyProviderEnabled()){new _s(n).verify()}}function Ms(e,n,t){const r=ws(e);vo(/^https?:\/\//.test(n),r,"invalid-emulator-scheme");const i=!(null===t||void 0===t||!t.disableWarnings),o=Ls(n),{host:s,port:a}=function(e){const n=Ls(e),t=/(\/\/)?([^?#/]+)/.exec(e.substr(n.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fs(r.substr(e.length+1))}}{const[e,n]=r.split(":");return{host:e,port:Fs(n)}}}(n),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return vo(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void vo(Jn(c,r.config.emulator)&&Jn(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,zn(s)?(Vn("".concat(o,"//").concat(s).concat(l)),jn("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ls(e){const n=e.indexOf(":");return n<0?"":e.substr(0,n+1)}function Fs(e){if(!e)return null;const n=Number(e);return isNaN(n)?null:n}class Ns{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xo("not implemented")}_getIdTokenResponse(e){return xo("not implemented")}_linkToIdToken(e,n){return xo("not implemented")}_getReauthenticationResolver(e){return xo("not implemented")}}async function Os(e,n){return Po(e,"POST","/v1/accounts:signUp",n)}async function zs(e,n){return Mo(e,"POST","/v1/accounts:signInWithPassword",Ro(e,n))}class Vs extends Ns{constructor(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",t),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Vs(e,n,"password")}static _fromEmailAndCode(e,n){return new Vs(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"===typeof e?JSON.parse(e):e;if(null!==n&&void 0!==n&&n.email&&null!==n&&void 0!==n&&n.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ps(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,n){return Mo(e,"POST","/v1/accounts:signInWithEmailLink",Ro(e,n))}(e,{email:this._email,oobCode:this._password});default:ho(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Ps(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Os,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,n){return Mo(e,"POST","/v1/accounts:signInWithEmailLink",Ro(e,n))}(e,{idToken:n,email:this._email,oobCode:this._password});default:ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bs(e,n){return Mo(e,"POST","/v1/accounts:signInWithIdp",Ro(e,n))}class Us extends Ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"===typeof e?JSON.parse(e):e,{providerId:t,signInMethod:r}=n,i=o(n,so);if(!t||!r)return null;const s=new Us(t,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Bs(e,this.buildRequest())}_linkToIdToken(e,n){const t=this.buildRequest();return t.idToken=n,Bs(e,t)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bs(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=et(n)}return e}}async function js(e,n){return Po(e,"POST","/v1/accounts:sendVerificationCode",Ro(e,n))}const Hs={USER_NOT_FOUND:"user-not-found"};class Ws extends Ns{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ws({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ws({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return async function(e,n){return Mo(e,"POST","/v1/accounts:signInWithPhoneNumber",Ro(e,n))}(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return async function(e,n){const t=await Mo(e,"POST","/v1/accounts:signInWithPhoneNumber",Ro(e,n));if(t.temporaryProof)throw Oo(e,"account-exists-with-different-credential",t);return t}(e,d({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,n){return Mo(e,"POST","/v1/accounts:signInWithPhoneNumber",Ro(e,d(d({},n),{},{operation:"REAUTH"})),Hs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:t,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:t,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:n,verificationCode:t,phoneNumber:r,temporaryProof:i}=e;return t||n||r||i?new Ws({verificationId:n,verificationCode:t,phoneNumber:r,temporaryProof:i}):null}}class qs{constructor(e){var n,t,r,i,o,s;const a=nt(tt(e)),l=null!==(n=a.apiKey)&&void 0!==n?n:null,c=null!==(t=a.oobCode)&&void 0!==t?t:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);vo(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const n=function(e){const n=nt(tt(e)).link,t=n?nt(tt(n)).deep_link_id:null,r=nt(tt(e)).deep_link_id;return(r?nt(tt(r)).link:null)||r||t||n||e}(e);try{return new qs(n)}catch(t){return null}}}class Gs{constructor(){this.providerId=Gs.PROVIDER_ID}static credential(e,n){return Vs._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const t=qs.parseLink(n);return vo(t,"argument-error"),Vs._fromEmailAndCode(e,t.code,t.tenantId)}}Gs.PROVIDER_ID="password",Gs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Gs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ys extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends Ys{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:n}=e;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return Qs.credential(n.oauthAccessToken)}catch(t){return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qs.PROVIDER_ID="facebook.com";class Xs extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:n}=e;if(!n)return null;const{oauthIdToken:t,oauthAccessToken:r}=n;if(!t&&!r)return null;try{return Xs.credential(t,r)}catch(i){return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com",Xs.PROVIDER_ID="google.com";class $s extends Ys{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:n}=e;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return $s.credential(n.oauthAccessToken)}catch(t){return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com",$s.PROVIDER_ID="github.com";class Js extends Ys{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:n}=e;if(!n)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=n;if(!t||!r)return null;try{return Js.credential(t,r)}catch(i){return null}}}async function Zs(e,n){return Mo(e,"POST","/v1/accounts:signUp",Ro(e,n))}Js.TWITTER_SIGN_IN_METHOD="twitter.com",Js.PROVIDER_ID="twitter.com";class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Zo._fromIdTokenResponse(e,t,r),o=na(t);return new ea({user:i,providerId:o,_tokenResponse:t,operationType:n})}static async _forOperation(e,n,t){await e._updateTokensIfNecessary(t,!0);const r=na(t);return new ea({user:e,providerId:r,_tokenResponse:t,operationType:n})}}function na(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ta extends Qn{constructor(e,n,t,r){var i;super(n.code,n.message),this.operationType=t,this.user=r,Object.setPrototypeOf(this,ta.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:n.customData._serverResponse,operationType:t}}static _fromErrorAndOperation(e,n,t,r){return new ta(e,n,t,r)}}function ra(e,n,t,r){return("reauthenticate"===n?t._getReauthenticationResolver(e):t._getIdTokenResponse(e)).catch(t=>{if(t.code==="auth/".concat("multi-factor-auth-required"))throw ta._fromErrorAndOperation(e,t,n,r);throw t})}async function ia(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Go(e,n._linkToIdToken(e.auth,await e.getIdToken()),t);return ea._forOperation(e,"link",r)}async function oa(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(xr(r.app))return Promise.reject(mo(r));const i="reauthenticate";try{const o=await Go(e,ra(r,i,n,e),t);vo(o.idToken,r,"internal-error");const s=Wo(o.idToken);vo(s,r,"internal-error");const{sub:a}=s;return vo(e.uid===a,r,"user-mismatch"),ea._forOperation(e,i,o)}catch(nx){throw(null===nx||void 0===nx?void 0:nx.code)==="auth/".concat("user-not-found")&&ho(r,"user-mismatch"),nx}}async function sa(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xr(e.app))return Promise.reject(mo(e));const r="signIn",i=await ra(e,r,n),o=await ea._fromIdTokenResponse(e,r,i);return t||await e._updateCurrentUser(o.user),o}async function aa(e,n){return sa(ws(e),n)}async function la(e){const n=ws(e);n._getPasswordPolicyInternal()&&await n._updatePasswordPolicy()}function ca(e,n,t,r){return st(e).onAuthStateChanged(n,t,r)}function da(e,n){return Po(e,"POST","/v2/accounts/mfaEnrollment:start",Ro(e,n))}new WeakMap;const ua="__sak";class pa{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ha extends pa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ms(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const t=this.storage.getItem(n),r=this.localCache[n];t!==r&&e(n,r,t)}}onStorageEvent(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,n,t)=>{this.notifyListeners(e,t)});const t=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(t);(n||this.localCache[t]!==e)&&this.notifyListeners(t,e)},i=this.storage.getItem(t);fs()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,n){this.localCache[e]=n;const t=this.listeners[e];if(t)for(const r of Array.from(t))r(n?JSON.parse(n):n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,t)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:t}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ha.type="LOCAL";const ga=ha;function fa(e){var n,t;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ma(e){const n="http:"===window.location.protocol;return"".concat(n?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ba{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const n=new URL("".concat(window.location.origin,"/__cookies__"));return n.searchParams.set("finalTarget",e),n}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,n){}async _get(e){if(!this._isAvailable())return null;const n=ma(e);if(window.cookieStore){const e=await window.cookieStore.get(n);return null===e||void 0===e?void 0:e.value}return fa(n)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const n=ma(e);document.cookie="".concat(n,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,n){if(!this._isAvailable())return;const t=ma(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===t);r&&n(r.value);e.deleted.find(e=>e.name===t)&&n(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(n,r),window.cookieStore.addEventListener("change",e)}let r=fa(t);const i=setInterval(()=>{const e=fa(t);e!==r&&(n(e),r=e)},1e3);this.listenerUnsubscribes.set(n,()=>clearInterval(i))}_removeListener(e,n){const t=this.listenerUnsubscribes.get(n);t&&(t(),this.listenerUnsubscribes.delete(n))}}ba.type="COOKIE";class va extends pa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}va.type="SESSION";const xa=va;class ya{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(n=>n.isListeningto(e));if(n)return n;const t=new ya(e);return this.receivers.push(t),t}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:t,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;n.ports[0].postMessage({status:"ack",eventId:t,eventType:r});const s=Array.from(o).map(async e=>e(n.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}(s);n.ports[0].postMessage({status:"done",eventId:t,eventType:r,response:a})}_subscribe(e,n){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),n&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t="";for(let r=0;r<n;r++)t+=Math.floor(10*Math.random());return e+t}ya.receivers=[];class Sa{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=wa("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},t);o={messageChannel:r,onMessage(e){const n=e;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(n.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function ka(){return window}function Ca(){return"undefined"!==typeof ka().WorkerGlobalScope&&"function"===typeof ka().importScripts}const Aa="firebaseLocalStorageDb",Ea="firebaseLocalStorage",Ta="fbase_key";class Ia{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _a(e,n){return e.transaction([Ea],n?"readwrite":"readonly").objectStore(Ea)}function Ra(){const e=indexedDB.open(Aa,1);return new Promise((n,t)=>{e.addEventListener("error",()=>{t(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Ea,{keyPath:Ta})}catch(nx){t(nx)}}),e.addEventListener("success",async()=>{const t=e.result;t.objectStoreNames.contains(Ea)?n(t):(t.close(),await function(){const e=indexedDB.deleteDatabase(Aa);return new Ia(e).toPromise()}(),n(await Ra()))})})}async function Pa(e,n,t){const r=_a(e,!0).put({[Ta]:n,value:t});return new Ia(r).toPromise()}function Da(e,n){const t=_a(e,!0).delete(n);return new Ia(t).toPromise()}class Ma{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ra()),this.db}async _withRetries(e){let n=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(nx){if(n++>3)throw nx;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ca()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ya._getInstance(Ca()?self:null),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(n){return null}}(),!this.activeServiceWorker)return;this.sender=new Sa(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&null!==(e=t[0])&&void 0!==e&&e.fulfilled&&null!==(n=t[0])&&void 0!==n&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ra();return await Pa(e,ua,"1"),await Da(e,ua),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pa(t,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(n=>async function(e,n){const t=_a(e,!1).get(n),r=await new Ia(t).toPromise();return void 0===r?null:r.value}(n,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Da(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const n=_a(e,!1).getAll();return new Ia(n).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const n=[],t=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)t.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!t.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const t=this.listeners[e];if(t)for(const r of Array.from(t))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ma.type="LOCAL";const La=Ma;function Fa(e,n){return Po(e,"POST","/v2/accounts/mfaSignIn:start",Ro(e,n))}As("rcb"),new Co(3e4,6e4);const Na="recaptcha";async function Oa(e,n,t){if(!e._getRecaptchaConfig())try{await Ds(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof n?{phoneNumber:n}:n,"session"in i){const n=i.session;if("phoneNumber"in i){vo("enroll"===n.type,e,"internal-error");const r={idToken:n.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Ps(e,r,"mfaSmsEnrollment",async(e,n)=>{if(n.phoneEnrollmentInfo.captchaResponse===Is){vo((null===t||void 0===t?void 0:t.type)===Na,e,"argument-error");return da(e,await za(e,n,t))}return da(e,n)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;vo("signin"===n.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;vo(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:n.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ps(e,s,"mfaSmsSignIn",async(e,n)=>{if(n.phoneSignInInfo.captchaResponse===Is){vo((null===t||void 0===t?void 0:t.type)===Na,e,"argument-error");return Fa(e,await za(e,n,t))}return Fa(e,n)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const n={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ps(e,n,"sendVerificationCode",async(e,n)=>{if(n.captchaResponse===Is){vo((null===t||void 0===t?void 0:t.type)===Na,e,"argument-error");return js(e,await za(e,n,t))}return js(e,n)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===t||void 0===t||t._reset()}}async function za(e,n,t){vo(t.type===Na,e,"argument-error");const r=await t.verify();vo("string"===typeof r,e,"argument-error");const i=d({},n);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,n=i.phoneEnrollmentInfo.captchaResponse,t=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:n,clientType:t,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,n=i.phoneSignInInfo.clientType,t=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:n,recaptchaVersion:t}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Va{constructor(e){this.providerId=Va.PROVIDER_ID,this.auth=ws(e)}verifyPhoneNumber(e,n){return Oa(this.auth,e,st(n))}static credential(e,n){return Ws._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Va.credentialFromTaggedObject(n)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:n}=e;if(!n)return null;const{phoneNumber:t,temporaryProof:r}=n;return t&&r?Ws._fromTokenResponse(t,r):null}}function Ba(e,n){return n?ns(n):(vo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Va.PROVIDER_ID="phone",Va.PHONE_SIGN_IN_METHOD="phone";class Ua extends Ns{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ja(e){return sa(e.auth,new Ua(e),e.bypassAuthState)}function Ha(e){const{auth:n,user:t}=e;return vo(t,n,"internal-error"),oa(t,new Ua(e),e.bypassAuthState)}async function Wa(e){const{auth:n,user:t}=e;return vo(t,n,"internal-error"),ia(t,new Ua(e),e.bypassAuthState)}class qa{constructor(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=t,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(nx){this.reject(nx)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:t,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:n,sessionId:t,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(nx){this.reject(nx)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ja;case"linkViaPopup":case"linkViaRedirect":return Wa;case"reauthViaPopup":case"reauthViaRedirect":return Ha;default:ho(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ga=new Co(2e3,1e4);class Ka extends qa{constructor(e,n,t,r,i){super(e,n,r,i),this.provider=t,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vo(e,this.auth,"internal-error"),e}async onExecution(){yo(1===this.filter.length,"Popup operations only handle one event");const e=wa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n;null!==(n=this.authWindow)&&void 0!==n&&null!==(n=n.window)&&void 0!==n&&n.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(go(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ga.get())};e()}}Ka.currentPopupAction=null;const Ya=new Map;class Qa extends qa{constructor(e,n){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ya.get(this.auth._key());if(!e){try{const n=await async function(e,n){const t=Ja(n),r=$a(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(t);return await r._remove(t),i}(this.resolver,this.auth),t=n?await super.execute():null;e=()=>Promise.resolve(t)}catch(nx){e=()=>Promise.reject(nx)}Ya.set(this.auth._key(),e)}return this.bypassAuthState||Ya.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Xa(e,n){Ya.set(e._key(),n)}function $a(e){return ns(e._redirectPersistence)}function Ja(e){return is("pendingRedirect",e.config.apiKey,e.name)}async function Za(e,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xr(e.app))return Promise.reject(mo(e));const r=ws(e),i=Ba(r,n),o=new Qa(r,i,t),s=await o.execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,n)),s}class el{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(t=>{this.isEventForConsumer(e,t)&&(n=!0,this.sendToConsumer(e,t),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tl(e)){var t;const r=(null===(t=e.error.code)||void 0===t?void 0:t.split("auth/")[1])||"internal-error";n.onError(go(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const t=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&t}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(e))}saveEventToCache(e){this.cachedEventUids.add(nl(e)),this.lastProcessedEventTime=Date.now()}}function nl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tl(e){let{type:n,error:t}=e;return"unknown"===n&&(null===t||void 0===t?void 0:t.code)==="auth/".concat("no-auth-event")}const rl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,il=/^https?/;async function ol(e){if(e.config.emulator)return;const{authorizedDomains:n}=await async function(e){return Po(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of n)try{if(sl(r))return}catch(t){}ho(e,"unauthorized-domain")}function sl(e){const n=wo(),{protocol:t,hostname:r}=new URL(n);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===t&&e.replace("chrome-extension://","")===n.replace("chrome-extension://",""):"chrome-extension:"===t&&i.hostname===r}if(!il.test(t))return!1;if(rl.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const al=new Co(3e4,6e4);function ll(){const e=ka().___jsl;if(null!==e&&void 0!==e&&e.H)for(const n of Object.keys(e.H))if(e.H[n].r=e.H[n].r||[],e.H[n].L=e.H[n].L||[],e.H[n].r=[...e.H[n].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function cl(e){return new Promise((n,t)=>{var r,i;function o(){ll(),gapi.load("gapi.iframes",{callback:()=>{n(gapi.iframes.getContext())},ontimeout:()=>{ll(),t(go(e,"network-request-failed"))},timeout:al.get()})}if(null!==(r=ka().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)n(gapi.iframes.getContext());else{if(null===(i=ka().gapi)||void 0===i||!i.load){const n=As("iframefcb");return ka()[n]=()=>{gapi.load?o():t(go(e,"network-request-failed"))},Cs("".concat(ks.gapiScript,"?onload=").concat(n)).catch(e=>t(e))}o()}}).catch(e=>{throw dl=null,e})}let dl=null;const ul=new Co(5e3,15e3),pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gl(e){const n=e.config;vo(n.authDomain,e,"auth-domain-config-required");const t=n.emulator?Ao(n,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:n.apiKey,appName:e.name,v:Sr},i=hl.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(t,"?").concat(et(r).slice(1))}async function fl(e){const n=await function(e){return dl=dl||cl(e),dl}(e),t=ka().gapi;return vo(t,e,"internal-error"),n.open({where:document.body,url:gl(e),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pl,dontclear:!0},n=>new Promise(async(t,r)=>{await n.restyle({setHideOnLeave:!1});const i=go(e,"network-request-failed"),o=ka().setTimeout(()=>{r(i)},ul.get());function s(){ka().clearTimeout(o),t(n)}n.ping(s).then(s,()=>{r(i)})}))}const ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(nx){}}}function vl(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=d(d({},ml),{},{width:r.toString(),height:i.toString(),top:o,left:s}),c=Hn().toLowerCase();t&&(a=cs(c)?"_blank":t),as(c)&&(n=n||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,n)=>{let[t,r]=n;return"".concat(e).concat(t,"=").concat(r,",")},"");if(function(){var e;return gs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,n){const t=document.createElement("a");t.href=e,t.target=n;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(n||"",a),new bl(null);const p=window.open(n||"",a,u);vo(p,e,"popup-blocked");try{p.focus()}catch(nx){}return new bl(p)}const xl="__/auth/handler",yl="emulator/auth/handler",wl=encodeURIComponent("fac");async function Sl(e,n,t,r,i,o){vo(e.config.authDomain,e,"auth-domain-config-required"),vo(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:t,redirectUrl:r,v:Sr,eventId:i};if(n instanceof Ks){n.setDefaultLanguage(e.languageCode),s.providerId=n.providerId||"",function(e){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters()));for(const[e,n]of Object.entries(o||{}))s[e]=n}if(n instanceof Ys){const e=n.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const l=await e._getAppCheckToken(),c=l?"#".concat(wl,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:n}=e;if(!n.emulator)return"https://".concat(n.authDomain,"/").concat(xl);return Ao(n,yl)}(e),"?").concat(et(a).slice(1)).concat(c)}const kl="webStorageSupport";const Cl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xa,this._completeRedirectFn=Za,this._overrideRedirectResult=Xa}async _openPopup(e,n,t,r){var i;yo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return vl(e,await Sl(e,n,t,wo(),r),wa())}async _openRedirect(e,n,t,r){await this._originValidation(e);return function(e){ka().location.href=e}(await Sl(e,n,t,wo(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:e,promise:t}=this.eventManagers[n];return e?Promise.resolve(e):(yo(t,"If manager is not set, promise should be"),t)}const t=this.initAndGetManager(e);return this.eventManagers[n]={promise:t},t.catch(()=>{delete this.eventManagers[n]}),t}async initAndGetManager(e){const n=await fl(e),t=new el(e);return n.register("authEvent",n=>{vo(null===n||void 0===n?void 0:n.authEvent,e,"invalid-auth-event");return{status:t.onEvent(n.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:t},this.iframes[e._key()]=n,t}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kl,{type:kl},t=>{var r;const i=null===t||void 0===t||null===(r=t[0])||void 0===r?void 0:r[kl];void 0!==i&&n(!!i),ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ol(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ms()||ls()||gs()}};var Al="@firebase/auth",El="1.11.1";class Tl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(n=>{e((null===n||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Il=Nn("authIdTokenMaxAge")||300;let _l=null;var Rl;ks={loadJS:e=>new Promise((n,t)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=n,r.onerror=e=>{const n=go("internal-error");n.customData=e,t(n)},r.type="text/javascript",r.charset="UTF-8",function(){var e,n;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Rl="Browser",br(new at("auth",(e,n)=>{let{options:t}=n;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;vo(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Rl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bs(Rl)},c=new ys(r,i,o,l);return function(e,n){const t=(null===n||void 0===n?void 0:n.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ns);null!==n&&void 0!==n&&n.errorMap&&e._updateErrorMap(n.errorMap),e._initializeWithPersistence(r,null===n||void 0===n?void 0:n.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider("auth-internal").initialize()})),br(new at("auth-internal",e=>(e=>new Tl(e))(ws(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(Al,El,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Rl)),Ar(Al,El,"esm2020");var Pl,Dl,Ml="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ll={};(function(){var e;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function t(e,n,t){t||(t=0);const r=Array(16);if("string"===typeof n)for(var i=0;i<16;++i)r[i]=n.charCodeAt(t++)|n.charCodeAt(t++)<<8|n.charCodeAt(t++)<<16|n.charCodeAt(t++)<<24;else for(i=0;i<16;++i)r[i]=n[t++]|n[t++]<<8|n[t++]<<16|n[t++]<<24;n=e.g[0],t=e.g[1],i=e.g[2];let o,s=e.g[3];o=n+(s^t&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(n=t+(o<<7&4294967295|o>>>25))&(t^i))+r[1]+3905402710&4294967295,s=n+(o<<12&4294967295|o>>>20),o=i+(t^s&(n^t))+r[2]+606105819&4294967295,o=t+(n^(i=s+(o<<17&4294967295|o>>>15))&(s^n))+r[3]+3250441966&4294967295,o=n+(s^(t=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(n=t+(o<<7&4294967295|o>>>25))&(t^i))+r[5]+1200080426&4294967295,s=n+(o<<12&4294967295|o>>>20),o=i+(t^s&(n^t))+r[6]+2821735955&4294967295,o=t+(n^(i=s+(o<<17&4294967295|o>>>15))&(s^n))+r[7]+4249261313&4294967295,o=n+(s^(t=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(n=t+(o<<7&4294967295|o>>>25))&(t^i))+r[9]+2336552879&4294967295,s=n+(o<<12&4294967295|o>>>20),o=i+(t^s&(n^t))+r[10]+4294925233&4294967295,o=t+(n^(i=s+(o<<17&4294967295|o>>>15))&(s^n))+r[11]+2304563134&4294967295,o=n+(s^(t=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(n=t+(o<<7&4294967295|o>>>25))&(t^i))+r[13]+4254626195&4294967295,s=n+(o<<12&4294967295|o>>>20),o=i+(t^s&(n^t))+r[14]+2792965006&4294967295,o=t+(n^(i=s+(o<<17&4294967295|o>>>15))&(s^n))+r[15]+1236535329&4294967295,o=n+(i^s&((t=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(t^i&((n=t+(o<<5&4294967295|o>>>27))^t))+r[6]+3225465664&4294967295,s=n+(o<<9&4294967295|o>>>23),o=i+(n^t&(s^n))+r[11]+643717713&4294967295,o=t+(s^n&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=n+(i^s&((t=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(t^i&((n=t+(o<<5&4294967295|o>>>27))^t))+r[10]+38016083&4294967295,s=n+(o<<9&4294967295|o>>>23),o=i+(n^t&(s^n))+r[15]+3634488961&4294967295,o=t+(s^n&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=n+(i^s&((t=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(t^i&((n=t+(o<<5&4294967295|o>>>27))^t))+r[14]+3275163606&4294967295,s=n+(o<<9&4294967295|o>>>23),o=i+(n^t&(s^n))+r[3]+4107603335&4294967295,o=t+(s^n&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=n+(i^s&((t=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(t^i&((n=t+(o<<5&4294967295|o>>>27))^t))+r[2]+4243563512&4294967295,s=n+(o<<9&4294967295|o>>>23),o=i+(n^t&(s^n))+r[7]+1735328473&4294967295,o=t+(s^n&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=n+((t=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((n=t+(o<<4&4294967295|o>>>28))^t^i)+r[8]+2272392833&4294967295,s=n+(o<<11&4294967295|o>>>21),o=i+(s^n^t)+r[11]+1839030562&4294967295,o=t+((i=s+(o<<16&4294967295|o>>>16))^s^n)+r[14]+4259657740&4294967295,o=n+((t=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((n=t+(o<<4&4294967295|o>>>28))^t^i)+r[4]+1272893353&4294967295,s=n+(o<<11&4294967295|o>>>21),o=i+(s^n^t)+r[7]+4139469664&4294967295,o=t+((i=s+(o<<16&4294967295|o>>>16))^s^n)+r[10]+3200236656&4294967295,o=n+((t=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((n=t+(o<<4&4294967295|o>>>28))^t^i)+r[0]+3936430074&4294967295,s=n+(o<<11&4294967295|o>>>21),o=i+(s^n^t)+r[3]+3572445317&4294967295,o=t+((i=s+(o<<16&4294967295|o>>>16))^s^n)+r[6]+76029189&4294967295,o=n+((t=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((n=t+(o<<4&4294967295|o>>>28))^t^i)+r[12]+3873151461&4294967295,s=n+(o<<11&4294967295|o>>>21),o=i+(s^n^t)+r[15]+530742520&4294967295,o=t+((i=s+(o<<16&4294967295|o>>>16))^s^n)+r[2]+3299628645&4294967295,o=n+(i^((t=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(t^((n=t+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=n+(o<<10&4294967295|o>>>22),o=i+(n^(s|~t))+r[14]+2878612391&4294967295,o=t+(s^((i=s+(o<<15&4294967295|o>>>17))|~n))+r[5]+4237533241&4294967295,o=n+(i^((t=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(t^((n=t+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=n+(o<<10&4294967295|o>>>22),o=i+(n^(s|~t))+r[10]+4293915773&4294967295,o=t+(s^((i=s+(o<<15&4294967295|o>>>17))|~n))+r[1]+2240044497&4294967295,o=n+(i^((t=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(t^((n=t+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=n+(o<<10&4294967295|o>>>22),o=i+(n^(s|~t))+r[6]+2734768916&4294967295,o=t+(s^((i=s+(o<<15&4294967295|o>>>17))|~n))+r[13]+1309151649&4294967295,o=n+(i^((t=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(t^((n=t+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=n+(o<<10&4294967295|o>>>22),o=i+(n^(s|~t))+r[2]+718787259&4294967295,o=t+(s^((i=s+(o<<15&4294967295|o>>>17))|~n))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+n&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,n){this.h=n;const t=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==n||(t[i]=o,r=!1)}this.g=t}!function(e,n){function t(){}t.prototype=n.prototype,e.F=n.prototype,e.prototype=new t,e.prototype.constructor=e,e.D=function(e,t,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return n.prototype[t].apply(e,i)}}(n,function(){this.blockSize=-1}),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.v=function(e,n){void 0===n&&(n=e.length);const r=n-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<n;){if(0==o)for(;s<=r;)t(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<n;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){t(this,i),o=0;break}}else for(;s<n;)if(i[o++]=e[s++],o==this.blockSize){t(this,i),o=0;break}}this.h=o,this.o+=n},n.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var n=1;n<e.length-8;++n)e[n]=0;n=8*this.o;for(var t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.v(e),e=Array(16),n=0,t=0;t<4;++t)for(let r=0;r<32;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,n){var t=i;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return p(s(-e));const n=[];let t=1;for(let r=0;e>=t;r++)n[r]=e/t|0,t*=4294967296;return new r(n,0)}var a=o(0),l=o(1),c=o(16777216);function d(e){if(0!=e.h)return!1;for(let n=0;n<e.g.length;n++)if(0!=e.g[n])return!1;return!0}function u(e){return-1==e.h}function p(e){const n=e.g.length,t=[];for(let r=0;r<n;r++)t[r]=~e.g[r];return new r(t,~e.h).add(l)}function h(e,n){return e.add(p(n))}function g(e,n){for(;(65535&e[n])!=e[n];)e[n+1]+=e[n]>>>16,e[n]&=65535,n++}function f(e,n){this.g=e,this.h=n}function m(e,n){if(d(n))throw Error("division by zero");if(d(e))return new f(a,a);if(u(e))return n=m(p(e),n),new f(p(n.g),p(n.h));if(u(n))return n=m(e,p(n)),new f(p(n.g),n.h);if(e.g.length>30){if(u(e)||u(n))throw Error("slowDivide_ only works with positive integers.");for(var t=l,r=n;r.l(e)<=0;)t=b(t),r=b(r);var i=v(t,1),o=v(r,1);for(r=v(r,2),t=v(t,2);!d(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(t),o=c),r=v(r,1),t=v(t,1)}return n=h(e,i.j(n)),new f(i,n)}for(i=a;e.l(n)>=0;){for(t=Math.max(1,Math.floor(e.m()/n.m())),r=(r=Math.ceil(Math.log(t)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(t)).j(n);u(c)||c.l(e)>0;)c=(o=s(t-=r)).j(n);d(o)&&(o=l),i=i.add(o),e=h(e,c)}return new f(i,e)}function b(e){const n=e.g.length+1,t=[];for(let r=0;r<n;r++)t[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(t,e.h)}function v(e,n){const t=n>>5;n%=32;const i=e.g.length-t,o=[];for(let r=0;r<i;r++)o[r]=n>0?e.i(r+t)>>>n|e.i(r+t+1)<<32-n:e.i(r+t);return new r(o,e.h)}(e=r.prototype).m=function(){if(u(this))return-p(this).m();let e=0,n=1;for(let t=0;t<this.g.length;t++){const r=this.i(t);e+=(r>=0?r:4294967296+r)*n,n*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(u(this))return"-"+p(this).toString(e);const n=s(Math.pow(e,6));var t=this;let r="";for(;;){const i=m(t,n).g;let o=(((t=h(t,i.j(n))).g.length>0?t.g[0]:t.h)>>>0).toString(e);if(d(t=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=h(this,e))?-1:d(e)?0:1},e.abs=function(){return u(this)?p(this):this},e.add=function(e){const n=Math.max(this.g.length,e.g.length),t=[];let i=0;for(let r=0;r<=n;r++){let n=i+(65535&this.i(r))+(65535&e.i(r)),o=(n>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,n&=65535,o&=65535,t[r]=o<<16|n}return new r(t,-2147483648&t[t.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return a;if(u(this))return u(e)?p(this).j(p(e)):p(p(this).j(e));if(u(e))return p(this.j(p(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const n=this.g.length+e.g.length,t=[];for(var i=0;i<2*n;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(let n=0;n<e.g.length;n++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(n)>>>16,a=65535&e.i(n);t[2*i+2*n]+=o*a,g(t,2*i+2*n),t[2*i+2*n+1]+=r*a,g(t,2*i+2*n+1),t[2*i+2*n+1]+=o*s,g(t,2*i+2*n+1),t[2*i+2*n+2]+=r*s,g(t,2*i+2*n+2)}for(e=0;e<n;e++)t[e]=t[2*e+1]<<16|t[2*e];for(e=n;e<2*n;e++)t[e]=0;return new r(t,0)},e.B=function(e){return m(this,e).h},e.and=function(e){const n=Math.max(this.g.length,e.g.length),t=[];for(let r=0;r<n;r++)t[r]=this.i(r)&e.i(r);return new r(t,this.h&e.h)},e.or=function(e){const n=Math.max(this.g.length,e.g.length),t=[];for(let r=0;r<n;r++)t[r]=this.i(r)|e.i(r);return new r(t,this.h|e.h)},e.xor=function(e){const n=Math.max(this.g.length,e.g.length),t=[];for(let r=0;r<n;r++)t[r]=this.i(r)^e.i(r);return new r(t,this.h^e.h)},n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Dl=Ll.Md5=n,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(n,t){if(0==n.length)throw Error("number format error: empty string");if((t=t||10)<2||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return p(e(n.substring(1),t));if(n.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(t,8));let i=a;for(let a=0;a<n.length;a+=8){var o=Math.min(8,n.length-a);const e=parseInt(n.substring(a,a+o),t);o<8?(o=s(Math.pow(t,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Pl=Ll.Integer=r}).apply("undefined"!==typeof Ml?Ml:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fl,Nl,Ol,zl,Vl,Bl,Ul,jl,Hl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wl={};(function(){var e,n=Object.defineProperty;var t=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Hl&&Hl];for(var n=0;n<e.length;++n){var t=e[n];if(t&&t.Math==Math)return t}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=t;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&n(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var n,t=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var i=i||{},o=this||self;function s(e){var n=typeof e;return"object"==n&&null!=e||"function"==n}function a(e,n,t){return e.call.apply(e.bind,arguments)}function l(e,n,t){return(l=a).apply(null,arguments)}function c(e,n){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function d(e,n){function t(){}t.prototype=n.prototype,e.Z=n.prototype,e.prototype=new t,e.prototype.constructor=e,e.Ob=function(e,t,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return n.prototype[t].apply(e,i)}}var u="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){const n=e.length;if(n>0){const t=Array(n);for(let r=0;r<n;r++)t[r]=e[r];return t}return[]}function h(e,n){for(let r=1;r<arguments.length;r++){const n=arguments[r];var t=typeof n;if("array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length){t=e.length||0;const r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function g(e){o.setTimeout(()=>{throw e},0)}function f(){var e=y;let n=null;return e.g&&(n=e.g,e.g=e.g.next,e.g||(e.h=null),n.next=null),n}var m=new class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let v,x=!1,y=new class{constructor(){this.h=this.g=null}add(e,n){const t=m.get();t.set(e,n),this.h?this.h.next=t:this.g=t,this.h=t}},w=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=f();){try{e.h.call(e.g)}catch(t){g(t)}var n=m;n.j(e),n.h<100&&(n.h++,e.next=n.g,n.g=e)}x=!1}function k(){this.u=this.u,this.C=this.C}function C(e,n){this.type=e,this.g=this.target=n,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,n),o.removeEventListener("test",e,n)}catch(t){}return e}();function E(e){return/^[\s\xa0]*$/.test(e)}function T(e,n){C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,n)}d(T,C),T.prototype.init=function(e,n){const t=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=n,(n=e.relatedTarget)||("mouseover"==t?n=e.fromElement:"mouseout"==t&&(n=e.toElement)),this.relatedTarget=n,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),_=0;function R(e,n,t,r,i){this.listener=e,this.proxy=null,this.src=n,this.type=t,this.capture=!!r,this.ha=i,this.key=++_,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,n,t){for(const r in e)n.call(t,e[r],r,e)}function M(e){const n={};for(const t in e)n[t]=e[t];return n}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,n){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)e[t]=r[t];for(let n=0;n<L.length;n++)t=L[n],Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}}function N(e){this.src=e,this.g={},this.h=0}function O(e,n){const t=n.type;if(t in e.g){var r,i=e.g[t],o=Array.prototype.indexOf.call(i,n,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(P(n),0==e.g[t].length&&(delete e.g[t],e.h--))}}function z(e,n,t,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==n&&o.capture==!!t&&o.ha==r)return i}return-1}N.prototype.add=function(e,n,t,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=z(e,n,r,i);return s>-1?(n=e[s],t||(n.fa=!1)):((n=new R(n,this.src,o,!!r,i)).fa=t,e.push(n)),n};var V="closure_lm_"+(1e6*Math.random()|0),B={};function U(e,n,t,r,i){if(r&&r.once)return H(e,n,t,r,i);if(Array.isArray(n)){for(let o=0;o<n.length;o++)U(e,n[o],t,r,i);return null}return t=X(t),e&&e[I]?e.J(n,t,s(r)?!!r.capture:!!r,i):j(e,n,t,!1,r,i)}function j(e,n,t,r,i,o){if(!n)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Y(e);if(l||(e[V]=l=new N(e)),(t=l.add(n,t,r,a,o)).proxy)return t;if(r=function(){function e(t){return n.call(e.src,e.listener,t)}const n=K;return e}(),t.proxy=r,r.src=e,r.listener=t,e.addEventListener)A||(i=a),void 0===i&&(i=!1),e.addEventListener(n.toString(),r,i);else if(e.attachEvent)e.attachEvent(G(n.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return t}function H(e,n,t,r,i){if(Array.isArray(n)){for(let o=0;o<n.length;o++)H(e,n[o],t,r,i);return null}return t=X(t),e&&e[I]?e.K(n,t,s(r)?!!r.capture:!!r,i):j(e,n,t,!0,r,i)}function W(e,n,t,r,i){if(Array.isArray(n))for(var o=0;o<n.length;o++)W(e,n[o],t,r,i);else r=s(r)?!!r.capture:!!r,t=X(t),e&&e[I]?(e=e.i,(o=String(n).toString())in e.g&&((t=z(n=e.g[o],t,r,i))>-1&&(P(n[t]),Array.prototype.splice.call(n,t,1),0==n.length&&(delete e.g[o],e.h--)))):e&&(e=Y(e))&&(n=e.g[n.toString()],e=-1,n&&(e=z(n,t,r,i)),(t=e>-1?n[e]:null)&&q(t))}function q(e){if("number"!==typeof e&&e&&!e.da){var n=e.src;if(n&&n[I])O(n.i,e);else{var t=e.type,r=e.proxy;n.removeEventListener?n.removeEventListener(t,r,e.capture):n.detachEvent?n.detachEvent(G(t),r):n.addListener&&n.removeListener&&n.removeListener(r),(t=Y(n))?(O(t,e),0==t.h&&(t.src=null,n[V]=null)):P(e)}}}function G(e){return e in B?B[e]:B[e]="on"+e}function K(e,n){if(e.da)e=!0;else{n=new T(n,this);const t=e.listener,r=e.ha||e.src;e.fa&&q(e),e=t.call(r,n)}return e}function Y(e){return(e=e[V])instanceof N?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Q]||(e[Q]=function(n){return e.handleEvent(n)}),e[Q])}function $(){k.call(this),this.i=new N(this),this.M=this,this.G=null}function J(e,n){var t,r=e.G;if(r)for(t=[];r;r=r.G)t.push(r);if(e=e.M,r=n.type||n,"string"===typeof n)n=new C(n,e);else if(n instanceof C)n.target=n.target||e;else{var i=n;F(n=new C(r,e),i)}let o,s;if(i=!0,t)for(s=t.length-1;s>=0;s--)o=n.g=t[s],i=Z(o,r,!0,n)&&i;if(o=n.g=e,i=Z(o,r,!0,n)&&i,i=Z(o,r,!1,n)&&i,t)for(s=0;s<t.length;s++)o=n.g=t[s],i=Z(o,r,!1,n)&&i}function Z(e,n,t,r){if(!(n=e.i.g[String(n)]))return!0;n=n.concat();let i=!0;for(let o=0;o<n.length;++o){const s=n[o];if(s&&!s.da&&s.capture==t){const n=s.listener,t=s.ha||s.src;s.fa&&O(e.i,s),i=!1!==n.call(t,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,n){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(n)>2147483647?-1:o.setTimeout(e,n||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const n=e.h;e.h=null,e.m.apply(null,n)}d($,k),$.prototype[I]=!0,$.prototype.removeEventListener=function(e,n,t,r){W(this,e,n,t,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const n in e.g){const t=e.g[n];for(let e=0;e<t.length;e++)P(t[e]);delete e.g[n],e.h--}}this.G=null},$.prototype.J=function(e,n,t,r){return this.i.add(String(e),n,!1,t,r)},$.prototype.K=function(e,n,t,r){return this.i.add(String(e),n,!0,t,r)};class ne extends k{constructor(e,n){super(),this.m=e,this.l=n,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(e){k.call(this),this.h=e,this.g={}}d(te,k);var re=[];function ie(e){D(e.g,function(e,n){this.g.hasOwnProperty(n)&&q(e)},e),e.g={}}te.prototype.N=function(){te.Z.N.call(this),ie(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var de={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ue(){C.call(this,"d")}function pe(){C.call(this,"c")}d(ue,C),d(pe,C);var he={},ge=null;function fe(){return ge=ge||new $}function me(e){C.call(this,he.Ia,e)}function be(e){const n=fe();J(n,new me(n))}function ve(e,n){C.call(this,he.STAT_EVENT,e),this.stat=n}function xe(e){const n=fe();J(n,new ve(n,e))}function ye(e,n){C.call(this,he.Ja,e),this.size=n}function we(e,n){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},n)}function Se(){this.g=!0}function ke(e,n,t,r){e.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(e,n){if(!e.g)return n;if(!n)return null;try{const o=JSON.parse(n);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var t=o[e];if(!(t.length<2)){var r=t[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return n}}(e,t)+(r?" "+r:"")})}he.Ia="serverreachability",d(me,C),he.STAT_EVENT="statevent",d(ve,C),he.Ja="timingevent",d(ye,C),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ce,Ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ie(e){return encodeURIComponent(String(e))}function _e(e){var n=1;e=e.split(":");const t=[];for(;n>0&&e.length;)t.push(e.shift()),n--;return e.length&&t.push(e.join(":")),t}function Re(e,n,t,r){this.j=e,this.i=n,this.l=t,this.S=r||1,this.V=new te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}d(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ce=new Te;var De={},Me={};function Le(e,n,t){e.M=1,e.A=sn(en(n)),e.u=t,e.R=!0,Fe(e,null)}function Fe(e,n){e.F=Date.now(),ze(e),e.B=en(e.A);var t=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),yn(t.i,"t",r),e.C=0,t=e.j.L,e.h=new Pe,e.g=st(e.j,t?n:null,!e.u),e.P>0&&(e.O=new ne(l(e.Y,e,e.g),e.P)),n=e.V,t=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=U(t,i[o],r||n.handleEvent,!1,n.h||n);if(!e)break;n.g[e.key]=e}n=e.J?M(e.J):{},e.u?(e.v||(e.v="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,n)):(e.v="GET",e.g.ea(e.B,e.v,null,n)),be(),function(e,n,t,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const n=e.split("_");s=n.length>=2&&"type"==n[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+n+"\n"+t+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Ne(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Oe(e,n){var t=e.C,r=n.indexOf("\n",t);return-1==r?Me:(t=Number(n.substring(t,r)),isNaN(t)?De:(r+=1)+t>n.length?Me:(n=n.slice(r,r+t),e.C=r+t,n))}function ze(e){e.T=Date.now()+e.H,Ve(e,e.H)}function Ve(e,n){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),n)}function Be(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||nt(e.j,e)}function je(e){Be(e);var n=e.O;n&&"function"==typeof n.dispose&&n.dispose(),e.O=null,ie(e.V),e.g&&(n=e.g,e.g=null,n.abort(),n.dispose())}function He(e,n){try{var t=e.j;if(0!=t.I&&(t.g==e||Ye(t.h,e)))if(!e.L&&Ye(t.h,e)&&3==t.I){try{var r=t.Ba.g.parse(n)}catch(d){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.v){if(t.g){if(!(t.g.F+3e3<e.F))break e;et(t),Wn(t)}$n(t),xe(18)}}else t.xa=i[1],0<t.xa-t.K&&i[2]<37500&&t.F&&0==t.A&&!t.C&&(t.C=we(l(t.Va,t),6e3));Ke(t.h)<=1&&t.ta&&(t.ta=void 0)}else rt(t,11)}else if((e.L||t.g==e)&&et(t),!E(n))for(i=t.Ba.g.parse(n),n=0;n<i.length;n++){let l=i[n];const d=l[0];if(!(d<=t.K))if(t.K=d,l=l[1],2==t.I)if("c"==l[0]){t.M=l[1],t.ba=l[2];const n=l[3];null!=n&&(t.ka=n,t.j.info("VER="+t.ka));const i=l[4];null!=i&&(t.za=i,t.j.info("SVER="+t.za));const d=l[5];null!=d&&"number"===typeof d&&d>0&&(r=1.5*d,t.O=r,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qe(o,o.h),o.h=null))}if(r.G){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,on(r.J,r.G,e))}}t.I=3,t.l&&t.l.ra(),t.aa&&(t.T=Date.now()-e.F,t.j.info("Handshake RTT: "+t.T+"ms"));var s=e;if((r=t).na=ot(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Be(a),ze(a)),r.g=s}else Xn(r);t.i.length>0&&Gn(t)}else"stop"!=l[0]&&"close"!=l[0]||rt(t,7);else 3==t.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?rt(t,7):Hn(t):"noop"!=l[0]&&t.l&&t.l.qa(l),t.A=0)}be()}catch(d){}}Re.prototype.ba=function(e){e=e.target;const n=this.O;n&&3==Vn(e)?n.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const l=Vn(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Bn(this.g)))){this.K||4!=l||7==c||be(),Be(this);var n=this.g.ca();this.X=n;var t=function(e){if(!Ne(e))return e.g.la();const n=Bn(e.g);if(""===n)return"";let t="";const r=n.length,i=4==Vn(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return je(e),Ue(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,t+=e.h.i.decode(n[o],{stream:!(i&&o==r-1)});return n.length=0,e.h.g+=t,e.C=0,e.h.g}(this);if(this.o=200==n,function(e,n,t,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+n+"\n"+t+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,n),this.o){if(this.U&&!this.L){n:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(r)){var s=r;break n}}s=null}if(!(e=s)){this.o=!1,this.m=3,xe(12),je(this),Ue(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let n;for(e=!0;!this.K&&this.C<t.length;){if(n=Oe(this,t),n==Me){4==l&&(this.m=4,xe(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(n==De){this.m=4,xe(15),ke(this.i,this.l,t,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,n,null),He(this,n)}if(Ne(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=t.length||this.h.h||(this.m=1,xe(16),e=!1),this.o=this.o&&e,e){if(t.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Jn(a),a.P=!0,xe(11))}}else ke(this.i,this.l,t,"[Invalid Chunked Response]"),je(this),Ue(this)}else ke(this.i,this.l,t,null),He(this,t);4==l&&je(this),this.o&&!this.K&&(4==l?nt(this.j,this):(this.o=!1,ze(this)))}else(function(e){const n={};e=(e.g&&Vn(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(E(e[r]))continue;var t=_e(e[r]);const i=t[0];if("string"!==typeof(t=t[1]))continue;t=t.trim();const o=n[i]||[];n[i]=o,o.push(t)}!function(e,n){for(const t in e)n.call(void 0,e[t],t,e)}(n,function(e){return e.join(", ")})})(this.g),400==n&&t.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),je(this),Ue(this)}}}catch(Cc){}},Re.prototype.cancel=function(){this.K=!0,je(this)},Re.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,n){e.info(function(){return"TIMEOUT: "+n})}(this.i,this.B),2!=this.M&&(be(),xe(17)),je(this),this.m=2,Ue(this)):Ve(this,this.T-e)};var We=class{constructor(e,n){this.g=e,this.map=n}};function qe(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Ye(e,n){return e.h?e.h==n:!!e.g&&e.g.has(n)}function Qe(e,n){e.g?e.g.add(n):e.h=n}function Xe(e,n){e.h&&e.h==n?e.h=null:e.g&&e.g.has(n)&&e.g.delete(n)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let n=e.i;for(const t of e.g.values())n=n.concat(t.G);return n}return p(e.i)}qe.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let n;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,nn(this,e.j),this.o=e.o,this.g=e.g,tn(this,e.u),this.h=e.h,rn(this,wn(e.i)),this.m=e.m):e&&(n=String(e).match(Je))?(this.l=!1,nn(this,n[1]||"",!0),this.o=an(n[2]||""),this.g=an(n[3]||"",!0),tn(this,n[4]),this.h=an(n[5]||"",!0),rn(this,n[6]||"",!0),this.m=an(n[7]||"")):(this.l=!1,this.i=new fn(null,this.l))}function en(e){return new Ze(e)}function nn(e,n,t){e.j=t?an(n,!0):n,e.j&&(e.j=e.j.replace(/:$/,""))}function tn(e,n){if(n){if(n=Number(n),isNaN(n)||n<0)throw Error("Bad port number "+n);e.u=n}else e.u=null}function rn(e,n,t){n instanceof fn?(e.i=n,function(e,n){n&&!e.j&&(mn(e),e.i=null,e.g.forEach(function(e,n){const t=n.toLowerCase();n!=t&&(bn(this,n),yn(this,t,e))},e)),e.j=n}(e.i,e.l)):(t||(n=ln(n,hn)),e.i=new fn(n,e.l))}function on(e,n,t){e.i.set(n,t)}function sn(e){return on(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function an(e,n){return e?n?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ln(e,n,t){return"string"===typeof e?(e=encodeURI(e).replace(n,cn),t&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var n=this.j;n&&e.push(ln(n,dn,!0),":");var t=this.g;return(t||"file"==n)&&(e.push("//"),(n=this.o)&&e.push(ln(n,dn,!0),"@"),e.push(Ie(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.u)&&e.push(":",String(t))),(t=this.h)&&(this.g&&"/"!=t.charAt(0)&&e.push("/"),e.push(ln(t,"/"==t.charAt(0)?pn:un,!0))),(t=this.i.toString())&&e.push("?",t),(t=this.m)&&e.push("#",ln(t,gn)),e.join("")},Ze.prototype.resolve=function(e){const n=en(this);let t=!!e.j;t?nn(n,e.j):t=!!e.o,t?n.o=e.o:t=!!e.g,t?n.g=e.g:t=null!=e.u;var r=e.h;if(t)tn(n,e.u);else if(t=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=n.h.lastIndexOf("/");-1!=i&&(r=n.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let n=0;n<i.length;){const t=i[n++];"."==t?r&&n==i.length&&e.push(""):".."==t?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&n==i.length&&e.push("")):(e.push(t),r=!0)}r=e.join("/")}else r=i}return t?n.h=r:t=""!==e.i.toString(),t?rn(n,wn(e.i)):t=!!e.m,t&&(n.m=e.m),n};var dn=/[#\/\?@]/g,un=/[#\?:]/g,pn=/[#\?]/g,hn=/[#\?@]/g,gn=/#/g;function fn(e,n){this.h=this.g=null,this.i=e||null,this.j=!!n}function mn(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,n){if(e){e=e.split("&");for(let t=0;t<e.length;t++){const r=e[t].indexOf("=");let i,o=null;r>=0?(i=e[t].substring(0,r),o=e[t].substring(r+1)):i=e[t],n(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(n,t){e.add(decodeURIComponent(n.replace(/\+/g," ")),t)}))}function bn(e,n){mn(e),n=Sn(e,n),e.g.has(n)&&(e.i=null,e.h-=e.g.get(n).length,e.g.delete(n))}function vn(e,n){return mn(e),n=Sn(e,n),e.g.has(n)}function xn(e,n){mn(e);let t=[];if("string"===typeof n)vn(e,n)&&(t=t.concat(e.g.get(Sn(e,n))));else for(e=Array.from(e.g.values()),n=0;n<e.length;n++)t=t.concat(e[n]);return t}function yn(e,n,t){bn(e,n),t.length>0&&(e.i=null,e.g.set(Sn(e,n),p(t)),e.h+=t.length)}function wn(e){const n=new fn;return n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),n}function Sn(e,n){return n=String(n),e.j&&(n=n.toLowerCase()),n}function kn(e,n,t,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(t)}catch(o){}}function Cn(){this.g=new ae}function An(e){this.i=e.Sb||null,this.h=e.ab||!1}function En(e,n){$.call(this),this.H=e,this.o=n,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function In(e){e.readyState=4,e.l=null,e.j=null,e.B=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rn(e){let n="";return D(e,function(e,t){n+=t,n+=":",n+=e,n+="\r\n"}),n}function Pn(e,n,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Rn(t),"string"===typeof e?null!=t&&Ie(t):on(e,n,t))}function Dn(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=fn.prototype).add=function(e,n){mn(this),this.i=null,e=Sn(this,e);let t=this.g.get(e);return t||this.g.set(e,t=[]),t.push(n),this.h+=1,this},e.forEach=function(e,n){mn(this),this.g.forEach(function(t,r){t.forEach(function(t){e.call(n,t,r,this)},this)},this)},e.set=function(e,n){return mn(this),this.i=null,vn(this,e=Sn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[n]),this.h+=1,this},e.get=function(e,n){return e&&(e=xn(this,e)).length>0?String(e[0]):n},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],n=Array.from(this.g.keys());for(let r=0;r<n.length;r++){var t=n[r];const i=Ie(t);t=xn(this,t);for(let n=0;n<t.length;n++){let r=i;""!==t[n]&&(r+="="+Ie(t[n])),e.push(r)}}return this.i=e.join("&")},d(An,le),An.prototype.g=function(){return new En(this.i,this.h)},d(En,$),(e=En.prototype).open=function(e,n){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=n,this.readyState=1,_n(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const n={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(n.body=e),(this.H||o).fetch(new Request(this.D,n)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,In(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var n=e.value?e.value:new Uint8Array(0);(n=this.B.decode(n,{stream:!e.done}))&&(this.response=this.responseText+=n)}e.done?In(this):_n(this),3==this.readyState&&Tn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,In(this))},e.Na=function(e){this.g&&(this.response=e,In(this))},e.ga=function(){this.g&&In(this)},e.setRequestHeader=function(e,n){this.A.append(e,n)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],n=this.h.entries();for(var t=n.next();!t.done;)t=t.value,e.push(t[0]+": "+t[1]),t=n.next();return e.join("\r\n")},Object.defineProperty(En.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Dn,$);var Mn=/^https?$/i,Ln=["POST","PUT"];function Fn(e,n){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=n,e.o=5,Nn(e),zn(e)}function Nn(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function On(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Vn(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Vn(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var t;if(!(t=n)){var r;if(r=0===i){let n=String(e.D).match(Je)[1]||null;!n&&o.self&&o.self.location&&(n=o.self.location.protocol.slice(0,-1)),r=!Mn.test(n?n.toLowerCase():"")}t=r}if(t)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=Vn(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Nn(e)}}finally{zn(e)}}}function zn(e,n){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,n||J(e,"ready");try{r.onreadystatechange=null}catch(t){}}}function Vn(e){return e.g?e.g.readyState:0}function Bn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Un(e,n,t){return t&&t.internalChannelParams&&t.internalChannelParams[e]||n}function jn(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Un("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Un("baseRetryDelayMs",5e3,e),this.Za=Un("retryDelaySeedMs",1e4,e),this.Ta=Un("forwardChannelMaxRetries",2,e),this.va=Un("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new Cn,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Hn(e){if(qn(e),3==e.I){var n=e.V++,t=en(e.J);if(on(t,"SID",e.M),on(t,"RID",n),on(t,"TYPE","terminate"),Yn(e,t),(n=new Re(e,e.j,n)).M=2,n.A=sn(en(t)),t=!1,o.navigator&&o.navigator.sendBeacon)try{t=o.navigator.sendBeacon(n.A.toString(),"")}catch(r){}!t&&o.Image&&((new Image).src=n.A,t=!0),t||(n.g=st(n.j,null),n.g.ea(n.A)),n.F=Date.now(),ze(n)}it(e)}function Wn(e){e.g&&(Jn(e),e.g.cancel(),e.g=null)}function qn(e){Wn(e),e.v&&(o.clearTimeout(e.v),e.v=null),et(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Gn(e){if(!Ge(e.h)&&!e.m){e.m=!0;var n=e.Ea;v||w(),x||(v(),x=!0),y.add(n,e),e.D=0}}function Kn(e,n){var t;t=n?n.l:e.V++;const r=en(e.J);on(r,"SID",e.M),on(r,"RID",t),on(r,"AID",e.K),Yn(e,r),e.u&&e.o&&Pn(r,e.u,e.o),t=new Re(e,e.j,t,e.D+1),null===e.u&&(t.J=e.o),n&&(e.i=n.G.concat(e.i)),n=Qn(e,t,1e3),t.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,t),Le(t,r,n)}function Yn(e,n){e.H&&D(e.H,function(e,t){on(n,t,e)}),e.l&&D({},function(e,t){on(n,t,e)})}function Qn(e,n,t){t=Math.min(e.i.length,t);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let n=-1;for(;;){const e=["count="+t];-1==n?t>0?(n=i[0].g,e.push("ofs="+n)):n=0:e.push("ofs="+n);let l=!0;for(let c=0;c<t;c++){var o=i[c].g;const t=i[c].map;if((o-=n)<0)n=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=t instanceof Map?t:Object.entries(t);for(const[n,t]of a){let r=t;s(t)&&(r=oe(t)),e.push(o+n+"="+encodeURIComponent(r))}}catch(Gl){throw e.push(o+"type="+encodeURIComponent("_badmap")),Gl}}catch(Gl){r&&r(t)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,t),n.G=e,a}function Xn(e){if(!e.g&&!e.v){e.Y=1;var n=e.Da;v||w(),x||(v(),x=!0),y.add(n,e),e.A=0}}function $n(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),tt(e,e.A)),e.A++,!0)}function Jn(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Zn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var n=en(e.na);on(n,"RID","rpc"),on(n,"SID",e.M),on(n,"AID",e.K),on(n,"CI",e.F?"0":"1"),!e.F&&e.ia&&on(n,"TO",e.ia),on(n,"TYPE","xmlhttp"),Yn(e,n),e.u&&e.o&&Pn(n,e.u,e.o),e.O&&(e.g.H=e.O);var t=e.g;e=e.ba,t.M=1,t.A=sn(en(n)),t.u=null,t.R=!0,Fe(t,e)}function et(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function nt(e,n){var t=null;if(e.g==n){et(e),Jn(e),e.g=null;var r=2}else{if(!Ye(e.h,n))return;t=n.G,Xe(e.h,n),r=1}if(0!=e.I)if(n.o)if(1==r){t=n.u?n.u.length:0,n=Date.now()-n.F;var i=e.D;J(r=fe(),new ye(r,t)),Gn(e)}else Xn(e);else if(3==(i=n.m)||0==i&&n.X>0||!(1==r&&function(e,n){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=n.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,n),tt(e,e.D)),e.D++,!0))}(e,n)||2==r&&$n(e)))switch(t&&t.length>0&&(n=e.h,n.i=n.i.concat(t)),i){case 1:rt(e,5);break;case 4:rt(e,10);break;case 3:rt(e,6);break;default:rt(e,2)}}function tt(e,n){let t=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(t*=2),t*n}function rt(e,n){if(e.j.info("Error code "+n),2==n){var t=l(e.bb,e),r=e.Ua;const n=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||nn(r,"https"),sn(r),n?function(e,n){const t=new Se;if(o.Image){const r=new Image;r.onload=c(kn,t,"TestLoadImage: loaded",!0,n,r),r.onerror=c(kn,t,"TestLoadImage: error",!1,n,r),r.onabort=c(kn,t,"TestLoadImage: abort",!1,n,r),r.ontimeout=c(kn,t,"TestLoadImage: timeout",!1,n,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else n(!1)}(r.toString(),t):function(e,n){new Se;const t=new AbortController,r=setTimeout(()=>{t.abort(),kn(0,0,!1,n)},1e4);fetch(e,{signal:t.signal}).then(e=>{clearTimeout(r),e.ok?kn(0,0,!0,n):kn(0,0,!1,n)}).catch(()=>{clearTimeout(r),kn(0,0,!1,n)})}(r.toString(),t)}else xe(2);e.I=0,e.l&&e.l.pa(n),it(e),qn(e)}function it(e){if(e.I=0,e.ja=[],e.l){const n=$e(e.h);0==n.length&&0==e.i.length||(h(e.ja,n),h(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function ot(e,n,t){var r=t instanceof Ze?en(t):new Ze(t);if(""!=r.g)n&&(r.g=n+"."+r.g),tn(r,r.u);else{var i=o.location;r=i.protocol,n=n?n+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&nn(e,r),n&&(e.g=n),i&&tn(e,i),t&&(e.h=t),r=e}return t=e.G,n=e.wa,t&&n&&on(r,t,n),on(r,"VER",e.ka),Yn(e,r),r}function st(e,n,t){if(n&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(n=e.Aa&&!e.ma?new Dn(new An({ab:t})):new Dn(e.ma)).Fa(e.L),n}function at(){}function lt(){}function ct(e,n){$.call(this),this.g=new jn(n),this.l=e,this.h=n&&n.messageUrlParams||null,e=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(e?e["X-WebChannel-Content-Type"]=n.messageContentType:e={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.sa&&(e?e["X-WebChannel-Client-Profile"]=n.sa:e={"X-WebChannel-Client-Profile":n.sa}),this.g.U=e,(e=n&&n.Qb)&&!E(e)&&(this.g.u=e),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!E(n)&&(this.g.G=n,null!==(e=this.h)&&n in e&&(n in(e=this.h)&&delete e[n])),this.j=new pt(this)}function dt(e){ue.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var n=e.__sm__;if(n){e:{for(const t in n){e=t;break e}e=void 0}(this.i=e)&&(e=this.i,n=null!==n&&e in n?n[e]:void 0),this.data=n}else this.data=e}function ut(){pe.call(this),this.status=1}function pt(e){this.g=e}(e=Dn.prototype).Fa=function(e){this.H=e},e.ea=function(e,n,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ce.g(),this.g.onreadystatechange=u(l(this.Ca,this));try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(s){return void Fn(this,s)}if(e=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())t.set(e,r.get(e))}r=Array.from(t.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Ln,n,void 0)>=0)||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of t)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Fn(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),zn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),Dn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?On(this):this.Xa())},e.Xa=function(){On(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Vn(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var n=this.g.responseText;return e&&0==n.indexOf(e)&&(n=n.substring(e.length)),se(n)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=jn.prototype).ka=8,e.I=1,e.connect=function(e,n,t,r){xe(0),this.W=e,this.H=n||{},t&&void 0!==r&&(this.H.OSID=t,this.H.OAID=r),this.F=this.X,this.J=ot(this,null,this.W),Gn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Re(this,this.j,e);let o=this.o;if(this.U&&(o?(o=M(o),F(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var n=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((n+=r)>4096){n=t;break e}if(4096===n||t===this.i.length-1){n=t+1;break e}}n=1e3}else n=1e3;n=Qn(this,i,n),on(t=en(this.J),"RID",e),on(t,"CVER",22),this.G&&on(t,"X-HTTP-Session-Id",this.G),Yn(this,t),o&&(this.R?n="headers="+Ie(Rn(o))+"&"+n:this.u&&Pn(t,this.u,o)),Qe(this.h,i),this.Ra&&on(t,"TYPE","init"),this.S?(on(t,"$req",n),on(t,"SID","null"),i.U=!0,Le(i,t,null)):Le(i,t,n),this.I=2}}else 3==this.I&&(e?Kn(this,e):0==this.i.length||Ge(this.h)||Kn(this))},e.Da=function(){if(this.v=null,Zn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Wn(this),Zn(this))},e.Va=function(){null!=this.C&&(this.C=null,Wn(this),$n(this),xe(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=at.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},lt.prototype.g=function(e,n){return new ct(e,n)},d(ct,$),ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ct.prototype.close=function(){Hn(this.g)},ct.prototype.o=function(e){var n=this.g;if("string"===typeof e){var t={};t.__data__=e,e=t}else this.v&&((t={}).__data__=oe(e),e=t);n.i.push(new We(n.Ya++,e)),3==n.I&&Gn(n)},ct.prototype.N=function(){this.g.l=null,delete this.j,Hn(this.g),delete this.g,ct.Z.N.call(this)},d(dt,ue),d(ut,pe),d(pt,at),pt.prototype.ra=function(){J(this.g,"a")},pt.prototype.qa=function(e){J(this.g,new dt(e))},pt.prototype.pa=function(e){J(this.g,new ut)},pt.prototype.oa=function(){J(this.g,"b")},lt.prototype.createWebChannel=lt.prototype.g,ct.prototype.send=ct.prototype.o,ct.prototype.open=ct.prototype.m,ct.prototype.close=ct.prototype.close,jl=Wl.createWebChannelTransport=function(){return new lt},Ul=Wl.getStatEventTarget=function(){return fe()},Bl=Wl.Event=he,Vl=Wl.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,zl=Wl.ErrorCode=Ae,Ee.COMPLETE="complete",Ol=Wl.EventType=Ee,ce.EventType=de,de.OPEN="a",de.CLOSE="b",de.ERROR="c",de.MESSAGE="d",$.prototype.listen=$.prototype.J,Nl=Wl.WebChannel=ce,Wl.FetchXmlHttpFactory=An,Dn.prototype.listenOnce=Dn.prototype.K,Dn.prototype.getLastError=Dn.prototype.Ha,Dn.prototype.getLastErrorCode=Dn.prototype.ya,Dn.prototype.getStatus=Dn.prototype.ca,Dn.prototype.getResponseJson=Dn.prototype.La,Dn.prototype.getResponseText=Dn.prototype.la,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Fa,Fl=Wl.XhrIo=Dn}).apply("undefined"!==typeof Hl?Hl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ql="@firebase/firestore",Gl="4.9.2";class Kl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kl.UNAUTHENTICATED=new Kl(null),Kl.GOOGLE_CREDENTIALS=new Kl("google-credentials-uid"),Kl.FIRST_PARTY=new Kl("first-party-uid"),Kl.MOCK_USER=new Kl("mock-user");let Yl="12.3.0";const Ql=new bt("@firebase/firestore");function Xl(){return Ql.logLevel}function $l(e){if(Ql.logLevel<=pt.DEBUG){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];const i=t.map(ec);Ql.debug("Firestore (".concat(Yl,"): ").concat(e),...i)}}function Jl(e){if(Ql.logLevel<=pt.ERROR){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];const i=t.map(ec);Ql.error("Firestore (".concat(Yl,"): ").concat(e),...i)}}function Zl(e){if(Ql.logLevel<=pt.WARN){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];const i=t.map(ec);Ql.warn("Firestore (".concat(Yl,"): ").concat(e),...i)}}function ec(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(n){return e}}function nc(e,n,t){let r="Unexpected state";"string"==typeof n?r=n:t=n,tc(e,r,t)}function tc(e,n,t){let r="FIRESTORE (".concat(Yl,") INTERNAL ASSERTION FAILED: ").concat(n," (ID: ").concat(e.toString(16),")");if(void 0!==t)try{r+=" CONTEXT: "+JSON.stringify(t)}catch(e){r+=" CONTEXT: "+t}throw Jl(r),new Error(r)}function rc(e,n,t,r){let i="Unexpected state";"string"==typeof t?i=t:r=t,e||tc(n,i,r)}function ic(e,n){return e}const oc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sc extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ac{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class lc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class cc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kl.UNAUTHENTICATED))}shutdown(){}}class dc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uc{constructor(e){this.t=e,this.currentUser=Kl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rc(void 0===this.o,42304);let t=this.i;const r=e=>this.i!==t?(t=this.i,n(e)):Promise.resolve();let i=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ac,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const n=i;e.enqueueRetryable(async()=>{await n.promise,await r(this.currentUser)})},s=e=>{$l("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):($l("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ac)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(n=>this.i!==e?($l("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(rc("string"==typeof n.accessToken,31837,{l:n}),new lc(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rc(null===e||"string"==typeof e,2055,{h:e}),new Kl(e)}}class pc{constructor(e,n,t){this.P=e,this.T=n,this.I=t,this.type="FirstParty",this.user=Kl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hc{constructor(e,n,t){this.P=e,this.T=n,this.I=t}getToken(){return Promise.resolve(new pc(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fc{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rc(void 0===this.o,3512);const t=e=>{null!=e.error&&$l("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const t=e.token!==this.m;return this.m=e.token,$l("FirebaseAppCheckTokenProvider","Received ".concat(t?"new":"existing"," token.")),t?n(e.token):Promise.resolve()};this.o=n=>{e.enqueueRetryable(()=>t(n))};const r=e=>{$l("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):$l("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gc(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(rc("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new gc(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mc(e){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(e);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(t);else for(let r=0;r<e;r++)t[r]=Math.floor(256*Math.random());return t}class bc{static newId(){const e=62*Math.floor(256/62);let n="";for(;n.length<20;){const t=mc(40);for(let r=0;r<t.length;++r)n.length<20&&t[r]<e&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(t[r]%62))}return n}}function vc(e,n){return e<n?-1:e>n?1:0}function xc(e,n){const t=Math.min(e.length,n.length);for(let r=0;r<t;r++){const t=e.charAt(r),i=n.charAt(r);if(t!==i)return Sc(t)===Sc(i)?vc(t,i):Sc(t)?1:-1}return vc(e.length,n.length)}const yc=55296,wc=57343;function Sc(e){const n=e.charCodeAt(0);return n>=yc&&n<=wc}function kc(e,n,t){return e.length===n.length&&e.every((e,r)=>t(e,n[r]))}const Cc="__name__";class Ac{constructor(e,n,t){void 0===n?n=0:n>e.length&&nc(637,{offset:n,range:e.length}),void 0===t?t=e.length-n:t>e.length-n&&nc(1746,{length:t,range:e.length-n}),this.segments=e,this.offset=n,this.len=t}get length(){return this.len}isEqual(e){return 0===Ac.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ac?e.forEach(e=>{n.push(e)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,t=this.limit();n<t;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const t=Math.min(e.length,n.length);for(let r=0;r<t;r++){const t=Ac.compareSegments(e.get(r),n.get(r));if(0!==t)return t}return vc(e.length,n.length)}static compareSegments(e,n){const t=Ac.isNumericId(e),r=Ac.isNumericId(n);return t&&!r?-1:!t&&r?1:t&&r?Ac.extractNumericId(e).compare(Ac.extractNumericId(n)):xc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pl.fromString(e.substring(4,e.length-2))}}class Ec extends Ac{construct(e,n,t){return new Ec(e,n,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(const i of t){if(i.indexOf("//")>=0)throw new sc(oc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ec(e)}static emptyPath(){return new Ec([])}}const Tc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ic extends Ac{construct(e,n,t){return new Ic(e,n,t)}static isValidIdentifier(e){return Tc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ic.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Cc}static keyField(){return new Ic([Cc])}static fromServerFormat(e){const n=[];let t="",r=0;const i=()=>{if(0===t.length)throw new sc(oc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(t),t=""};let o=!1;for(;r<e.length;){const n=e[r];if("\\"===n){if(r+1===e.length)throw new sc(oc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const n=e[r+1];if("\\"!==n&&"."!==n&&"`"!==n)throw new sc(oc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);t+=n,r+=2}else"`"===n?(o=!o,r++):"."!==n||o?(t+=n,r++):(i(),r++)}if(i(),o)throw new sc(oc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ic(n)}static emptyPath(){return new Ic([])}}class _c{constructor(e){this.path=e}static fromPath(e){return new _c(Ec.fromString(e))}static fromName(e){return new _c(Ec.fromString(e).popFirst(5))}static empty(){return new _c(Ec.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ec.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ec.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _c(new Ec(e.slice()))}}function Rc(e,n,t){if(!t)throw new sc(oc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(n,"."))}function Pc(e){if(!_c.isDocumentKey(e))throw new sc(oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dc(e){if(_c.isDocumentKey(e))throw new sc(oc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mc(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Lc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=function(e){return e.constructor?e.constructor.name:null}(e);return n?"a custom ".concat(n," object"):"an object"}}return"function"==typeof e?"a function":nc(12329,{type:typeof e})}function Fc(e,n){if("_delegate"in e&&(e=e._delegate),!(e instanceof n)){if(n.name===e.constructor.name)throw new sc(oc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lc(e);throw new sc(oc.INVALID_ARGUMENT,"Expected type '".concat(n.name,"', but it was: ").concat(t))}}return e}function Nc(e,n){const t={typeString:e};return n&&(t.value=n),t}function Oc(e,n){if(!Mc(e))throw new sc(oc.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in n)if(n[r]){const i=n[r].typeString,o="value"in n[r]?{value:n[r].value}:void 0;if(!(r in e)){t="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){t="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){t="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(t)throw new sc(oc.INVALID_ARGUMENT,t);return!0}const zc=-62135596800,Vc=1e6;class Bc{static now(){return Bc.fromMillis(Date.now())}static fromDate(e){return Bc.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),t=Math.floor((e-1e3*n)*Vc);return new Bc(n,t)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new sc(oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new sc(oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zc)throw new sc(oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sc(oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vc}_compareTo(e){return this.seconds===e.seconds?vc(this.nanoseconds,e.nanoseconds):vc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bc._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,Bc._jsonSchema))return new Bc(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bc._jsonSchemaVersion="firestore/timestamp/1.0",Bc._jsonSchema={type:Nc("string",Bc._jsonSchemaVersion),seconds:Nc("number"),nanoseconds:Nc("number")};class Uc{static fromTimestamp(e){return new Uc(e)}static min(){return new Uc(new Bc(0,0))}static max(){return new Uc(new Bc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jc=-1;class Hc{constructor(e,n,t,r){this.indexId=e,this.collectionGroup=n,this.fields=t,this.indexState=r}}Hc.UNKNOWN_ID=-1;function Wc(e,n){const t=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Uc.fromTimestamp(1e9===r?new Bc(t+1,0):new Bc(t,r));return new Gc(i,_c.empty(),n)}function qc(e){return new Gc(e.readTime,e.key,jc)}class Gc{constructor(e,n,t){this.readTime=e,this.documentKey=n,this.largestBatchId=t}static min(){return new Gc(Uc.min(),_c.empty(),jc)}static max(){return new Gc(Uc.max(),_c.empty(),jc)}}function Kc(e,n){let t=e.readTime.compareTo(n.readTime);return 0!==t?t:(t=_c.comparator(e.documentKey,n.documentKey),0!==t?t:vc(e.largestBatchId,n.largestBatchId))}const Yc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Xc(e){if(e.code!==oc.FAILED_PRECONDITION||e.message!==Yc)throw e;$l("LocalStore","Unexpectedly lost primary lease")}class $c{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nc(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $c((t,r)=>{this.nextCallback=n=>{this.wrapSuccess(e,n).next(t,r)},this.catchCallback=e=>{this.wrapFailure(n,e).next(t,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $c?n:$c.resolve(n)}catch(e){return $c.reject(e)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$c.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$c.reject(n)}static resolve(e){return new $c((n,t)=>{n(e)})}static reject(e){return new $c((n,t)=>{t(e)})}static waitFor(e){return new $c((n,t)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&n()},e=>t(e))}),o=!0,i===r&&n()})}static or(e){let n=$c.resolve(!1);for(const t of e)n=n.next(e=>e?$c.resolve(e):t());return n}static forEach(e,n){const t=[];return e.forEach((e,r)=>{t.push(n.call(this,e,r))}),this.waitFor(t)}static mapArray(e,n){return new $c((t,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;n(e[l]).next(e=>{o[l]=e,++s,s===i&&t(o)},e=>r(e))}})}static doWhile(e,n){return new $c((t,r)=>{const i=()=>{!0===e()?n().next(()=>{i()},r):t()};i()})}}function Jc(e){const n=e.match(/Android ([\d.]+)/i),t=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zc(e){return"IndexedDbTransactionError"===e.name}class ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>n.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ed.ce=-1;const nd=-1;function td(e){return null==e}function rd(e){return 0===e&&1/e==-1/0}function id(e){return"number"==typeof e&&Number.isInteger(e)&&!rd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const od="\x01";function sd(e){let n="";for(let t=0;t<e.length;t++)n.length>0&&(n=ld(n)),n=ad(e.get(t),n);return ld(n)}function ad(e,n){let t=n;const r=e.length;for(let i=0;i<r;i++){const n=e.charAt(i);switch(n){case"\0":t+="\x01\x10";break;case od:t+="\x01\x11";break;default:t+=n}}return t}function ld(e){return e+od+"\x01"}const cd="remoteDocuments",dd="owner",ud="mutationQueues",pd="mutations";const hd="documentMutations",gd="remoteDocumentsV14",fd="remoteDocumentGlobal",md="targets",bd="targetDocuments",vd="targetGlobal",xd="collectionParents",yd="clientMetadata",wd="bundles",Sd="namedQueries",kd="indexConfiguration",Cd="indexState",Ad="indexEntries",Ed="documentOverlays",Td="globals",Id=[ud,pd,hd,cd,md,dd,vd,bd,yd,fd,xd,wd,Sd],_d=[ud,pd,hd,gd,md,dd,vd,bd,yd,fd,xd,wd,Sd,Ed],Rd=_d,Pd=[...Rd,kd,Cd,Ad];function Dd(e){let n=0;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function Md(e,n){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])}function Ld(e){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}class Fd{constructor(e,n){this.comparator=e,this.root=n||Od.EMPTY}insert(e,n){return new Fd(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Od.BLACK,null,null))}remove(e){return new Fd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Od.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const t=this.comparator(e,n.key);if(0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}indexOf(e){let n=0,t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return n+t.left.size;r<0?t=t.left:(n+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,t)=>(e(n,t),!1))}toString(){const e=[];return this.inorderTraversal((n,t)=>(e.push("".concat(n,":").concat(t)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,t,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?t(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Od{constructor(e,n,t,r,i){this.key=e,this.value=n,this.color=null!=t?t:Od.RED,this.left=null!=r?r:Od.EMPTY,this.right=null!=i?i:Od.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,t,r,i){return new Od(null!=e?e:this.key,null!=n?n:this.value,null!=t?t:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,t){let r=this;const i=t(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,t),null):0===i?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,t)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Od.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let t,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return Od.EMPTY;t=r.right.min(),r=r.copy(t.key,t.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Od.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Od.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nc(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nc(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nc(27949);return e+(this.isRed()?0:1)}}Od.EMPTY=null,Od.RED=!0,Od.BLACK=!1,Od.EMPTY=new class{constructor(){this.size=0}get key(){throw nc(57766)}get value(){throw nc(16141)}get color(){throw nc(16727)}get left(){throw nc(29726)}get right(){throw nc(36894)}copy(e,n,t,r,i){return this}insert(e,n,t){return new Od(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zd{constructor(e){this.comparator=e,this.data=new Fd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,t)=>(e(n),!1))}forEachInRange(e,n){const t=this.data.getIteratorFrom(e[0]);for(;t.hasNext();){const r=t.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let t;for(t=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();t.hasNext();)if(!e(t.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vd(this.data.getIterator())}getIteratorFrom(e){return new Vd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(e=>{n=n.add(e)}),n}isEqual(e){if(!(e instanceof zd))return!1;if(this.size!==e.size)return!1;const n=this.data.getIterator(),t=e.data.getIterator();for(;n.hasNext();){const e=n.getNext().key,r=t.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zd(this.comparator);return n.data=e,n}}class Vd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bd{constructor(e){this.fields=e,e.sort(Ic.comparator)}static empty(){return new Bd([])}unionWith(e){let n=new zd(Ic.comparator);for(const t of this.fields)n=n.add(t);for(const t of e)n=n.add(t);return new Bd(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kc(this.fields,e.fields,(e,n)=>e.isEqual(n))}}class Ud extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jd{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ud("Invalid base64 string: "+e):e}}(e);return new jd(n)}static fromUint8Array(e){const n=function(e){let n="";for(let t=0;t<e.length;++t)n+=String.fromCharCode(e[t]);return n}(e);return new jd(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jd.EMPTY_BYTE_STRING=new jd("");const Hd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wd(e){if(rc(!!e,39018),"string"==typeof e){let n=0;const t=Hd.exec(e);if(rc(!!t,46558,{timestamp:e}),t[1]){let e=t[1];e=(e+"000000000").substr(0,9),n=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:qd(e.seconds),nanos:qd(e.nanos)}}function qd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gd(e){return"string"==typeof e?jd.fromBase64String(e):jd.fromUint8Array(e)}const Kd="server_timestamp",Yd="__type__",Qd="__previous_value__",Xd="__local_write_time__";function $d(e){var n,t;return(null===(n=((null===e||void 0===e||null===(t=e.mapValue)||void 0===t?void 0:t.fields)||{})[Yd])||void 0===n?void 0:n.stringValue)===Kd}function Jd(e){const n=e.mapValue.fields[Qd];return $d(n)?Jd(n):n}function Zd(e){const n=Wd(e.mapValue.fields[Xd].timestampValue);return new Bc(n.seconds,n.nanos)}class eu{constructor(e,n,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=t,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const nu="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||nu}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===nu}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const ru="__type__",iu="__max__",ou={mapValue:{fields:{__type__:{stringValue:iu}}}},su="__vector__",au="value";function lu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$d(e)?4:Au(e)?9007199254740991:ku(e)?10:11:nc(28295,{value:e})}function cu(e,n){if(e===n)return!0;const t=lu(e);if(t!==lu(n))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===n.booleanValue;case 4:return Zd(e).isEqual(Zd(n));case 3:return function(e,n){if("string"==typeof e.timestampValue&&"string"==typeof n.timestampValue&&e.timestampValue.length===n.timestampValue.length)return e.timestampValue===n.timestampValue;const t=Wd(e.timestampValue),r=Wd(n.timestampValue);return t.seconds===r.seconds&&t.nanos===r.nanos}(e,n);case 5:return e.stringValue===n.stringValue;case 6:return function(e,n){return Gd(e.bytesValue).isEqual(Gd(n.bytesValue))}(e,n);case 7:return e.referenceValue===n.referenceValue;case 8:return function(e,n){return qd(e.geoPointValue.latitude)===qd(n.geoPointValue.latitude)&&qd(e.geoPointValue.longitude)===qd(n.geoPointValue.longitude)}(e,n);case 2:return function(e,n){if("integerValue"in e&&"integerValue"in n)return qd(e.integerValue)===qd(n.integerValue);if("doubleValue"in e&&"doubleValue"in n){const t=qd(e.doubleValue),r=qd(n.doubleValue);return t===r?rd(t)===rd(r):isNaN(t)&&isNaN(r)}return!1}(e,n);case 9:return kc(e.arrayValue.values||[],n.arrayValue.values||[],cu);case 10:case 11:return function(e,n){const t=e.mapValue.fields||{},r=n.mapValue.fields||{};if(Dd(t)!==Dd(r))return!1;for(const i in t)if(t.hasOwnProperty(i)&&(void 0===r[i]||!cu(t[i],r[i])))return!1;return!0}(e,n);default:return nc(52216,{left:e})}}function du(e,n){return void 0!==(e.values||[]).find(e=>cu(e,n))}function uu(e,n){if(e===n)return 0;const t=lu(e),r=lu(n);if(t!==r)return vc(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return vc(e.booleanValue,n.booleanValue);case 2:return function(e,n){const t=qd(e.integerValue||e.doubleValue),r=qd(n.integerValue||n.doubleValue);return t<r?-1:t>r?1:t===r?0:isNaN(t)?isNaN(r)?0:-1:1}(e,n);case 3:return pu(e.timestampValue,n.timestampValue);case 4:return pu(Zd(e),Zd(n));case 5:return xc(e.stringValue,n.stringValue);case 6:return function(e,n){const t=Gd(e),r=Gd(n);return t.compareTo(r)}(e.bytesValue,n.bytesValue);case 7:return function(e,n){const t=e.split("/"),r=n.split("/");for(let i=0;i<t.length&&i<r.length;i++){const e=vc(t[i],r[i]);if(0!==e)return e}return vc(t.length,r.length)}(e.referenceValue,n.referenceValue);case 8:return function(e,n){const t=vc(qd(e.latitude),qd(n.latitude));return 0!==t?t:vc(qd(e.longitude),qd(n.longitude))}(e.geoPointValue,n.geoPointValue);case 9:return hu(e.arrayValue,n.arrayValue);case 10:return function(e,n){var t,r,i,o;const s=e.fields||{},a=n.fields||{},l=null===(t=s[au])||void 0===t?void 0:t.arrayValue,c=null===(r=a[au])||void 0===r?void 0:r.arrayValue,d=vc((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==d?d:hu(l,c)}(e.mapValue,n.mapValue);case 11:return function(e,n){if(e===ou.mapValue&&n===ou.mapValue)return 0;if(e===ou.mapValue)return 1;if(n===ou.mapValue)return-1;const t=e.fields||{},r=Object.keys(t),i=n.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=xc(r[s],o[s]);if(0!==e)return e;const n=uu(t[r[s]],i[o[s]]);if(0!==n)return n}return vc(r.length,o.length)}(e.mapValue,n.mapValue);default:throw nc(23264,{he:t})}}function pu(e,n){if("string"==typeof e&&"string"==typeof n&&e.length===n.length)return vc(e,n);const t=Wd(e),r=Wd(n),i=vc(t.seconds,r.seconds);return 0!==i?i:vc(t.nanos,r.nanos)}function hu(e,n){const t=e.values||[],r=n.values||[];for(let i=0;i<t.length&&i<r.length;++i){const e=uu(t[i],r[i]);if(e)return e}return vc(t.length,r.length)}function gu(e){return fu(e)}function fu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const n=Wd(e);return"time(".concat(n.seconds,",").concat(n.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return _c.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let n="[",t=!0;for(const r of e.values||[])t?t=!1:n+=",",n+=fu(r);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){const n=Object.keys(e.fields||{}).sort();let t="{",r=!0;for(const i of n)r?r=!1:t+=",",t+="".concat(i,":").concat(fu(e.fields[i]));return t+"}"}(e.mapValue):nc(61005,{value:e})}function mu(e){switch(lu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Jd(e);return n?16+mu(n):16;case 5:return 2*e.stringValue.length;case 6:return Gd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,n)=>e+mu(n),0)}(e.arrayValue);case 10:case 11:return function(e){let n=0;return Md(e.fields,(e,t)=>{n+=e.length+mu(t)}),n}(e.mapValue);default:throw nc(13486,{value:e})}}function bu(e,n){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(n.path.canonicalString())}}function vu(e){return!!e&&"integerValue"in e}function xu(e){return!!e&&"arrayValue"in e}function yu(e){return!!e&&"nullValue"in e}function wu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Su(e){return!!e&&"mapValue"in e}function ku(e){var n,t;return(null===(n=((null===e||void 0===e||null===(t=e.mapValue)||void 0===t?void 0:t.fields)||{})[ru])||void 0===n?void 0:n.stringValue)===su}function Cu(e){if(e.geoPointValue)return{geoPointValue:d({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:d({},e.timestampValue)};if(e.mapValue){const n={mapValue:{fields:{}}};return Md(e.mapValue.fields,(e,t)=>n.mapValue.fields[e]=Cu(t)),n}if(e.arrayValue){const n={arrayValue:{values:[]}};for(let t=0;t<(e.arrayValue.values||[]).length;++t)n.arrayValue.values[t]=Cu(e.arrayValue.values[t]);return n}return d({},e)}function Au(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===iu}class Eu{constructor(e){this.value=e}static empty(){return new Eu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let t=0;t<e.length-1;++t)if(n=(n.mapValue.fields||{})[e.get(t)],!Su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=Ic.emptyPath(),t={},r=[];e.forEach((e,i)=>{if(!n.isImmediateParentOf(i)){const e=this.getFieldsMap(n);this.applyChanges(e,t,r),t={},r=[],n=i.popLast()}e?t[i.lastSegment()]=Cu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,t,r)}delete(e){const n=this.field(e.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let t=0;t<e.length;++t){let r=n.mapValue.fields[e.get(t)];Su(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(t)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,t){Md(n,(n,t)=>e[n]=t);for(const r of t)delete e[r]}clone(){return new Eu(Cu(this.value))}}function Tu(e){const n=[];return Md(e.fields,(e,t)=>{const r=new Ic([e]);if(Su(t)){const e=Tu(t.mapValue).fields;if(0===e.length)n.push(r);else for(const t of e)n.push(r.child(t))}else n.push(r)}),new Bd(n)}class Iu{constructor(e,n,t,r,i,o,s){this.key=e,this.documentType=n,this.version=t,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Iu(e,0,Uc.min(),Uc.min(),Uc.min(),Eu.empty(),0)}static newFoundDocument(e,n,t,r){return new Iu(e,1,n,Uc.min(),t,r,0)}static newNoDocument(e,n){return new Iu(e,2,n,Uc.min(),Uc.min(),Eu.empty(),0)}static newUnknownDocument(e,n){return new Iu(e,3,n,Uc.min(),Uc.min(),Eu.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Uc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Eu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Eu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Uc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Iu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Iu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class _u{constructor(e,n){this.position=e,this.inclusive=n}}function Ru(e,n,t){let r=0;for(let i=0;i<e.position.length;i++){const o=n[i],s=e.position[i];if(r=o.field.isKeyField()?_c.comparator(_c.fromName(s.referenceValue),t.key):uu(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Pu(e,n){if(null===e)return null===n;if(null===n)return!1;if(e.inclusive!==n.inclusive||e.position.length!==n.position.length)return!1;for(let t=0;t<e.position.length;t++)if(!cu(e.position[t],n.position[t]))return!1;return!0}class Du{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=n}}function Mu(e,n){return e.dir===n.dir&&e.field.isEqual(n.field)}class Lu{}class Fu extends Lu{constructor(e,n,t){super(),this.field=e,this.op=n,this.value=t}static create(e,n,t){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,t):new Hu(e,n,t):"array-contains"===n?new Ku(e,t):"in"===n?new Yu(e,t):"not-in"===n?new Qu(e,t):"array-contains-any"===n?new Xu(e,t):new Fu(e,n,t)}static createKeyFieldInFilter(e,n,t){return"in"===n?new Wu(e,t):new qu(e,t)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&void 0===n.nullValue&&this.matchesComparison(uu(n,this.value)):null!==n&&lu(this.value)===lu(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nc(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nu extends Lu{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nu(e,n)}matches(e){return Ou(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ou(e){return"and"===e.op}function zu(e){return Vu(e)&&Ou(e)}function Vu(e){for(const n of e.filters)if(n instanceof Nu)return!1;return!0}function Bu(e){if(e instanceof Fu)return e.field.canonicalString()+e.op.toString()+gu(e.value);if(zu(e))return e.filters.map(e=>Bu(e)).join(",");{const n=e.filters.map(e=>Bu(e)).join(",");return"".concat(e.op,"(").concat(n,")")}}function Uu(e,n){return e instanceof Fu?function(e,n){return n instanceof Fu&&e.op===n.op&&e.field.isEqual(n.field)&&cu(e.value,n.value)}(e,n):e instanceof Nu?function(e,n){return n instanceof Nu&&e.op===n.op&&e.filters.length===n.filters.length&&e.filters.reduce((e,t,r)=>e&&Uu(t,n.filters[r]),!0)}(e,n):void nc(19439)}function ju(e){return e instanceof Fu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(gu(e.value))}(e):e instanceof Nu?function(e){return e.op.toString()+" {"+e.getFilters().map(ju).join(" ,")+"}"}(e):"Filter"}class Hu extends Fu{constructor(e,n,t){super(e,n,t),this.key=_c.fromName(t.referenceValue)}matches(e){const n=_c.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wu extends Fu{constructor(e,n){super(e,"in",n),this.keys=Gu("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qu extends Fu{constructor(e,n){super(e,"not-in",n),this.keys=Gu("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gu(e,n){var t;return((null===(t=n.arrayValue)||void 0===t?void 0:t.values)||[]).map(e=>_c.fromName(e.referenceValue))}class Ku extends Fu{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xu(n)&&du(n.arrayValue,this.value)}}class Yu extends Fu{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&du(this.value.arrayValue,n)}}class Qu extends Fu{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&void 0===n.nullValue&&!du(this.value.arrayValue,n)}}class Xu extends Fu{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(e=>du(this.value.arrayValue,e))}}class $u{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=n,this.orderBy=t,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Ju(e){return new $u(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zu(e){const n=ic(e);if(null===n.Te){let e=n.path.canonicalString();null!==n.collectionGroup&&(e+="|cg:"+n.collectionGroup),e+="|f:",e+=n.filters.map(e=>Bu(e)).join(","),e+="|ob:",e+=n.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),td(n.limit)||(e+="|l:",e+=n.limit),n.startAt&&(e+="|lb:",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(e=>gu(e)).join(",")),n.endAt&&(e+="|ub:",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(e=>gu(e)).join(",")),n.Te=e}return n.Te}function ep(e,n){if(e.limit!==n.limit)return!1;if(e.orderBy.length!==n.orderBy.length)return!1;for(let t=0;t<e.orderBy.length;t++)if(!Mu(e.orderBy[t],n.orderBy[t]))return!1;if(e.filters.length!==n.filters.length)return!1;for(let t=0;t<e.filters.length;t++)if(!Uu(e.filters[t],n.filters[t]))return!1;return e.collectionGroup===n.collectionGroup&&!!e.path.isEqual(n.path)&&!!Pu(e.startAt,n.startAt)&&Pu(e.endAt,n.endAt)}function np(e){return _c.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class tp{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=n,this.explicitOrderBy=t,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rp(e,n,t,r,i,o,s,a){return new tp(e,n,t,r,i,o,s,a)}function ip(e){return new tp(e)}function op(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function sp(e){return null!==e.collectionGroup}function ap(e){const n=ic(e);if(null===n.Ie){n.Ie=[];const e=new Set;for(const i of n.explicitOrderBy)n.Ie.push(i),e.add(i.field.canonicalString());const t=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc",r=function(e){let n=new zd(Ic.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(n=n.add(e.field))})}),n}(n);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||n.Ie.push(new Du(r,t))}),e.has(Ic.keyField().canonicalString())||n.Ie.push(new Du(Ic.keyField(),t))}return n.Ie}function lp(e){const n=ic(e);return n.Ee||(n.Ee=cp(n,ap(e))),n.Ee}function cp(e,n){if("F"===e.limitType)return Ju(e.path,e.collectionGroup,n,e.filters,e.limit,e.startAt,e.endAt);{n=n.map(e=>{const n="desc"===e.dir?"asc":"desc";return new Du(e.field,n)});const t=e.endAt?new _u(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _u(e.startAt.position,e.startAt.inclusive):null;return Ju(e.path,e.collectionGroup,n,e.filters,e.limit,t,r)}}function dp(e,n){const t=e.filters.concat([n]);return new tp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)}function up(e,n,t){return new tp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),n,t,e.startAt,e.endAt)}function pp(e,n){return ep(lp(e),lp(n))&&e.limitType===n.limitType}function hp(e){return"".concat(Zu(lp(e)),"|lt:").concat(e.limitType)}function gp(e){return"Query(target=".concat(function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: [".concat(e.filters.map(e=>ju(e)).join(", "),"]")),td(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(e=>gu(e)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(e=>gu(e)).join(",")),"Target(".concat(n,")")}(lp(e)),"; limitType=").concat(e.limitType,")")}function fp(e,n){return n.isFoundDocument()&&function(e,n){const t=n.key.path;return null!==e.collectionGroup?n.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(t):_c.isDocumentKey(e.path)?e.path.isEqual(t):e.path.isImmediateParentOf(t)}(e,n)&&function(e,n){for(const t of ap(e))if(!t.field.isKeyField()&&null===n.data.field(t.field))return!1;return!0}(e,n)&&function(e,n){for(const t of e.filters)if(!t.matches(n))return!1;return!0}(e,n)&&function(e,n){return!(e.startAt&&!function(e,n,t){const r=Ru(e,n,t);return e.inclusive?r<=0:r<0}(e.startAt,ap(e),n))&&!(e.endAt&&!function(e,n,t){const r=Ru(e,n,t);return e.inclusive?r>=0:r>0}(e.endAt,ap(e),n))}(e,n)}function mp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bp(e){return(n,t)=>{let r=!1;for(const i of ap(e)){const e=vp(i,n,t);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vp(e,n,t){const r=e.field.isKeyField()?_c.comparator(n.key,t.key):function(e,n,t){const r=n.data.field(e),i=t.data.field(e);return null!==r&&null!==i?uu(r,i):nc(42886)}(e.field,n,t);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nc(19790,{direction:e.dir})}}class xp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),t=this.inner[n];if(void 0!==t)for(const[r,i]of t)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,n){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return this.inner[t]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),t=this.inner[n];if(void 0===t)return!1;for(let r=0;r<t.length;r++)if(this.equalsFn(t[r][0],e))return 1===t.length?delete this.inner[n]:t.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Md(this.inner,(n,t)=>{for(const[r,i]of t)e(r,i)})}isEmpty(){return Ld(this.inner)}size(){return this.innerSize}}const yp=new Fd(_c.comparator);function wp(){return yp}const Sp=new Fd(_c.comparator);function kp(){let e=Sp;for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(const i of t)e=e.insert(i.key,i);return e}function Cp(e){let n=Sp;return e.forEach((e,t)=>n=n.insert(e,t.overlayedDocument)),n}function Ap(){return Tp()}function Ep(){return Tp()}function Tp(){return new xp(e=>e.toString(),(e,n)=>e.isEqual(n))}const Ip=new Fd(_c.comparator),_p=new zd(_c.comparator);function Rp(){let e=_p;for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];for(const i of t)e=e.add(i);return e}const Pp=new zd(vc);function Dp(){return Pp}function Mp(e,n){if(e.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(n)?"-0":n}}function Lp(e){return{integerValue:""+e}}function Fp(e,n){return id(n)?Lp(n):Mp(e,n)}class Np{constructor(){this._=void 0}}function Op(e,n,t){return e instanceof Bp?function(e,n){const t={fields:{[Yd]:{stringValue:Kd},[Xd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return n&&$d(n)&&(n=Jd(n)),n&&(t.fields[Qd]=n),{mapValue:t}}(t,n):e instanceof Up?jp(e,n):e instanceof Hp?Wp(e,n):function(e,n){const t=Vp(e,n),r=Gp(t)+Gp(e.Ae);return vu(t)&&vu(e.Ae)?Lp(r):Mp(e.serializer,r)}(e,n)}function zp(e,n,t){return e instanceof Up?jp(e,n):e instanceof Hp?Wp(e,n):t}function Vp(e,n){return e instanceof qp?function(e){return vu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(n)?n:{integerValue:0}:null}class Bp extends Np{}class Up extends Np{constructor(e){super(),this.elements=e}}function jp(e,n){const t=Kp(n);for(const r of e.elements)t.some(e=>cu(e,r))||t.push(r);return{arrayValue:{values:t}}}class Hp extends Np{constructor(e){super(),this.elements=e}}function Wp(e,n){let t=Kp(n);for(const r of e.elements)t=t.filter(e=>!cu(e,r));return{arrayValue:{values:t}}}class qp extends Np{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gp(e){return qd(e.integerValue||e.doubleValue)}function Kp(e){return xu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Yp{constructor(e,n){this.field=e,this.transform=n}}class Qp{constructor(e,n){this.version=e,this.transformResults=n}}class Xp{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xp}static exists(e){return new Xp(void 0,e)}static updateTime(e){return new Xp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(e,n){return void 0!==e.updateTime?n.isFoundDocument()&&n.version.isEqual(e.updateTime):void 0===e.exists||e.exists===n.isFoundDocument()}class Jp{}function Zp(e,n){if(!e.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return e.isNoDocument()?new ch(e.key,Xp.none()):new ih(e.key,e.data,Xp.none());{const t=e.data,r=Eu.empty();let i=new zd(Ic.comparator);for(let e of n.fields)if(!i.has(e)){let n=t.field(e);null===n&&e.length>1&&(e=e.popLast(),n=t.field(e)),null===n?r.delete(e):r.set(e,n),i=i.add(e)}return new oh(e.key,r,new Bd(i.toArray()),Xp.none())}}function eh(e,n,t){e instanceof ih?function(e,n,t){const r=e.value.clone(),i=ah(e.fieldTransforms,n,t.transformResults);r.setAll(i),n.convertToFoundDocument(t.version,r).setHasCommittedMutations()}(e,n,t):e instanceof oh?function(e,n,t){if(!$p(e.precondition,n))return void n.convertToUnknownDocument(t.version);const r=ah(e.fieldTransforms,n,t.transformResults),i=n.data;i.setAll(sh(e)),i.setAll(r),n.convertToFoundDocument(t.version,i).setHasCommittedMutations()}(e,n,t):function(e,n,t){n.convertToNoDocument(t.version).setHasCommittedMutations()}(0,n,t)}function nh(e,n,t,r){return e instanceof ih?function(e,n,t,r){if(!$p(e.precondition,n))return t;const i=e.value.clone(),o=lh(e.fieldTransforms,r,n);return i.setAll(o),n.convertToFoundDocument(n.version,i).setHasLocalMutations(),null}(e,n,t,r):e instanceof oh?function(e,n,t,r){if(!$p(e.precondition,n))return t;const i=lh(e.fieldTransforms,r,n),o=n.data;return o.setAll(sh(e)),o.setAll(i),n.convertToFoundDocument(n.version,o).setHasLocalMutations(),null===t?null:t.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,n,t,r):function(e,n,t){return $p(e.precondition,n)?(n.convertToNoDocument(n.version).setHasLocalMutations(),null):t}(e,n,t)}function th(e,n){let t=null;for(const r of e.fieldTransforms){const e=n.data.field(r.field),i=Vp(r.transform,e||null);null!=i&&(null===t&&(t=Eu.empty()),t.set(r.field,i))}return t||null}function rh(e,n){return e.type===n.type&&!!e.key.isEqual(n.key)&&!!e.precondition.isEqual(n.precondition)&&!!function(e,n){return void 0===e&&void 0===n||!(!e||!n)&&kc(e,n,(e,n)=>function(e,n){return e.field.isEqual(n.field)&&function(e,n){return e instanceof Up&&n instanceof Up||e instanceof Hp&&n instanceof Hp?kc(e.elements,n.elements,cu):e instanceof qp&&n instanceof qp?cu(e.Ae,n.Ae):e instanceof Bp&&n instanceof Bp}(e.transform,n.transform)}(e,n))}(e.fieldTransforms,n.fieldTransforms)&&(0===e.type?e.value.isEqual(n.value):1!==e.type||e.data.isEqual(n.data)&&e.fieldMask.isEqual(n.fieldMask))}class ih extends Jp{constructor(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=n,this.precondition=t,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oh extends Jp{constructor(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=n,this.fieldMask=t,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sh(e){const n=new Map;return e.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=e.data.field(t);n.set(t,r)}}),n}function ah(e,n,t){const r=new Map;rc(e.length===t.length,32656,{Re:t.length,Ve:e.length});for(let i=0;i<t.length;i++){const o=e[i],s=o.transform,a=n.data.field(o.field);r.set(o.field,zp(s,a,t[i]))}return r}function lh(e,n,t){const r=new Map;for(const i of e){const e=i.transform,o=t.data.field(i.field);r.set(i.field,Op(e,o,n))}return r}class ch extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dh extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uh{constructor(e,n,t,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=t,this.mutations=r}applyToRemoteDocument(e,n){const t=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const n=this.mutations[r];n.key.isEqual(e.key)&&eh(n,e,t[r])}}applyToLocalView(e,n){for(const t of this.baseMutations)t.key.isEqual(e.key)&&(n=nh(t,e,n,this.localWriteTime));for(const t of this.mutations)t.key.isEqual(e.key)&&(n=nh(t,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const t=Ep();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=n.has(r.key)?null:s;const a=Zp(o,s);null!==a&&t.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Uc.min())}),t}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Rp())}isEqual(e){return this.batchId===e.batchId&&kc(this.mutations,e.mutations,(e,n)=>rh(e,n))&&kc(this.baseMutations,e.baseMutations,(e,n)=>rh(e,n))}}class ph{constructor(e,n,t,r){this.batch=e,this.commitVersion=n,this.mutationResults=t,this.docVersions=r}static from(e,n,t){rc(e.mutations.length===t.length,58842,{me:e.mutations.length,fe:t.length});let r=Ip;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,t[o].version);return new ph(e,n,t,r)}}class hh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class gh{constructor(e,n){this.count=e,this.unchangedNames=n}}var fh,mh;function bh(e){switch(e){case oc.OK:return nc(64938);case oc.CANCELLED:case oc.UNKNOWN:case oc.DEADLINE_EXCEEDED:case oc.RESOURCE_EXHAUSTED:case oc.INTERNAL:case oc.UNAVAILABLE:case oc.UNAUTHENTICATED:return!1;case oc.INVALID_ARGUMENT:case oc.NOT_FOUND:case oc.ALREADY_EXISTS:case oc.PERMISSION_DENIED:case oc.FAILED_PRECONDITION:case oc.ABORTED:case oc.OUT_OF_RANGE:case oc.UNIMPLEMENTED:case oc.DATA_LOSS:return!0;default:return nc(15467,{code:e})}}function vh(e){if(void 0===e)return Jl("GRPC error has no .code"),oc.UNKNOWN;switch(e){case fh.OK:return oc.OK;case fh.CANCELLED:return oc.CANCELLED;case fh.UNKNOWN:return oc.UNKNOWN;case fh.DEADLINE_EXCEEDED:return oc.DEADLINE_EXCEEDED;case fh.RESOURCE_EXHAUSTED:return oc.RESOURCE_EXHAUSTED;case fh.INTERNAL:return oc.INTERNAL;case fh.UNAVAILABLE:return oc.UNAVAILABLE;case fh.UNAUTHENTICATED:return oc.UNAUTHENTICATED;case fh.INVALID_ARGUMENT:return oc.INVALID_ARGUMENT;case fh.NOT_FOUND:return oc.NOT_FOUND;case fh.ALREADY_EXISTS:return oc.ALREADY_EXISTS;case fh.PERMISSION_DENIED:return oc.PERMISSION_DENIED;case fh.FAILED_PRECONDITION:return oc.FAILED_PRECONDITION;case fh.ABORTED:return oc.ABORTED;case fh.OUT_OF_RANGE:return oc.OUT_OF_RANGE;case fh.UNIMPLEMENTED:return oc.UNIMPLEMENTED;case fh.DATA_LOSS:return oc.DATA_LOSS;default:return nc(39323,{code:e})}}(mh=fh||(fh={}))[mh.OK=0]="OK",mh[mh.CANCELLED=1]="CANCELLED",mh[mh.UNKNOWN=2]="UNKNOWN",mh[mh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mh[mh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mh[mh.NOT_FOUND=5]="NOT_FOUND",mh[mh.ALREADY_EXISTS=6]="ALREADY_EXISTS",mh[mh.PERMISSION_DENIED=7]="PERMISSION_DENIED",mh[mh.UNAUTHENTICATED=16]="UNAUTHENTICATED",mh[mh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mh[mh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mh[mh.ABORTED=10]="ABORTED",mh[mh.OUT_OF_RANGE=11]="OUT_OF_RANGE",mh[mh.UNIMPLEMENTED=12]="UNIMPLEMENTED",mh[mh.INTERNAL=13]="INTERNAL",mh[mh.UNAVAILABLE=14]="UNAVAILABLE",mh[mh.DATA_LOSS=15]="DATA_LOSS";let xh=null;function yh(){return new TextEncoder}const wh=new Pl([4294967295,4294967295],0);function Sh(e){const n=yh().encode(e),t=new Dl;return t.update(n),new Uint8Array(t.digest())}function kh(e){const n=new DataView(e.buffer),t=n.getUint32(0,!0),r=n.getUint32(4,!0),i=n.getUint32(8,!0),o=n.getUint32(12,!0);return[new Pl([t,r],0),new Pl([i,o],0)]}class Ch{constructor(e,n,t){if(this.bitmap=e,this.padding=n,this.hashCount=t,n<0||n>=8)throw new Ah("Invalid padding: ".concat(n));if(t<0)throw new Ah("Invalid hash count: ".concat(t));if(e.length>0&&0===this.hashCount)throw new Ah("Invalid hash count: ".concat(t));if(0===e.length&&0!==n)throw new Ah("Invalid padding when bitmap length is 0: ".concat(n));this.ge=8*e.length-n,this.pe=Pl.fromNumber(this.ge)}ye(e,n,t){let r=e.add(n.multiply(Pl.fromNumber(t)));return 1===r.compare(wh)&&(r=new Pl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const n=Sh(e),[t,r]=kh(n);for(let i=0;i<this.hashCount;i++){const e=this.ye(t,r,i);if(!this.we(e))return!1}return!0}static create(e,n,t){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ch(i,r,n);return t.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const n=Sh(e),[t,r]=kh(n);for(let i=0;i<this.hashCount;i++){const e=this.ye(t,r,i);this.Se(e)}}Se(e){const n=Math.floor(e/8),t=e%8;this.bitmap[n]|=1<<t}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(e,n,t,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=t,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,t){const r=new Map;return r.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,t)),new Eh(Uc.min(),r,new Fd(vc),wp(),Rp())}}class Th{constructor(e,n,t,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=t,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,t){return new Th(t,n,Rp(),Rp(),Rp())}}class Ih{constructor(e,n,t,r){this.be=e,this.removedTargetIds=n,this.key=t,this.De=r}}class _h{constructor(e,n){this.targetId=e,this.Ce=n}}class Rh{constructor(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=n,this.resumeToken=t,this.cause=r}}class Ph{constructor(){this.ve=0,this.Fe=Lh(),this.Me=jd.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Rp(),n=Rp(),t=Rp();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:t=t.add(r);break;default:nc(38017,{changeType:i})}}),new Th(this.Me,this.xe,e,n,t)}qe(){this.Oe=!1,this.Fe=Lh()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rc(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dh{constructor(e){this.Ge=e,this.ze=new Map,this.je=wp(),this.Je=Mh(),this.He=Mh(),this.Ye=new Fd(vc)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const t=this.nt(n);switch(e.state){case 0:this.rt(n)&&t.Le(e.resumeToken);break;case 1:t.Ke(),t.Ne||t.qe(),t.Le(e.resumeToken);break;case 2:t.Ke(),t.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(t.We(),t.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),t.Le(e.resumeToken));break;default:nc(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((e,t)=>{this.rt(t)&&n(t)})}st(e){const n=e.targetId,t=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(np(o))if(0===t){const e=new _c(o.path);this.et(n,e,Iu.newNoDocument(e,Uc.min()))}else rc(1===t,20013,{expectedCount:t});else{const r=this._t(n);if(r!==t){var i;const t=this.ut(e),o=t?this.ct(t,e,r):1;if(0!==o){this.it(n);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,e)}null===(i=xh)||void 0===i||i.lt(function(e,n,t,r,i){var o,s,a,l,c;const d={localCacheCount:e,existenceFilterCount:n.count,databaseId:t.database,projectId:t.projectId},u=n.unchangedNames;return u&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null===u||void 0===u?void 0:u.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===u||void 0===u||null===(a=u.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===u||void 0===u||null===(c=u.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var n;return null!==(n=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==n&&n}}),d}(r,e.Ce,this.Ge.ht(),t,o))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:t="",padding:r=0},hashCount:i=0}=n;let o,s;try{o=Gd(t).toUint8Array()}catch(e){if(e instanceof Ud)return Zl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ch(o,r,i)}catch(e){return Zl(e instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,n,t){return n.Ce.count===t-this.Pt(e,n.targetId)?0:2}Pt(e,n){const t=this.Ge.getRemoteKeysForTarget(n);let r=0;return t.forEach(t=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(t.path.canonicalString());e.mightContain(o)||(this.et(n,t,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((t,r)=>{const i=this.ot(r);if(i){if(t.current&&np(i.target)){const n=new _c(i.target.path);this.It(n).has(r)||this.Et(r,n)||this.et(r,n,Iu.newNoDocument(n,e))}t.Be&&(n.set(r,t.ke()),t.qe())}});let t=Rp();this.He.forEach((e,n)=>{let r=!0;n.forEachWhile(e=>{const n=this.ot(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(r=!1,!1)}),r&&(t=t.add(e))}),this.je.forEach((n,t)=>t.setReadTime(e));const r=new Eh(e,n,this.Ye,this.je,t);return this.je=wp(),this.Je=Mh(),this.He=Mh(),this.Ye=new Fd(vc),r}Xe(e,n){if(!this.rt(e))return;const t=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,t),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,t){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),t&&(this.je=this.je.insert(n,t))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ph,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zd(vc),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zd(vc),this.Je=this.Je.insert(e,n)),n}rt(e){const n=null!==this.ot(e);return n||$l("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ph),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Mh(){return new Fd(_c.comparator)}function Lh(){return new Fd(_c.comparator)}const Fh={asc:"ASCENDING",desc:"DESCENDING"},Nh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oh={and:"AND",or:"OR"};class zh{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vh(e,n){return e.useProto3Json||td(n)?n:{value:n}}function Bh(e,n){return e.useProto3Json?"".concat(new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+n.nanoseconds).slice(-9),"Z"):{seconds:""+n.seconds,nanos:n.nanoseconds}}function Uh(e,n){return e.useProto3Json?n.toBase64():n.toUint8Array()}function jh(e,n){return Bh(e,n.toTimestamp())}function Hh(e){return rc(!!e,49232),Uc.fromTimestamp(function(e){const n=Wd(e);return new Bc(n.seconds,n.nanos)}(e))}function Wh(e,n){return qh(e,n).canonicalString()}function qh(e,n){const t=function(e){return new Ec(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===n?t:t.child(n)}function Gh(e){const n=Ec.fromString(e);return rc(pg(n),10190,{key:n.toString()}),n}function Kh(e,n){return Wh(e.databaseId,n.path)}function Yh(e,n){const t=Gh(n);if(t.get(1)!==e.databaseId.projectId)throw new sc(oc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new sc(oc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new _c(Jh(t))}function Qh(e,n){return Wh(e.databaseId,n)}function Xh(e){const n=Gh(e);return 4===n.length?Ec.emptyPath():Jh(n)}function $h(e){return new Ec(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jh(e){return rc(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Zh(e,n,t){return{name:Kh(e,n),fields:t.value.mapValue.fields}}function eg(e,n){let t;if(n instanceof ih)t={update:Zh(e,n.key,n.value)};else if(n instanceof ch)t={delete:Kh(e,n.key)};else if(n instanceof oh)t={update:Zh(e,n.key,n.data),updateMask:ug(n.fieldMask)};else{if(!(n instanceof dh))return nc(16599,{Vt:n.type});t={verify:Kh(e,n.key)}}return n.fieldTransforms.length>0&&(t.updateTransforms=n.fieldTransforms.map(e=>function(e,n){const t=n.transform;if(t instanceof Bp)return{fieldPath:n.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof Up)return{fieldPath:n.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof Hp)return{fieldPath:n.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof qp)return{fieldPath:n.field.canonicalString(),increment:t.Ae};throw nc(20930,{transform:n.transform})}(0,e))),n.precondition.isNone||(t.currentDocument=function(e,n){return void 0!==n.updateTime?{updateTime:jh(e,n.updateTime)}:void 0!==n.exists?{exists:n.exists}:nc(27497)}(e,n.precondition)),t}function ng(e,n){return{documents:[Qh(e,n.path)]}}function tg(e,n){const t={structuredQuery:{}},r=n.path;let i;null!==n.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Qh(e,i);const o=function(e){if(0!==e.length)return dg(Nu.create(e,"and"))}(n.filters);o&&(t.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:lg(e.field),direction:og(e.dir)}}(e))}(n.orderBy);s&&(t.structuredQuery.orderBy=s);const a=Vh(e,n.limit);return null!==a&&(t.structuredQuery.limit=a),n.startAt&&(t.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(n.startAt)),n.endAt&&(t.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(n.endAt)),{ft:t,parent:i}}function rg(e){let n=Xh(e.parent);const t=e.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rc(1===r,65062);const e=t.from[0];e.allDescendants?i=e.collectionId:n=n.child(e.collectionId)}let o=[];t.where&&(o=function(e){const n=ig(e);return n instanceof Nu&&zu(n)?n.getFilters():[n]}(t.where));let s=[];t.orderBy&&(s=function(e){return e.map(e=>function(e){return new Du(cg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(t.orderBy));let a=null;t.limit&&(a=function(e){let n;return n="object"==typeof e?e.value:e,td(n)?null:n}(t.limit));let l=null;t.startAt&&(l=function(e){const n=!!e.before,t=e.values||[];return new _u(t,n)}(t.startAt));let c=null;return t.endAt&&(c=function(e){const n=!e.before,t=e.values||[];return new _u(t,n)}(t.endAt)),rp(n,i,s,o,a,"F",l,c)}function ig(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=cg(e.unaryFilter.field);return Fu.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=cg(e.unaryFilter.field);return Fu.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cg(e.unaryFilter.field);return Fu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cg(e.unaryFilter.field);return Fu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nc(61313);default:return nc(60726)}}(e):void 0!==e.fieldFilter?function(e){return Fu.create(cg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nc(58110);default:return nc(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Nu.create(e.compositeFilter.filters.map(e=>ig(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return nc(1026)}}(e.compositeFilter.op))}(e):nc(30097,{filter:e})}function og(e){return Fh[e]}function sg(e){return Nh[e]}function ag(e){return Oh[e]}function lg(e){return{fieldPath:e.canonicalString()}}function cg(e){return Ic.fromServerFormat(e.fieldPath)}function dg(e){return e instanceof Fu?function(e){if("=="===e.op){if(wu(e.value))return{unaryFilter:{field:lg(e.field),op:"IS_NAN"}};if(yu(e.value))return{unaryFilter:{field:lg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wu(e.value))return{unaryFilter:{field:lg(e.field),op:"IS_NOT_NAN"}};if(yu(e.value))return{unaryFilter:{field:lg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lg(e.field),op:sg(e.op),value:e.value}}}(e):e instanceof Nu?function(e){const n=e.getFilters().map(e=>dg(e));return 1===n.length?n[0]:{compositeFilter:{op:ag(e.op),filters:n}}}(e):nc(54877,{filter:e})}function ug(e){const n=[];return e.fields.forEach(e=>n.push(e.canonicalString())),{fieldPaths:n}}function pg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hg{constructor(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Uc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Uc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jd.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=n,this.purpose=t,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new hg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hg(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gg{constructor(e){this.yt=e}}function fg(e){const n=rg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?up(n,n.limit,"L"):n}class mg{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(qd(e.integerValue));else if("doubleValue"in e){const t=qd(e.doubleValue);isNaN(t)?this.Ft(n,13):(this.Ft(n,15),rd(t)?n.Mt(0):n.Mt(t))}else if("timestampValue"in e){let t=e.timestampValue;this.Ft(n,20),"string"==typeof t&&(t=Wd(t)),n.xt("".concat(t.seconds||"")),n.Mt(t.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Gd(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const t=e.geoPointValue;this.Ft(n,45),n.Mt(t.latitude||0),n.Mt(t.longitude||0)}else"mapValue"in e?Au(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ku(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):nc(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const t=e.fields||{};this.Ft(n,55);for(const r of Object.keys(t))this.Ot(r,n),this.Ct(t[r],n)}kt(e,n){var t;const r=e.fields||{};this.Ft(n,53);const i=au,o=(null===(t=r[i].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.length)||0;this.Ft(n,15),n.Mt(qd(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const t=e.values||[];this.Ft(n,50);for(const r of t)this.Ct(r,n)}Lt(e,n){this.Ft(n,37),_c.fromName(e).path.forEach(e=>{this.Ft(n,60),this.Ut(e,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}mg.Kt=new mg;class bg{constructor(){this.Cn=new vg}addToCollectionParentIndex(e,n){return this.Cn.add(n),$c.resolve()}getCollectionParents(e,n){return $c.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $c.resolve()}deleteFieldIndex(e,n){return $c.resolve()}deleteAllFieldIndexes(e){return $c.resolve()}createTargetIndexes(e,n){return $c.resolve()}getDocumentsMatchingTarget(e,n){return $c.resolve(null)}getIndexType(e,n){return $c.resolve(0)}getFieldIndexes(e,n){return $c.resolve([])}getNextCollectionGroupToUpdate(e){return $c.resolve(null)}getMinOffset(e,n){return $c.resolve(Gc.min())}getMinOffsetFromCollectionGroup(e,n){return $c.resolve(Gc.min())}updateCollectionGroup(e,n,t){return $c.resolve()}updateIndexEntries(e,n){return $c.resolve()}}class vg{constructor(){this.index={}}add(e){const n=e.lastSegment(),t=e.popLast(),r=this.index[n]||new zd(Ec.comparator),i=!r.has(t);return this.index[n]=r.add(t),i}has(e){const n=e.lastSegment(),t=e.popLast(),r=this.index[n];return r&&r.has(t)}getEntries(e){return(this.index[e]||new zd(Ec.comparator)).toArray()}}new Uint8Array(0);const xg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yg=41943040;class wg{static withCacheSize(e){return new wg(e,wg.DEFAULT_COLLECTION_PERCENTILE,wg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,t){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=t}}wg.DEFAULT_COLLECTION_PERCENTILE=10,wg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wg.DEFAULT=new wg(yg,wg.DEFAULT_COLLECTION_PERCENTILE,wg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wg.DISABLED=new wg(-1,0,0);class Sg{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sg(0)}static cr(){return new Sg(-1)}}const kg="LruGarbageCollector",Cg=1048576;function Ag(e,n){let[t,r]=e,[i,o]=n;const s=vc(t,i);return 0===s?vc(r,o):s}class Eg{constructor(e){this.Ir=e,this.buffer=new zd(Ag),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const e=this.buffer.last();Ag(n,e)<0&&(this.buffer=this.buffer.delete(e).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tg{constructor(e,n,t){this.garbageCollector=e,this.asyncQueue=n,this.localStore=t,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){$l(kg,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zc(e)?$l(kg,"Ignoring IndexedDB error during garbage collection: ",e):await Xc(e)}await this.Vr(3e5)})}}class Ig{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(e=>Math.floor(n/100*e))}nthSequenceNumber(e,n){if(0===n)return $c.resolve(ed.ce);const t=new Eg(n);return this.mr.forEachTarget(e,e=>t.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>t.Ar(e))).next(()=>t.maxValue)}removeTargets(e,n,t){return this.mr.removeTargets(e,n,t)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?($l("LruGarbageCollector","Garbage collection skipped; disabled"),$c.resolve(xg)):this.getCacheSize(e).next(t=>t<this.params.cacheSizeCollectionThreshold?($l("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(t," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),xg):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let t,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(n=>(n>this.params.maximumSequenceNumbersToCollect?($l("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(n)),r=this.params.maximumSequenceNumbersToCollect):r=n,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(t=r,s=Date.now(),this.removeTargets(e,t,n))).next(n=>(i=n,a=Date.now(),this.removeOrphanedDocuments(e,t))).next(e=>(l=Date.now(),Xl()<=pt.DEBUG&&$l("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),$c.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function _g(e,n){return new Ig(e,n)}class Rg{constructor(){this.changes=new xp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Iu.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const t=this.changes.get(n);return void 0!==t?$c.resolve(t):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pg{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Dg{constructor(e,n,t,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=t,this.indexManager=r}getDocument(e,n){let t=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(t=r,this.remoteDocumentCache.getEntry(e,n))).next(e=>(null!==t&&nh(t.mutation,e,Bd.empty(),Bc.now()),e))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(n=>this.getLocalViewOfDocuments(e,n,Rp()).next(()=>n))}getLocalViewOfDocuments(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rp();const r=Ap();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,t).next(e=>{let n=kp();return e.forEach((e,t)=>{n=n.insert(e,t.overlayedDocument)}),n}))}getOverlayedDocuments(e,n){const t=Ap();return this.populateOverlays(e,t,n).next(()=>this.computeViews(e,n,t,Rp()))}populateOverlays(e,n,t){const r=[];return t.forEach(e=>{n.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,t)=>{n.set(e,t)})})}computeViews(e,n,t,r){let i=wp();const o=Tp(),s=Tp();return n.forEach((e,n)=>{const s=t.get(n.key);r.has(n.key)&&(void 0===s||s.mutation instanceof oh)?i=i.insert(n.key,n):void 0!==s?(o.set(n.key,s.mutation.getFieldMask()),nh(s.mutation,n,s.mutation.getFieldMask(),Bc.now())):o.set(n.key,Bd.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,n)=>o.set(e,n)),n.forEach((e,n)=>{var t;return s.set(e,new Pg(n,null!==(t=o.get(e))&&void 0!==t?t:null))}),s))}recalculateAndSaveOverlays(e,n){const t=Tp();let r=new Fd((e,n)=>e-n),i=Rp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=n.get(e);if(null===o)return;let s=t.get(e)||Bd.empty();s=i.applyToLocalView(o,s),t.set(e,s);const a=(r.get(i.batchId)||Rp()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Ep();l.forEach(e=>{if(!i.has(e)){const r=Zp(n.get(e),t.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return $c.waitFor(o)}).next(()=>t)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,n,t,r){return function(e){return _c.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sp(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,t,r):this.getDocumentsMatchingCollectionQuery(e,n,t,r)}getNextDocuments(e,n,t,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,t,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,t.largestBatchId,r-i.size):$c.resolve(Ap());let s=jc,a=i;return o.next(n=>$c.forEach(n,(n,t)=>(s<t.largestBatchId&&(s=t.largestBatchId),i.get(n)?$c.resolve():this.remoteDocumentCache.getEntry(e,n).next(e=>{a=a.insert(n,e)}))).next(()=>this.populateOverlays(e,n,i)).next(()=>this.computeViews(e,a,n,Rp())).next(e=>({batchId:s,changes:Cp(e)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _c(n)).next(e=>{let n=kp();return e.isFoundDocument()&&(n=n.insert(e.key,e)),n})}getDocumentsMatchingCollectionGroupQuery(e,n,t,r){const i=n.collectionGroup;let o=kp();return this.indexManager.getCollectionParents(e,i).next(s=>$c.forEach(s,s=>{const a=function(e,n){return new tp(n,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(n,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,t,r).next(e=>{e.forEach((e,n)=>{o=o.insert(e,n)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,t.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,t,i,r))).next(e=>{i.forEach((n,t)=>{const r=t.getKey();null===e.get(r)&&(e=e.insert(r,Iu.newInvalidDocument(r)))});let t=kp();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&nh(o.mutation,r,Bd.empty(),Bc.now()),fp(n,r)&&(t=t.insert(e,r))}),t})}}class Mg{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $c.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(e){return{id:e.id,version:e.version,createTime:Hh(e.createTime)}}(n)),$c.resolve()}getNamedQuery(e,n){return $c.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(e){return{name:e.name,query:fg(e.bundledQuery),readTime:Hh(e.readTime)}}(n)),$c.resolve()}}class Lg{constructor(){this.overlays=new Fd(_c.comparator),this.qr=new Map}getOverlay(e,n){return $c.resolve(this.overlays.get(n))}getOverlays(e,n){const t=Ap();return $c.forEach(n,n=>this.getOverlay(e,n).next(e=>{null!==e&&t.set(n,e)})).next(()=>t)}saveOverlays(e,n,t){return t.forEach((t,r)=>{this.St(e,n,r)}),$c.resolve()}removeOverlaysForBatchId(e,n,t){const r=this.qr.get(t);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(t)),$c.resolve()}getOverlaysForCollection(e,n,t){const r=Ap(),i=n.length+1,o=new _c(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!n.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>t&&r.set(e.getKey(),e)}return $c.resolve(r)}getOverlaysForCollectionGroup(e,n,t,r){let i=new Fd((e,n)=>e-n);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===n&&e.largestBatchId>t){let n=i.get(e.largestBatchId);null===n&&(n=Ap(),i=i.insert(e.largestBatchId,n)),n.set(e.getKey(),e)}}const s=Ap(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,n)=>s.set(e,n)),!(s.size()>=r)););return $c.resolve(s)}St(e,n,t){const r=this.overlays.get(t.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(t.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(t.key,new hh(n,t));let i=this.qr.get(n);void 0===i&&(i=Rp(),this.qr.set(n,i)),this.qr.set(n,i.add(t.key))}}class Fg{constructor(){this.sessionToken=jd.EMPTY_BYTE_STRING}getSessionToken(e){return $c.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$c.resolve()}}class Ng{constructor(){this.Qr=new zd(Og.$r),this.Ur=new zd(Og.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const t=new Og(e,n);this.Qr=this.Qr.add(t),this.Ur=this.Ur.add(t)}Wr(e,n){e.forEach(e=>this.addReference(e,n))}removeReference(e,n){this.Gr(new Og(e,n))}zr(e,n){e.forEach(e=>this.removeReference(e,n))}jr(e){const n=new _c(new Ec([])),t=new Og(n,e),r=new Og(n,e+1),i=[];return this.Ur.forEachInRange([t,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _c(new Ec([])),t=new Og(n,e),r=new Og(n,e+1);let i=Rp();return this.Ur.forEachInRange([t,r],e=>{i=i.add(e.key)}),i}containsKey(e){const n=new Og(e,0),t=this.Qr.firstAfterOrEqual(n);return null!==t&&e.isEqual(t.key)}}class Og{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _c.comparator(e.key,n.key)||vc(e.Yr,n.Yr)}static Kr(e,n){return vc(e.Yr,n.Yr)||_c.comparator(e.key,n.key)}}class zg{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zd(Og.$r)}checkEmpty(e){return $c.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,t,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uh(i,n,t,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new Og(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return $c.resolve(o)}lookupMutationBatch(e,n){return $c.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const t=n+1,r=this.ei(t),i=r<0?0:r;return $c.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $c.resolve(0===this.mutationQueue.length?nd:this.tr-1)}getAllMutationBatches(e){return $c.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const t=new Og(n,0),r=new Og(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([t,r],e=>{const n=this.Xr(e.Yr);i.push(n)}),$c.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let t=new zd(vc);return n.forEach(e=>{const n=new Og(e,0),r=new Og(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([n,r],e=>{t=t.add(e.Yr)})}),$c.resolve(this.ti(t))}getAllMutationBatchesAffectingQuery(e,n){const t=n.path,r=t.length+1;let i=t;_c.isDocumentKey(i)||(i=i.child(""));const o=new Og(new _c(i),0);let s=new zd(vc);return this.Zr.forEachWhile(e=>{const n=e.key.path;return!!t.isPrefixOf(n)&&(n.length===r&&(s=s.add(e.Yr)),!0)},o),$c.resolve(this.ti(s))}ti(e){const n=[];return e.forEach(e=>{const t=this.Xr(e);null!==t&&n.push(t)}),n}removeMutationBatch(e,n){rc(0===this.ni(n.batchId,"removed"),55003),this.mutationQueue.shift();let t=this.Zr;return $c.forEach(n.mutations,r=>{const i=new Og(r.key,n.batchId);return t=t.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=t})}ir(e){}containsKey(e,n){const t=new Og(n,0),r=this.Zr.firstAfterOrEqual(t);return $c.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$c.resolve()}ni(e,n){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vg{constructor(e){this.ri=e,this.docs=new Fd(_c.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const t=n.key,r=this.docs.get(t),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(t,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,t.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const t=this.docs.get(n);return $c.resolve(t?t.document.mutableCopy():Iu.newInvalidDocument(n))}getEntries(e,n){let t=wp();return n.forEach(e=>{const n=this.docs.get(e);t=t.insert(e,n?n.document.mutableCopy():Iu.newInvalidDocument(e))}),$c.resolve(t)}getDocumentsMatchingQuery(e,n,t,r){let i=wp();const o=n.path,s=new _c(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Kc(qc(s),t)<=0||(r.has(s.key)||fp(n,s))&&(i=i.insert(s.key,s.mutableCopy()))}return $c.resolve(i)}getAllFromCollectionGroup(e,n,t,r){nc(9500)}ii(e,n){return $c.forEach(this.docs,e=>n(e))}newChangeBuffer(e){return new Bg(this)}getSize(e){return $c.resolve(this.size)}}class Bg extends Rg{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((t,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(t)}),$c.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Ug{constructor(e){this.persistence=e,this.si=new xp(e=>Zu(e),ep),this.lastRemoteSnapshotVersion=Uc.min(),this.highestTargetId=0,this.oi=0,this._i=new Ng,this.targetCount=0,this.ai=Sg.ur()}forEachTarget(e,n){return this.si.forEach((e,t)=>n(t)),$c.resolve()}getLastRemoteSnapshotVersion(e){return $c.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $c.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$c.resolve(this.highestTargetId)}setTargetsMetadata(e,n,t){return t&&(this.lastRemoteSnapshotVersion=t),n>this.oi&&(this.oi=n),$c.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sg(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$c.resolve()}updateTargetData(e,n){return this.Pr(n),$c.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$c.resolve()}removeTargets(e,n,t){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=n&&null===t.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),$c.waitFor(i).next(()=>r)}getTargetCount(e){return $c.resolve(this.targetCount)}getTargetData(e,n){const t=this.si.get(n)||null;return $c.resolve(t)}addMatchingKeys(e,n,t){return this._i.Wr(n,t),$c.resolve()}removeMatchingKeys(e,n,t){this._i.zr(n,t);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(n=>{i.push(r.markPotentiallyOrphaned(e,n))}),$c.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$c.resolve()}getMatchingKeysForTargetId(e,n){const t=this._i.Hr(n);return $c.resolve(t)}containsKey(e,n){return $c.resolve(this._i.containsKey(n))}}class jg{constructor(e,n){this.ui={},this.overlays={},this.ci=new ed(0),this.li=!1,this.li=!0,this.hi=new Fg,this.referenceDelegate=e(this),this.Pi=new Ug(this),this.indexManager=new bg,this.remoteDocumentCache=function(e){return new Vg(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new gg(n),this.Ii=new Mg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let t=this.ui[e.toKey()];return t||(t=new zg(n,this.referenceDelegate),this.ui[e.toKey()]=t),t}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,t){$l("MemoryPersistence","Starting transaction:",e);const r=new Hg(this.ci.next());return this.referenceDelegate.Ei(),t(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,n){return $c.or(Object.values(this.ui).map(t=>()=>t.containsKey(e,n)))}}class Hg extends Qc{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ri=new Ng,this.Vi=null}static mi(e){return new Wg(e)}get fi(){if(this.Vi)return this.Vi;throw nc(60996)}addReference(e,n,t){return this.Ri.addReference(t,n),this.fi.delete(t.toString()),$c.resolve()}removeReference(e,n,t){return this.Ri.removeReference(t,n),this.fi.add(t.toString()),$c.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$c.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(e=>this.fi.add(e.toString()));const t=this.persistence.getTargetCache();return t.getMatchingKeysForTargetId(e,n.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>t.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $c.forEach(this.fi,t=>{const r=_c.fromPath(t);return this.gi(e,r).next(e=>{e||n.removeEntry(r,Uc.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(e=>{e?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $c.or([()=>$c.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qg{constructor(e,n){this.persistence=e,this.pi=new xp(e=>sd(e.path),(e,n)=>e.isEqual(n)),this.garbageCollector=_g(this,n)}static mi(e,n){return new qg(e,n)}Ei(){}di(e){return $c.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>n.next(n=>e+n))}wr(e){let n=0;return this.pr(e,e=>{n++}).next(()=>n)}pr(e,n){return $c.forEach(this.pi,(t,r)=>this.br(e,t,r).next(e=>e?$c.resolve():n(r)))}removeTargets(e,n,t){return this.persistence.getTargetCache().removeTargets(e,n,t)}removeOrphanedDocuments(e,n){let t=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,n).next(e=>{e||(t++,i.removeEntry(r,Uc.min()))})).next(()=>i.apply(e)).next(()=>t)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$c.resolve()}removeTarget(e,n){const t=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,t)}addReference(e,n,t){return this.pi.set(t,e.currentSequenceNumber),$c.resolve()}removeReference(e,n,t){return this.pi.set(t,e.currentSequenceNumber),$c.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$c.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mu(e.data.value)),n}br(e,n,t){return $c.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const e=this.pi.get(n);return $c.resolve(void 0!==e&&e>t)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gg{constructor(e,n,t,r){this.targetId=e,this.fromCache=n,this.Es=t,this.ds=r}static As(e,n){let t=Rp(),r=Rp();for(const i of n.docChanges)switch(i.type){case 0:t=t.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Gg(e,n.fromCache,t,r)}}class Kg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Yg{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Gn()?8:Jc(Hn())>0?6:4}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,t,r){const i={result:null};return this.ys(e,n).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,n,r,t).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const t=new Kg;return this.Ss(e,n,t).next(r=>{if(i.result=r,this.Vs)return this.bs(e,n,t,r.size)})}).next(()=>i.result)}bs(e,n,t,r){return t.documentReadCount<this.fs?(Xl()<=pt.DEBUG&&$l("QueryEngine","SDK will not create cache indexes for query:",gp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$c.resolve()):(Xl()<=pt.DEBUG&&$l("QueryEngine","Query:",gp(n),"scans",t.documentReadCount,"local documents and returns",r,"documents as results."),t.documentReadCount>this.gs*r?(Xl()<=pt.DEBUG&&$l("QueryEngine","The SDK decides to create cache indexes for query:",gp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lp(n))):$c.resolve())}ys(e,n){if(op(n))return $c.resolve(null);let t=lp(n);return this.indexManager.getIndexType(e,t).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=up(n,null,"F"),t=lp(n)),this.indexManager.getDocumentsMatchingTarget(e,t).next(r=>{const i=Rp(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,t).next(t=>{const o=this.Ds(n,r);return this.Cs(n,o,i,t.readTime)?this.ys(e,up(n,null,"F")):this.vs(e,o,n,t)}))})))}ws(e,n,t,r){return op(n)||r.isEqual(Uc.min())?$c.resolve(null):this.ps.getDocuments(e,t).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,t,r)?$c.resolve(null):(Xl()<=pt.DEBUG&&$l("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gp(n)),this.vs(e,o,n,Wc(r,jc)).next(e=>e))})}Ds(e,n){let t=new zd(bp(e));return n.forEach((n,r)=>{fp(e,r)&&(t=t.add(r))}),t}Cs(e,n,t,r){if(null===e.limit)return!1;if(t.size!==n.size)return!0;const i="F"===e.limitType?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,t){return Xl()<=pt.DEBUG&&$l("QueryEngine","Using full collection scan to execute query:",gp(n)),this.ps.getDocumentsMatchingQuery(e,n,Gc.min(),t)}vs(e,n,t,r){return this.ps.getDocumentsMatchingQuery(e,t,r).next(e=>(n.forEach(n=>{e=e.insert(n.key,n)}),e))}}const Qg="LocalStore";class Xg{constructor(e,n,t,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Fd(vc),this.xs=new xp(e=>Zu(e),ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(t)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dg(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $g(e,n,t,r){return new Xg(e,n,t,r)}async function Jg(e,n){const t=ic(e);return await t.persistence.runTransaction("Handle user change","readonly",e=>{let r;return t.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,t.Bs(n),t.mutationQueue.getAllMutationBatches(e))).next(n=>{const i=[],o=[];let s=Rp();for(const e of r){i.push(e.batchId);for(const n of e.mutations)s=s.add(n.key)}for(const e of n){o.push(e.batchId);for(const n of e.mutations)s=s.add(n.key)}return t.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function Zg(e){const n=ic(e);return n.persistence.runTransaction("Get last remote snapshot version","readonly",e=>n.Pi.getLastRemoteSnapshotVersion(e))}function ef(e,n,t){let r=Rp(),i=Rp();return t.forEach(e=>r=r.add(e)),n.getEntries(e,r).next(e=>{let r=wp();return t.forEach((t,o)=>{const s=e.get(t);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(t)),o.isNoDocument()&&o.version.isEqual(Uc.min())?(n.removeEntry(t,o.readTime),r=r.insert(t,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(n.addEntry(o),r=r.insert(t,o)):$l(Qg,"Ignoring outdated watch update for ",t,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function nf(e,n){const t=ic(e);return t.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===n&&(n=nd),t.mutationQueue.getNextMutationBatchAfterBatchId(e,n)))}function tf(e,n){const t=ic(e);return t.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return t.Pi.getTargetData(e,n).next(i=>i?(r=i,$c.resolve(r)):t.Pi.allocateTargetId(e).next(i=>(r=new hg(n,i,"TargetPurposeListen",e.currentSequenceNumber),t.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=t.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(e.targetId,e),t.xs.set(n,e.targetId)),e})}async function rf(e,n,t){const r=ic(e),i=r.Ms.get(n),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Zc(e))throw e;$l(Qg,"Failed to update sequence numbers for target ".concat(n,": ").concat(e))}r.Ms=r.Ms.remove(n),r.xs.delete(i.target)}function of(e,n,t){const r=ic(e);let i=Uc.min(),o=Rp();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,n,t){const r=ic(e),i=r.xs.get(t);return void 0!==i?$c.resolve(r.Ms.get(i)):r.Pi.getTargetData(n,t)}(r,e,lp(n)).next(n=>{if(n)return i=n.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,n.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,n,t?i:Uc.min(),t?o:Rp())).next(e=>(sf(r,mp(n),e),{documents:e,Qs:o})))}function sf(e,n,t){let r=e.Os.get(n)||Uc.min();t.forEach((e,n)=>{n.readTime.compareTo(r)>0&&(r=n.readTime)}),e.Os.set(n,r)}class af{constructor(){this.activeTargetIds=Dp()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lf{constructor(){this.Mo=new af,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,t){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,t){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new af,Promise.resolve()}handleUserChange(e,n,t){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cf{Oo(e){}shutdown(){}}const df="ConnectivityMonitor";class uf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$l(df,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$l(df,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pf=null;function hf(){return null===pf?pf=268435456+Math.round(2147483648*Math.random()):pf++,"0x"+pf.toString(16)}const gf="RestConnection",ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",t=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko="projects/".concat(t,"/databases/").concat(r),this.Wo=this.databaseId.database===nu?"project_id=".concat(t):"project_id=".concat(t,"&database_id=").concat(r)}Go(e,n,t,r,i){const o=hf(),s=this.zo(e,n.toUriEncodedString());$l(gf,"Sending RPC '".concat(e,"' ").concat(o,":"),s,t);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=zn(l);return this.Jo(e,s,a,t,c).then(n=>($l(gf,"Received RPC '".concat(e,"' ").concat(o,": "),n),n),n=>{throw Zl(gf,"RPC '".concat(e,"' ").concat(o," failed with error: "),n,"url: ",s,"request:",t),n})}Ho(e,n,t,r,i,o){return this.Go(e,n,t,r,i)}jo(e,n,t){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((n,t)=>e[t]=n),t&&t.headers.forEach((n,t)=>e[t]=n)}zo(e,n){const t=ff[e];return"".concat(this.Uo,"/v1/").concat(n,":").concat(t)}terminate(){}}class bf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vf="WebChannelConnection";class xf extends mf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,t,r,i){const o=hf();return new Promise((i,s)=>{const a=new Fl;a.setWithCredentials(!0),a.listenOnce(Ol.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case zl.NO_ERROR:const t=a.getResponseJson();$l(vf,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case zl.TIMEOUT:$l(vf,"RPC '".concat(e,"' ").concat(o," timed out")),s(new sc(oc.DEADLINE_EXCEEDED,"Request time out"));break;case zl.HTTP_ERROR:const r=a.getStatus();if($l(vf,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var n;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null===(n=e)||void 0===n?void 0:n.error;if(t&&t.status&&t.message){const e=function(e){const n=e.toLowerCase().replace(/_/g,"-");return Object.values(oc).indexOf(n)>=0?n:oc.UNKNOWN}(t.status);s(new sc(e,t.message))}else s(new sc(oc.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new sc(oc.UNAVAILABLE,"Connection failed."));break;default:nc(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{$l(vf,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);$l(vf,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(n,"POST",l,t,15)})}T_(e,n,t){const r=hf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jl(),s=Ul(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,n,t),a.encodeInitMessageHeaders=!0;const c=i.join("");$l(vf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const d=o.createWebChannel(c,a);this.I_(d);let u=!1,p=!1;const h=new bf({Yo:n=>{p?$l(vf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),n):(u||($l(vf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),u=!0),$l(vf,"RPC '".concat(e,"' stream ").concat(r," sending:"),n),d.send(n))},Zo:()=>d.close()}),g=(e,n,t)=>{e.listen(n,e=>{try{t(e)}catch(e){setTimeout(()=>{throw e},0)}})};return g(d,Nl.EventType.OPEN,()=>{p||($l(vf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),h.o_())}),g(d,Nl.EventType.CLOSE,()=>{p||(p=!0,$l(vf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.a_(),this.E_(d))}),g(d,Nl.EventType.ERROR,n=>{p||(p=!0,Zl(vf,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),n.name,"Message:",n.message),h.a_(new sc(oc.UNAVAILABLE,"The operation could not be completed")))}),g(d,Nl.EventType.MESSAGE,n=>{if(!p){var t;const i=n.data[0];rc(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(t=o[0])||void 0===t?void 0:t.error);if(s){$l(vf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const n=s.status;let t=function(e){const n=fh[e];if(void 0!==n)return vh(n)}(n),i=s.message;void 0===t&&(t=oc.INTERNAL,i="Unknown error status: "+n+" with message "+s.message),p=!0,h.a_(new sc(t,i)),d.close()}else $l(vf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.u_(i)}}),g(s,Bl.STAT_EVENT,n=>{n.stat===Vl.PROXY?$l(vf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):n.stat===Vl.NOPROXY&&$l(vf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{h.__()},0),h}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function yf(){return"undefined"!=typeof document?document:null}function wf(e){return new zh(e,!0)}class Sf{constructor(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=n,this.d_=t,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),t=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-t);r>0&&$l("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(t," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kf="PersistentStream";class Cf{constructor(e,n,t,r,i,o,s,a){this.Mi=e,this.S_=t,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sf(e,n)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():n&&n.code===oc.RESOURCE_EXHAUSTED?(Jl(n.toString()),Jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[t,r]=e;this.D_===n&&this.G_(t,r)},n=>{e(()=>{const e=new sc(oc.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(e)})})}G_(e,n){const t=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{t(()=>this.listener.Xo())}),this.stream.t_(()=>{t(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{t(()=>this.z_(e))}),this.stream.onMessage(e=>{t(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $l(kf,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():($l(kf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Af extends Cf{constructor(e,n,t,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,t,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=function(e,n){let t;if("targetChange"in n){n.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nc(39313,{state:e})}(n.targetChange.targetChangeType||"NO_CHANGE"),i=n.targetChange.targetIds||[],o=function(e,n){return e.useProto3Json?(rc(void 0===n||"string"==typeof n,58123),jd.fromBase64String(n||"")):(rc(void 0===n||n instanceof Buffer||n instanceof Uint8Array,16193),jd.fromUint8Array(n||new Uint8Array))}(e,n.targetChange.resumeToken),s=n.targetChange.cause,a=s&&function(e){const n=void 0===e.code?oc.UNKNOWN:vh(e.code);return new sc(n,e.message||"")}(s);t=new Rh(r,i,o,a||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yh(e,r.document.name),o=Hh(r.document.updateTime),s=r.document.createTime?Hh(r.document.createTime):Uc.min(),a=new Eu({mapValue:{fields:r.document.fields}}),l=Iu.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new Ih(c,d,l.key,l)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const i=Yh(e,r.document),o=r.readTime?Hh(r.readTime):Uc.min(),s=Iu.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ih([],a,s.key,s)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const i=Yh(e,r.document),o=r.removedTargetIds||[];t=new Ih([],o,i,null)}else{if(!("filter"in n))return nc(11601,{Rt:n});{n.filter;const e=n.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new gh(r,i),s=e.targetId;t=new _h(s,o)}}return t}(this.serializer,e),t=function(e){if(!("targetChange"in e))return Uc.min();const n=e.targetChange;return n.targetIds&&n.targetIds.length?Uc.min():n.readTime?Hh(n.readTime):Uc.min()}(e);return this.listener.H_(n,t)}Y_(e){const n={};n.database=$h(this.serializer),n.addTarget=function(e,n){let t;const r=n.target;if(t=np(r)?{documents:ng(e,r)}:{query:tg(e,r).ft},t.targetId=n.targetId,n.resumeToken.approximateByteSize()>0){t.resumeToken=Uh(e,n.resumeToken);const r=Vh(e,n.expectedCount);null!==r&&(t.expectedCount=r)}else if(n.snapshotVersion.compareTo(Uc.min())>0){t.readTime=Bh(e,n.snapshotVersion.toTimestamp());const r=Vh(e,n.expectedCount);null!==r&&(t.expectedCount=r)}return t}(this.serializer,e);const t=function(e,n){const t=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nc(28987,{purpose:e})}}(n.purpose);return null==t?null:{"goog-listen-tags":t}}(this.serializer,e);t&&(n.labels=t),this.q_(n)}Z_(e){const n={};n.database=$h(this.serializer),n.removeTarget=e,this.q_(n)}}class Ef extends Cf{constructor(e,n,t,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,t,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rc(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rc(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){rc(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=function(e,n){return e&&e.length>0?(rc(void 0!==n,14353),e.map(e=>function(e,n){let t=e.updateTime?Hh(e.updateTime):Hh(n);return t.isEqual(Uc.min())&&(t=Hh(n)),new Qp(t,e.transformResults||[])}(e,n))):[]}(e.writeResults,e.commitTime),t=Hh(e.commitTime);return this.listener.na(t,n)}ra(){const e={};e.database=$h(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(e=>eg(this.serializer,e))};this.q_(n)}}class Tf{}class If extends Tf{constructor(e,n,t,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=t,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new sc(oc.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,t,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,qh(n,t),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sc(oc.UNKNOWN,e.toString())})}Ho(e,n,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,qh(n,t),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sc(oc.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _f{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Jl(n),this.aa=!1):$l("OnlineStateTracker",n)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Rf="RemoteStore";class Pf{constructor(e,n,t,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=t,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{t.enqueueAndForget(async()=>{Bf(this)&&($l(Rf,"Restarting streams for network reachability change."),await async function(e){const n=ic(e);n.Ea.add(4),await Mf(n),n.Ra.set("Unknown"),n.Ea.delete(4),await Df(n)}(this))})}),this.Ra=new _f(t,r)}}async function Df(e){if(Bf(e))for(const n of e.da)await n(!0)}async function Mf(e){for(const n of e.da)await n(!1)}function Lf(e,n){const t=ic(e);t.Ia.has(n.targetId)||(t.Ia.set(n.targetId,n),Vf(t)?zf(t):om(t).O_()&&Nf(t,n))}function Ff(e,n){const t=ic(e),r=om(t);t.Ia.delete(n),r.O_()&&Of(t,n),0===t.Ia.size&&(r.O_()?r.L_():Bf(t)&&t.Ra.set("Unknown"))}function Nf(e,n){if(e.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Uc.min())>0){const t=e.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(t)}om(e).Y_(n)}function Of(e,n){e.Va.Ue(n),om(e).Z_(n)}function zf(e){e.Va=new Dh({getRemoteKeysForTarget:n=>e.remoteSyncer.getRemoteKeysForTarget(n),At:n=>e.Ia.get(n)||null,ht:()=>e.datastore.serializer.databaseId}),om(e).start(),e.Ra.ua()}function Vf(e){return Bf(e)&&!om(e).x_()&&e.Ia.size>0}function Bf(e){return 0===ic(e).Ea.size}function Uf(e){e.Va=void 0}async function jf(e){e.Ra.set("Online")}async function Hf(e){e.Ia.forEach((n,t)=>{Nf(e,n)})}async function Wf(e,n){Uf(e),Vf(e)?(e.Ra.ha(n),zf(e)):e.Ra.set("Unknown")}async function qf(e,n,t){if(e.Ra.set("Online"),n instanceof Rh&&2===n.state&&n.cause)try{await async function(e,n){const t=n.cause;for(const r of n.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,t),e.Ia.delete(r),e.Va.removeTarget(r))}(e,n)}catch(t){$l(Rf,"Failed to remove targets %s: %s ",n.targetIds.join(","),t),await Gf(e,t)}else if(n instanceof Ih?e.Va.Ze(n):n instanceof _h?e.Va.st(n):e.Va.tt(n),!t.isEqual(Uc.min()))try{const n=await Zg(e.localStore);t.compareTo(n)>=0&&await function(e,n){const t=e.Va.Tt(n);return t.targetChanges.forEach((t,r)=>{if(t.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(t.resumeToken,n))}}),t.targetMismatches.forEach((n,t)=>{const r=e.Ia.get(n);if(!r)return;e.Ia.set(n,r.withResumeToken(jd.EMPTY_BYTE_STRING,r.snapshotVersion)),Of(e,n);const i=new hg(r.target,n,t,r.sequenceNumber);Nf(e,i)}),e.remoteSyncer.applyRemoteEvent(t)}(e,t)}catch(n){$l(Rf,"Failed to raise snapshot:",n),await Gf(e,n)}}async function Gf(e,n,t){if(!Zc(n))throw n;e.Ea.add(1),await Mf(e),e.Ra.set("Offline"),t||(t=()=>Zg(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$l(Rf,"Retrying IndexedDB access"),await t(),e.Ea.delete(1),await Df(e)})}function Kf(e,n){return n().catch(t=>Gf(e,t,n))}async function Yf(e){const n=ic(e),t=sm(n);let r=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:nd;for(;Qf(n);)try{const e=await nf(n.localStore,r);if(null===e){0===n.Ta.length&&t.L_();break}r=e.batchId,Xf(n,e)}catch(e){await Gf(n,e)}$f(n)&&Jf(n)}function Qf(e){return Bf(e)&&e.Ta.length<10}function Xf(e,n){e.Ta.push(n);const t=sm(e);t.O_()&&t.X_&&t.ea(n.mutations)}function $f(e){return Bf(e)&&!sm(e).x_()&&e.Ta.length>0}function Jf(e){sm(e).start()}async function Zf(e){sm(e).ra()}async function em(e){const n=sm(e);for(const t of e.Ta)n.ea(t.mutations)}async function nm(e,n,t){const r=e.Ta.shift(),i=ph.from(r,n,t);await Kf(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Yf(e)}async function tm(e,n){n&&sm(e).X_&&await async function(e,n){if(function(e){return bh(e)&&e!==oc.ABORTED}(n.code)){const t=e.Ta.shift();sm(e).B_(),await Kf(e,()=>e.remoteSyncer.rejectFailedWrite(t.batchId,n)),await Yf(e)}}(e,n),$f(e)&&Jf(e)}async function rm(e,n){const t=ic(e);t.asyncQueue.verifyOperationInProgress(),$l(Rf,"RemoteStore received new credentials");const r=Bf(t);t.Ea.add(3),await Mf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(n),t.Ea.delete(3),await Df(t)}async function im(e,n){const t=ic(e);n?(t.Ea.delete(2),await Df(t)):n||(t.Ea.add(2),await Mf(t),t.Ra.set("Unknown"))}function om(e){return e.ma||(e.ma=function(e,n,t){const r=ic(e);return r.sa(),new Af(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}(e.datastore,e.asyncQueue,{Xo:jf.bind(null,e),t_:Hf.bind(null,e),r_:Wf.bind(null,e),H_:qf.bind(null,e)}),e.da.push(async n=>{n?(e.ma.B_(),Vf(e)?zf(e):e.Ra.set("Unknown")):(await e.ma.stop(),Uf(e))})),e.ma}function sm(e){return e.fa||(e.fa=function(e,n,t){const r=ic(e);return r.sa(),new Ef(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Zf.bind(null,e),r_:tm.bind(null,e),ta:em.bind(null,e),na:nm.bind(null,e)}),e.da.push(async n=>{n?(e.fa.B_(),await Yf(e)):(await e.fa.stop(),e.Ta.length>0&&($l(Rf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class am{constructor(e,n,t,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=t,this.op=r,this.removalCallback=i,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,t,r,i){const o=Date.now()+t,s=new am(e,n,o,r,i);return s.start(t),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sc(oc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(e,n){if(Jl("AsyncQueue","".concat(n,": ").concat(e)),Zc(e))return new sc(oc.UNAVAILABLE,"".concat(n,": ").concat(e));throw e}class cm{static emptySet(e){return new cm(e.comparator)}constructor(e){this.comparator=e?(n,t)=>e(n,t)||_c.comparator(n.key,t.key):(e,n)=>_c.comparator(e.key,n.key),this.keyedMap=kp(),this.sortedSet=new Fd(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,t)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cm))return!1;if(this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),t=e.sortedSet.getIterator();for(;n.hasNext();){const e=n.getNext().key,r=t.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const t=new cm;return t.comparator=this.comparator,t.keyedMap=e,t.sortedSet=n,t}}class dm{constructor(){this.ga=new Fd(_c.comparator)}track(e){const n=e.doc.key,t=this.ga.get(n);t?0!==e.type&&3===t.type?this.ga=this.ga.insert(n,e):3===e.type&&1!==t.type?this.ga=this.ga.insert(n,{type:t.type,doc:e.doc}):2===e.type&&2===t.type?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):2===e.type&&0===t.type?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):1===e.type&&0===t.type?this.ga=this.ga.remove(n):1===e.type&&2===t.type?this.ga=this.ga.insert(n,{type:1,doc:t.doc}):0===e.type&&1===t.type?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):nc(63341,{Rt:e,pa:t}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,t)=>{e.push(t)}),e}}class um{constructor(e,n,t,r,i,o,s,a,l){this.query=e,this.docs=n,this.oldDocs=t,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,n,t,r,i){const o=[];return n.forEach(e=>{o.push({type:0,doc:e})}),new um(e,n,cm.emptySet(n),o,t,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,t=e.docChanges;if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==t[r].type||!n[r].doc.isEqual(t[r].doc))return!1;return!0}}class pm{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hm{constructor(){this.queries=gm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,n){const t=ic(e),r=t.queries;t.queries=gm(),r.forEach((e,t)=>{for(const r of t.Sa)r.onError(n)})}(this,new sc(oc.ABORTED,"Firestore shutting down"))}}function gm(){return new xp(e=>hp(e),pp)}async function fm(e,n){const t=ic(e);let r=3;const i=n.query;let o=t.queries.get(i);o?!o.ba()&&n.Da()&&(r=2):(o=new pm,r=n.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(e){const t=lm(e,"Initialization of query '".concat(gp(n.query),"' failed"));return void n.onError(t)}t.queries.set(i,o),o.Sa.push(n),n.va(t.onlineState),o.wa&&n.Fa(o.wa)&&xm(t)}async function mm(e,n){const t=ic(e),r=n.query;let i=3;const o=t.queries.get(r);if(o){const e=o.Sa.indexOf(n);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=n.Da()?0:1:!o.ba()&&n.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bm(e,n){const t=ic(e);let r=!1;for(const i of n){const e=i.query,n=t.queries.get(e);if(n){for(const e of n.Sa)e.Fa(i)&&(r=!0);n.wa=i}}r&&xm(t)}function vm(e,n,t){const r=ic(e),i=r.queries.get(n);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(n)}function xm(e){e.Ca.forEach(e=>{e.next()})}var ym,wm;(wm=ym||(ym={})).Ma="default",wm.Cache="cache";class Sm{constructor(e,n,t){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=t||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const t of e.docChanges)3!==t.type&&n.push(t);e=new um(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache)return!0;if(!this.Da())return!0;const t="Offline"!==n;return(!this.options.qa||!t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&!0===this.options.includeMetadataChanges}ka(e){e=um.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}class km{constructor(e){this.key=e}}class Cm{constructor(e){this.key=e}}class Am{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Rp(),this.mutatedKeys=Rp(),this.eu=bp(e),this.tu=new cm(this.eu)}get nu(){return this.Ya}ru(e,n){const t=n?n.iu:new dm,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,n)=>{const c=r.get(e),d=fp(this.query,n)?n:null,u=!!c&&this.mutatedKeys.has(c.key),p=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let h=!1;c&&d?c.data.isEqual(d.data)?u!==p&&(t.track({type:3,doc:d}),h=!0):this.su(c,d)||(t.track({type:2,doc:d}),h=!0,(a&&this.eu(d,a)>0||l&&this.eu(d,l)<0)&&(s=!0)):!c&&d?(t.track({type:0,doc:d}),h=!0):c&&!d&&(t.track({type:1,doc:c}),h=!0,(a||l)&&(s=!0)),h&&(d?(o=o.add(d),i=p?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),t.track({type:1,doc:e})}return{tu:o,iu:t,Cs:s,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,t,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,n)=>function(e,n){const t=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nc(20277,{Rt:e})}};return t(e)-t(n)}(e.type,n.type)||this.eu(e.doc,n.doc)),this.ou(t),r=null!==r&&void 0!==r&&r;const s=n&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new um(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!t&&t.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Rp(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const n=[];return e.forEach(e=>{this.Xa.has(e)||n.push(new Cm(e))}),this.Xa.forEach(t=>{e.has(t)||n.push(new km(t))}),n}cu(e){this.Ya=e.Qs,this.Xa=Rp();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return um.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Em="SyncEngine";class Tm{constructor(e,n,t){this.query=e,this.targetId=n,this.view=t}}class Im{constructor(e){this.key=e,this.hu=!1}}class _m{constructor(e,n,t,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=t,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new xp(e=>hp(e),pp),this.Iu=new Map,this.Eu=new Set,this.du=new Fd(_c.comparator),this.Au=new Map,this.Ru=new Ng,this.Vu={},this.mu=new Map,this.fu=Sg.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Rm(e,n){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=$m(e);let i;const o=r.Tu.get(n);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Dm(r,n,t,!0),i}async function Pm(e,n){const t=$m(e);await Dm(t,n,!0,!1)}async function Dm(e,n,t,r){const i=await tf(e.localStore,lp(n)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,t);let a;return r&&(a=await Mm(e,n,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&t&&Lf(e.remoteStore,i),a}async function Mm(e,n,t,r,i){e.pu=(n,t,r)=>async function(e,n,t,r){let i=n.view.ru(t);i.Cs&&(i=await of(e.localStore,n.query,!1).then(e=>{let{documents:t}=e;return n.view.ru(t,i)}));const o=r&&r.targetChanges.get(n.targetId),s=r&&null!=r.targetMismatches.get(n.targetId),a=n.view.applyChanges(i,e.isPrimaryClient,o,s);return qm(e,n.targetId,a.au),a.snapshot}(e,n,t,r);const o=await of(e.localStore,n,!0),s=new Am(n,o.Qs),a=s.ru(o.documents),l=Th.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);qm(e,t,c.au);const d=new Tm(n,t,s);return e.Tu.set(n,d),e.Iu.has(t)?e.Iu.get(t).push(n):e.Iu.set(t,[n]),c.snapshot}async function Lm(e,n,t){const r=ic(e),i=r.Tu.get(n),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!pp(e,n))),void r.Tu.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ff(r.remoteStore,i.targetId),Hm(r,i.targetId)}).catch(Xc)):(Hm(r,i.targetId),await rf(r.localStore,i.targetId,!0))}async function Fm(e,n){const t=ic(e),r=t.Tu.get(n),i=t.Iu.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ff(t.remoteStore,r.targetId))}async function Nm(e,n){const t=ic(e);try{const e=await function(e,n){const t=ic(e),r=n.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const s=[];n.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(t.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>t.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==n.targetMismatches.get(a)?c=c.withResumeToken(jd.EMPTY_BYTE_STRING,Uc.min()).withLastLimboFreeSnapshotVersion(Uc.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,n,t){return 0===e.resumeToken.approximateByteSize()||(n.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0)}(l,c,o)&&s.push(t.Pi.updateTargetData(e,c))});let a=wp(),l=Rp();if(n.documentUpdates.forEach(r=>{n.resolvedLimboDocuments.has(r)&&s.push(t.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(ef(e,o,n.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Uc.min())){const n=t.Pi.getLastRemoteSnapshotVersion(e).next(n=>t.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(n)}return $c.waitFor(s).next(()=>o.apply(e)).next(()=>t.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(t.Ms=i,e))}(t.localStore,n);n.targetChanges.forEach((e,n)=>{const r=t.Au.get(n);r&&(rc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?rc(r.hu,14607):e.removedDocuments.size>0&&(rc(r.hu,42227),r.hu=!1))}),await Ym(t,e,n)}catch(e){await Xc(e)}}function Om(e,n,t){const r=ic(e);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const e=[];r.Tu.forEach((t,r)=>{const i=r.view.va(n);i.snapshot&&e.push(i.snapshot)}),function(e,n){const t=ic(e);t.onlineState=n;let r=!1;t.queries.forEach((e,t)=>{for(const i of t.Sa)i.va(n)&&(r=!0)}),r&&xm(t)}(r.eventManager,n),e.length&&r.Pu.H_(e),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function zm(e,n,t){const r=ic(e);r.sharedClientState.updateQueryState(n,"rejected",t);const i=r.Au.get(n),o=i&&i.key;if(o){let e=new Fd(_c.comparator);e=e.insert(o,Iu.newNoDocument(o,Uc.min()));const t=Rp().add(o),i=new Eh(Uc.min(),new Map,new Fd(vc),e,t);await Nm(r,i),r.du=r.du.remove(o),r.Au.delete(n),Km(r)}else await rf(r.localStore,n,!1).then(()=>Hm(r,n,t)).catch(Xc)}async function Vm(e,n){const t=ic(e),r=n.batch.batchId;try{const e=await function(e,n){const t=ic(e);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=n.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return function(e,n,t,r){const i=t.batch,o=i.keys();let s=$c.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(n,e)).next(n=>{const o=t.docVersions.get(e);rc(null!==o,48541),n.version.compareTo(o)<0&&(i.applyToRemoteDocument(n,t),n.isValidDocument()&&(n.setReadTime(t.commitVersion),r.addEntry(n)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(n,i))}(t,e,n,i).next(()=>i.apply(e)).next(()=>t.mutationQueue.performConsistencyCheck(e)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(e,r,n.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let n=Rp();for(let t=0;t<e.mutationResults.length;++t)e.mutationResults[t].transformResults.length>0&&(n=n.add(e.batch.mutations[t].key));return n}(n))).next(()=>t.localDocuments.getDocuments(e,r))})}(t.localStore,n);jm(t,r,null),Um(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ym(t,e)}catch(e){await Xc(e)}}async function Bm(e,n,t){const r=ic(e);try{const e=await function(e,n){const t=ic(e);return t.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return t.mutationQueue.lookupMutationBatch(e,n).next(n=>(rc(null!==n,37113),r=n.keys(),t.mutationQueue.removeMutationBatch(e,n))).next(()=>t.mutationQueue.performConsistencyCheck(e)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(e,r,n)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>t.localDocuments.getDocuments(e,r))})}(r.localStore,n);jm(r,n,t),Um(r,n),r.sharedClientState.updateMutationState(n,"rejected",t),await Ym(r,e)}catch(t){await Xc(t)}}function Um(e,n){(e.mu.get(n)||[]).forEach(e=>{e.resolve()}),e.mu.delete(n)}function jm(e,n,t){const r=ic(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(n);e&&(t?e.reject(t):e.resolve(),i=i.remove(n)),r.Vu[r.currentUser.toKey()]=i}}function Hm(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(n);for(const r of e.Iu.get(n))e.Tu.delete(r),t&&e.Pu.yu(r,t);e.Iu.delete(n),e.isPrimaryClient&&e.Ru.jr(n).forEach(n=>{e.Ru.containsKey(n)||Wm(e,n)})}function Wm(e,n){e.Eu.delete(n.path.canonicalString());const t=e.du.get(n);null!==t&&(Ff(e.remoteStore,t),e.du=e.du.remove(n),e.Au.delete(t),Km(e))}function qm(e,n,t){for(const r of t)r instanceof km?(e.Ru.addReference(r.key,n),Gm(e,r)):r instanceof Cm?($l(Em,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,n),e.Ru.containsKey(r.key)||Wm(e,r.key)):nc(19791,{wu:r})}function Gm(e,n){const t=n.key,r=t.path.canonicalString();e.du.get(t)||e.Eu.has(r)||($l(Em,"New document in limbo: "+t),e.Eu.add(r),Km(e))}function Km(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const n=e.Eu.values().next().value;e.Eu.delete(n);const t=new _c(Ec.fromString(n)),r=e.fu.next();e.Au.set(r,new Im(t)),e.du=e.du.insert(t,r),Lf(e.remoteStore,new hg(lp(ip(t.path)),r,"TargetPurposeLimboResolution",ed.ce))}}async function Ym(e,n,t){const r=ic(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,n,t).then(e=>{if((e||t)&&r.isPrimaryClient){var n;const i=e?!e.fromCache:null===t||void 0===t||null===(n=t.targetChanges.get(a.targetId))||void 0===n?void 0:n.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const n=Gg.As(a.targetId,e);o.push(n)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,n){const t=ic(e);try{await t.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>$c.forEach(n,n=>$c.forEach(n.Es,r=>t.persistence.referenceDelegate.addReference(e,n.targetId,r)).next(()=>$c.forEach(n.ds,r=>t.persistence.referenceDelegate.removeReference(e,n.targetId,r)))))}catch(e){if(!Zc(e))throw e;$l(Qg,"Failed to update sequence numbers: "+e)}for(const r of n){const e=r.targetId;if(!r.fromCache){const n=t.Ms.get(e),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);t.Ms=t.Ms.insert(e,i)}}}(r.localStore,o))}async function Qm(e,n){const t=ic(e);if(!t.currentUser.isEqual(n)){$l(Em,"User change. New user:",n.toKey());const e=await Jg(t.localStore,n);t.currentUser=n,function(e,n){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new sc(oc.CANCELLED,n))})}),e.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(n,e.removedBatchIds,e.addedBatchIds),await Ym(t,e.Ls)}}function Xm(e,n){const t=ic(e),r=t.Au.get(n);if(r&&r.hu)return Rp().add(r.key);{let e=Rp();const r=t.Iu.get(n);if(!r)return e;for(const n of r){const r=t.Tu.get(n);e=e.unionWith(r.view.nu)}return e}}function $m(e){const n=ic(e);return n.remoteStore.remoteSyncer.applyRemoteEvent=Nm.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xm.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=zm.bind(null,n),n.Pu.H_=bm.bind(null,n.eventManager),n.Pu.yu=vm.bind(null,n.eventManager),n}function Jm(e){const n=ic(e);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Vm.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Bm.bind(null,n),n}class Zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $g(this.persistence,new Yg,e.initialUser,this.serializer)}Cu(e){return new jg(Wg.mi,this.serializer)}Du(e){return new lf}async terminate(){var e,n;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(n=this.indexBackfillerScheduler)&&void 0!==n&&n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zm.provider={build:()=>new Zm};class eb extends Zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rc(this.persistence.referenceDelegate instanceof qg,46915);const t=this.persistence.referenceDelegate.garbageCollector;return new Tg(t,e.asyncQueue,n)}Cu(e){const n=void 0!==this.cacheSizeBytes?wg.withCacheSize(this.cacheSizeBytes):wg.DEFAULT;return new jg(e=>qg.mi(e,n),this.serializer)}}class nb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Om(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qm.bind(null,this.syncEngine),await im(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hm}createDatastore(e){const n=wf(e.databaseInfo.databaseId),t=function(e){return new xf(e)}(e.databaseInfo);return function(e,n,t,r){return new If(e,n,t,r)}(e.authCredentials,e.appCheckCredentials,t,n)}createRemoteStore(e){return function(e,n,t,r,i){return new Pf(e,n,t,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Om(this.syncEngine,e,0),uf.v()?new uf:new cf)}createSyncEngine(e,n){return function(e,n,t,r,i,o,s){const a=new _m(e,n,t,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(e){const n=ic(e);$l(Rf,"RemoteStore shutting down."),n.Ea.add(5),await Mf(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(n=this.eventManager)||void 0===n||n.terminate()}}nb.provider={build:()=>new nb};class tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const rb="FirestoreClient";class ib{constructor(e,n,t,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=t,this.databaseInfo=r,this.user=Kl.UNAUTHENTICATED,this.clientId=bc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(t,async e=>{$l(rb,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(t,e=>($l(rb,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ac;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const t=lm(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function ob(e,n){e.asyncQueue.verifyOperationInProgress(),$l(rb,"Initializing OfflineComponentProvider");const t=e.configuration;await n.initialize(t);let r=t.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Jg(n.localStore,e),r=e)}),n.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=n}async function sb(e,n){e.asyncQueue.verifyOperationInProgress();const t=await ab(e);$l(rb,"Initializing OnlineComponentProvider"),await n.initialize(t,e.configuration),e.setCredentialChangeListener(e=>rm(n.remoteStore,e)),e.setAppCheckTokenChangeListener((e,t)=>rm(n.remoteStore,t)),e._onlineComponents=n}async function ab(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$l(rb,"Using user provided OfflineComponentProvider");try{await ob(e,e._uninitializedComponentsProvider._offline)}catch(n){const t=n;if(!function(e){return"FirebaseError"===e.name?e.code===oc.FAILED_PRECONDITION||e.code===oc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;Zl("Error using user provided cache. Falling back to memory cache: "+t),await ob(e,new Zm)}}else $l(rb,"Using default OfflineComponentProvider"),await ob(e,new eb(void 0));return e._offlineComponents}async function lb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($l(rb,"Using user provided OnlineComponentProvider"),await sb(e,e._uninitializedComponentsProvider._online)):($l(rb,"Using default OnlineComponentProvider"),await sb(e,new nb))),e._onlineComponents}function cb(e){return lb(e).then(e=>e.syncEngine)}async function db(e){const n=await lb(e),t=n.eventManager;return t.onListen=Rm.bind(null,n.syncEngine),t.onUnlisten=Lm.bind(null,n.syncEngine),t.onFirstRemoteStoreListen=Pm.bind(null,n.syncEngine),t.onLastRemoteStoreUnlisten=Fm.bind(null,n.syncEngine),t}function ub(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ac;return e.asyncQueue.enqueueAndForget(async()=>function(e,n,t,r,i){const o=new tb({next:a=>{o.Nu(),n.enqueueAndForget(()=>mm(e,s));const l=a.docs.has(t);!l&&a.fromCache?i.reject(new sc(oc.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new sc(oc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Sm(ip(t.path),o,{includeMetadataChanges:!0,qa:!0});return fm(e,s)}(await db(e),e.asyncQueue,n,t,r)),r.promise}function pb(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ac;return e.asyncQueue.enqueueAndForget(async()=>function(e,n,t,r,i){const o=new tb({next:t=>{o.Nu(),n.enqueueAndForget(()=>mm(e,s)),t.fromCache&&"server"===r.source?i.reject(new sc(oc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:e=>i.reject(e)}),s=new Sm(t,o,{includeMetadataChanges:!0,qa:!0});return fm(e,s)}(await db(e),e.asyncQueue,n,t,r)),r.promise}function hb(e){const n={};return void 0!==e.timeoutSeconds&&(n.timeoutSeconds=e.timeoutSeconds),n}const gb=new Map,fb="firestore.googleapis.com",mb=!0;class bb{constructor(e){var n,t;if(void 0===e.host){if(void 0!==e.ssl)throw new sc(oc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fb,this.ssl=mb}else this.host=e.host,this.ssl=null!==(n=e.ssl)&&void 0!==n?n:mb;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=yg;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Cg)throw new sc(oc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,n,t,r){if(!0===n&&!0===r)throw new sc(oc.INVALID_ARGUMENT,"".concat(e," and ").concat(t," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb(null!==(t=e.experimentalLongPollingOptions)&&void 0!==t?t:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sc(oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sc(oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sc(oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,n){return e.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vb{constructor(e,n,t,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=t,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new sc(oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sc(oc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cc;switch(e.type){case"firstParty":return new hc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sc(oc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=gb.get(e);n&&($l("ComponentProvider","Removing Datastore"),gb.delete(e),n.terminate())}(this),Promise.resolve()}}function xb(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Fc(e,vb);const i=zn(n),o=e._getSettings(),s=d(d({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(n,":").concat(t);i&&(Vn("https://".concat(a)),jn("Firestore",!0)),o.host!==fb&&o.host!==a&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=d(d({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!Jn(l,s)&&(e._setSettings(l),r.mockUserToken)){let n,t;if("string"==typeof r.mockUserToken)n=r.mockUserToken,t=Kl.MOCK_USER;else{var c;n=function(e,n){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t=n||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=d({iss:"https://securetoken.google.com/".concat(t),aud:t,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Rn(JSON.stringify({alg:"none",type:"JWT"})),Rn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new sc(oc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t=new Kl(i)}e._authCredentials=new dc(new lc(n,t))}}class yb{constructor(e,n,t){this.converter=n,this._query=t,this.type="query",this.firestore=e}withConverter(e){return new yb(this.firestore,e,this._query)}}class wb{constructor(e,n,t){this.converter=n,this._key=t,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wb(this.firestore,e,this._key)}toJSON(){return{type:wb._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,t){if(Oc(n,wb._jsonSchema))return new wb(e,t||null,new _c(Ec.fromString(n.referencePath)))}}wb._jsonSchemaVersion="firestore/documentReference/1.0",wb._jsonSchema={type:Nc("string",wb._jsonSchemaVersion),referencePath:Nc("string")};class Sb extends yb{constructor(e,n,t){super(e,n,ip(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wb(this.firestore,null,new _c(e))}withConverter(e){return new Sb(this.firestore,e,this._path)}}function kb(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];if(e=st(e),Rc("collection","path",n),e instanceof vb){const t=Ec.fromString(n,...r);return Dc(t),new Sb(e,null,t)}{if(!(e instanceof wb||e instanceof Sb))throw new sc(oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=e._path.child(Ec.fromString(n,...r));return Dc(t),new Sb(e.firestore,null,t)}}function Cb(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];if(e=st(e),1===arguments.length&&(n=bc.newId()),Rc("doc","path",n),e instanceof vb){const t=Ec.fromString(n,...r);return Pc(t),new wb(e,null,new _c(t))}{if(!(e instanceof wb||e instanceof Sb))throw new sc(oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=e._path.child(Ec.fromString(n,...r));return Pc(t),new wb(e.firestore,e instanceof Sb?e.converter:null,new _c(t))}}const Ab="AsyncQueue";class Eb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sf(this,"async_queue_retry"),this._c=()=>{const e=yf();e&&$l(Ab,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const n=yf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ac;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(nx){if(!Zc(nx))throw nx;$l(Ab,"Operation failed with retryable error: "+nx)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Jl("INTERNAL UNHANDLED ERROR: ",Tb(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=n,n}enqueueAfterDelay(e,n,t){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=am.createAndSchedule(this,e,n,t,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&nc(47125,{Pc:Tb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Tb(e){let n=e.message||"";return e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),n}class Ib extends vb{constructor(e,n,t,r){super(e,n,t,r),this.type="firestore",this._queue=new Eb,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function _b(e){if(e._terminated)throw new sc(oc.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Rb(e),e._firestoreClient}function Rb(e){var n,t,r;const i=e._freezeSettings(),o=function(e,n,t,r){return new eu(e,n,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hb(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(n=e._app)||void 0===n?void 0:n.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ib(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const n=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(n),_online:n}}(e._componentsProvider))}class Pb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pb(jd.fromBase64String(e))}catch(e){throw new sc(oc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pb(jd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pb._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,Pb._jsonSchema))return Pb.fromBase64String(e.bytes)}}Pb._jsonSchemaVersion="firestore/bytes/1.0",Pb._jsonSchema={type:Nc("string",Pb._jsonSchemaVersion),bytes:Nc("string")};class Db{constructor(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(let r=0;r<n.length;++r)if(0===n[r].length)throw new sc(oc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ic(n)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mb{constructor(e){this._methodName=e}}class Lb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new sc(oc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new sc(oc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vc(this._lat,e._lat)||vc(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lb._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,Lb._jsonSchema))return new Lb(e.latitude,e.longitude)}}Lb._jsonSchemaVersion="firestore/geoPoint/1.0",Lb._jsonSchema={type:Nc("string",Lb._jsonSchemaVersion),latitude:Nc("number"),longitude:Nc("number")};class Fb{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(e[t]!==n[t])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fb._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,Fb._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Fb(e.vectorValues);throw new sc(oc.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fb._jsonSchemaVersion="firestore/vectorValue/1.0",Fb._jsonSchema={type:Nc("string",Fb._jsonSchemaVersion),vectorValues:Nc("object")};const Nb=/^__.*__$/;class Ob{constructor(e,n,t){this.data=e,this.fieldMask=n,this.fieldTransforms=t}toMutation(e,n){return null!==this.fieldMask?new oh(e,this.data,this.fieldMask,n,this.fieldTransforms):new ih(e,this.data,n,this.fieldTransforms)}}class zb{constructor(e,n,t){this.data=e,this.fieldMask=n,this.fieldTransforms=t}toMutation(e,n){return new oh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nc(40011,{Ac:e})}}class Bb{constructor(e,n,t,r,i,o){this.settings=e,this.databaseId=n,this.serializer=t,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bb(d(d({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const t=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var n;const t=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Vb(this.Ac)&&Nb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ub{constructor(e,n,t){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=t||wf(e)}Cc(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bb({Ac:e,methodName:n,Dc:t,path:Ic.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jb(e){const n=e._freezeSettings(),t=wf(e._databaseId);return new Ub(e._databaseId,!!n.ignoreUndefinedProperties,t)}function Hb(e,n,t,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,n,t,i);Jb("Data must be an object, but it was:",s,r);const a=Xb(r,s);let l,c;if(o.merge)l=new Bd(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Zb(n,r,t);if(!s.contains(i))throw new sc(oc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));rv(e,i)||e.push(i)}l=new Bd(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new Ob(new Eu(a),l,c)}class Wb extends Mb{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wb}}class qb extends Mb{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new qp(e.serializer,Fp(e.serializer,this.Fc));return new Yp(e.path,n)}isEqual(e){return e instanceof qb&&this.Fc===e.Fc}}function Gb(e,n,t,r){const i=e.Cc(1,n,t);Jb("Data must be an object, but it was:",i,r);const o=[],s=Eu.empty();Md(r,(e,r)=>{const a=nv(n,e,t);r=st(r);const l=i.yc(a);if(r instanceof Wb)o.push(a);else{const e=Qb(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new Bd(o);return new zb(s,a,i.fieldTransforms)}function Kb(e,n,t,r,i,o){const s=e.Cc(1,n,t),a=[Zb(n,r,t)],l=[i];if(o.length%2!=0)throw new sc(oc.INVALID_ARGUMENT,"Function ".concat(n,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let p=0;p<o.length;p+=2)a.push(Zb(n,o[p])),l.push(o[p+1]);const c=[],d=Eu.empty();for(let p=a.length-1;p>=0;--p)if(!rv(c,a[p])){const e=a[p];let n=l[p];n=st(n);const t=s.yc(e);if(n instanceof Wb)c.push(e);else{const r=Qb(n,t);null!=r&&(c.push(e),d.set(e,r))}}const u=new Bd(c);return new zb(d,u,s.fieldTransforms)}function Yb(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qb(t,e.Cc(r?4:3,n))}function Qb(e,n){if($b(e=st(e)))return Jb("Unsupported field value:",n,e),Xb(e,n);if(e instanceof Mb)return function(e,n){if(!Vb(n.Ac))throw n.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!n.path)throw n.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const t=e._toFieldTransform(n);t&&n.fieldTransforms.push(t)}(e,n),null;if(void 0===e&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),e instanceof Array){if(n.settings.fc&&4!==n.Ac)throw n.Sc("Nested arrays are not supported");return function(e,n){const t=[];let r=0;for(const i of e){let e=Qb(i,n.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),t.push(e),r++}return{arrayValue:{values:t}}}(e,n)}return function(e,n){if(null===(e=st(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fp(n.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const t=Bc.fromDate(e);return{timestampValue:Bh(n.serializer,t)}}if(e instanceof Bc){const t=new Bc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bh(n.serializer,t)}}if(e instanceof Lb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pb)return{bytesValue:Uh(n.serializer,e._byteString)};if(e instanceof wb){const t=n.databaseId,r=e.firestore._databaseId;if(!r.isEqual(t))throw n.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(t.projectId,"/").concat(t.database));return{referenceValue:Wh(e.firestore._databaseId||n.databaseId,e._key.path)}}if(e instanceof Fb)return function(e,n){return{mapValue:{fields:{[ru]:{stringValue:su},[au]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw n.Sc("VectorValues must only contain numeric values.");return Mp(n.serializer,e)})}}}}}}(e,n);throw n.Sc("Unsupported field value: ".concat(Lc(e)))}(e,n)}function Xb(e,n){const t={};return Ld(e)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Md(e,(e,r)=>{const i=Qb(r,n.mc(e));null!=i&&(t[e]=i)}),{mapValue:{fields:t}}}function $b(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bc||e instanceof Lb||e instanceof Pb||e instanceof wb||e instanceof Mb||e instanceof Fb)}function Jb(e,n,t){if(!$b(t)||!Mc(t)){const r=Lc(t);throw"an object"===r?n.Sc(e+" a custom object"):n.Sc(e+" "+r)}}function Zb(e,n,t){if((n=st(n))instanceof Db)return n._internalPath;if("string"==typeof n)return nv(e,n);throw tv("Field path arguments must be of type string or ",e,!1,void 0,t)}const ev=new RegExp("[~\\*/\\[\\]]");function nv(e,n,t){if(n.search(ev)>=0)throw tv("Invalid field path (".concat(n,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,t);try{return new Db(...n.split("."))._internalPath}catch(r){throw tv("Invalid field path (".concat(n,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,t)}}function tv(e,n,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(n,"() called with invalid data");t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new sc(oc.INVALID_ARGUMENT,a+e+l)}function rv(e,n){return e.some(e=>e.isEqual(n))}class iv{constructor(e,n,t,r,i){this._firestore=e,this._userDataWriter=n,this._key=t,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ov(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ov extends iv{data(){return super.data()}}function sv(e,n){return"string"==typeof n?nv(e,n):n instanceof Db?n._internalPath:n._delegate._internalPath}function av(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sc(oc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class cv extends lv{}class dv extends cv{constructor(e,n,t){super(),this._field=e,this._op=n,this._value=t,this.type="where"}static _create(e,n,t){return new dv(e,n,t)}_apply(e){const n=this._parse(e);return fv(e._query,n),new yb(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=jb(e.firestore),t=function(e,n,t,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sc(oc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){gv(s,o);const n=[];for(const t of s)n.push(hv(r,e,t));a={arrayValue:{values:n}}}else a=hv(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gv(s,o),a=Yb(t,n,s,"in"===o||"not-in"===o);return Fu.create(i,o,a)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value);return t}}class uv extends lv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map(n=>n._parse(e)).filter(e=>e.getFilters().length>0);return 1===n.length?n[0]:Nu.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(e,n){let t=e;const r=n.getFlattenedFilters();for(const i of r)fv(t,i),t=dp(t,i)}(e._query,n),new yb(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pv extends cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pv(e,n)}_apply(e){const n=function(e,n,t){if(null!==e.startAt)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(n,t)}(e._query,this._field,this._direction);return new yb(e.firestore,e.converter,function(e,n){const t=e.explicitOrderBy.concat([n]);return new tp(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function hv(e,n,t){if("string"==typeof(t=st(t))){if(""===t)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sp(n)&&-1!==t.indexOf("/"))throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(t,"' contains a '/' character."));const r=n.path.child(Ec.fromString(t));if(!_c.isDocumentKey(r))throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bu(e,new _c(r))}if(t instanceof wb)return bu(e,t._key);throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lc(t),"."))}function gv(e,n){if(!Array.isArray(e)||0===e.length)throw new sc(oc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(n.toString(),"' filters."))}function fv(e,n){const t=function(e,n){for(const t of e)for(const e of t.getFlattenedFilters())if(n.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==t)throw t===n.op?new sc(oc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(n.op.toString(),"' filter.")):new sc(oc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(n.op.toString(),"' filters with '").concat(t.toString(),"' filters."))}class mv{convertValue(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nc(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const t={};return Md(e,(e,r)=>{t[e]=this.convertValue(r,n)}),t}convertVectorValue(e){var n;const t=null===(n=e.fields)||void 0===n||null===(n=n[au].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.map(e=>qd(e.doubleValue));return new Fb(t)}convertGeoPoint(e){return new Lb(qd(e.latitude),qd(e.longitude))}convertArray(e,n){return(e.values||[]).map(e=>this.convertValue(e,n))}convertServerTimestamp(e,n){switch(n){case"previous":const t=Jd(e);return null==t?null:this.convertValue(t,n);case"estimate":return this.convertTimestamp(Zd(e));default:return null}}convertTimestamp(e){const n=Wd(e);return new Bc(n.seconds,n.nanos)}convertDocumentKey(e,n){const t=Ec.fromString(e);rc(pg(t),9688,{name:e});const r=new tu(t.get(1),t.get(3)),i=new _c(t.popFirst(5));return r.isEqual(n)||Jl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(n.projectId,"/").concat(n.database,") instead.")),i}}function bv(e,n,t){let r;return r=e?t&&(t.merge||t.mergeFields)?e.toFirestore(n,t):e.toFirestore(n):n,r}class vv{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xv extends iv{constructor(e,n,t,r,i,o){super(e,n,t,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const n=new yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const t=this._document.data.field(sv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new sc(oc.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xv._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n):n}}xv._jsonSchemaVersion="firestore/documentSnapshot/1.0",xv._jsonSchema={type:Nc("string",xv._jsonSchemaVersion),bundleSource:Nc("string","DocumentSnapshot"),bundleName:Nc("string"),bundle:Nc("string")};class yv extends xv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class wv{constructor(e,n,t,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new vv(r.hasPendingWrites,r.fromCache),this.query=t}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(t=>{e.call(n,new yv(this._firestore,this._userDataWriter,t.key,t,new vv(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sc(oc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,n){if(e._snapshot.oldDocs.isEmpty()){let n=0;return e._snapshot.docChanges.map(t=>{const r=new yv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}{let t=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>n||3!==e.type).map(n=>{const r=new yv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==n.type&&(i=t.indexOf(n.doc.key),t=t.delete(n.doc.key)),1!==n.type&&(t=t.add(n.doc),o=t.indexOf(n.doc.key)),{type:Sv(n.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new sc(oc.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wv._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],t=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(n.push(e._document),t.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nc(61501,{type:e})}}function kv(e){e=Fc(e,wb);const n=Fc(e.firestore,Ib);return ub(_b(n),e._key).then(t=>Rv(n,e,t))}wv._jsonSchemaVersion="firestore/querySnapshot/1.0",wv._jsonSchema={type:Nc("string",wv._jsonSchemaVersion),bundleSource:Nc("string","QuerySnapshot"),bundleName:Nc("string"),bundle:Nc("string")};class Cv extends mv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pb(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wb(this.firestore,null,n)}}function Av(e){e=Fc(e,yb);const n=Fc(e.firestore,Ib),t=_b(n),r=new Cv(n);return av(e._query),pb(t,e._query).then(t=>new wv(n,r,e,t))}function Ev(e,n,t){e=Fc(e,wb);const r=Fc(e.firestore,Ib),i=bv(e.converter,n,t);return _v(r,[Hb(jb(r),"setDoc",e._key,i,null!==e.converter,t).toMutation(e._key,Xp.none())])}function Tv(e,n,t){e=Fc(e,wb);const r=Fc(e.firestore,Ib),i=jb(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(n=st(n))||n instanceof Db?Kb(i,"updateDoc",e._key,n,t,a):Gb(i,"updateDoc",e._key,n),_v(r,[o.toMutation(e._key,Xp.exists(!0))])}function Iv(e){return _v(Fc(e.firestore,Ib),[new ch(e._key,Xp.none())])}function _v(e,n){return function(e,n){const t=new ac;return e.asyncQueue.enqueueAndForget(async()=>async function(e,n,t){const r=Jm(e);try{const e=await function(e,n){const t=ic(e),r=Bc.now(),i=n.reduce((e,n)=>e.add(n.key),Rp());let o,s;return t.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=wp(),l=Rp();return t.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,n)=>{n.isValidDocument()||(l=l.add(e))})}).next(()=>t.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of n){const n=th(e,o.get(e.key).overlayedDocument);null!=n&&s.push(new oh(e.key,n,Tu(n.value.mapValue),Xp.exists(!0)))}return t.mutationQueue.addMutationBatch(e,r,s,n)}).next(n=>{s=n;const r=n.applyToLocalDocumentSet(o,l);return t.documentOverlayCache.saveOverlays(e,n.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Cp(o)}))}(r.localStore,n);r.sharedClientState.addPendingMutation(e.batchId),function(e,n,t){let r=e.Vu[e.currentUser.toKey()];r||(r=new Fd(vc)),r=r.insert(n,t),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,t),await Ym(r,e.changes),await Yf(r.remoteStore)}catch(e){const n=lm(e,"Failed to persist write");t.reject(n)}}(await cb(e),n,t)),t.promise}(_b(e),n)}function Rv(e,n,t){const r=t.docs.get(n._key),i=new Cv(e);return new xv(e,i,n._key,r,new vv(t.hasPendingWrites,t.fromCache),n.converter)}new WeakMap;!function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yl=e}(Sr),br(new at("firestore",(e,t)=>{let{instanceIdentifier:r,options:i}=t;const o=e.getProvider("app").getImmediate(),s=new Ib(new uc(e.getProvider("auth-internal")),new fc(o,e.getProvider("app-check-internal")),function(e,n){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sc(oc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(e.options.projectId,n)}(o,r),o);return i=d({useFetchStreams:n},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Ar(ql,Gl,e),Ar(ql,Gl,"esm2020")}();const Pv=kr({apiKey:"AIzaSyD99f6Rb9fL_u32zC1tJI_S1jV7BO2COXY",authDomain:"scratchforge.firebaseapp.com",projectId:"scratchforge",storageBucket:"scratchforge.firebasestorage.app",messagingSenderId:"569932447368",appId:"1:569932447368:web:70fa4fb5fb6e296ed2e93d",measurementId:"G-0ZKF6B6XTG"}),Dv=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();e=st(e);const n=vr(e,Ai);n.isInitialized()?n.getImmediate():function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=vr(e,Ai);if(t.isInitialized()){const e=t.getImmediate();if(Jn(n,t.getOptions()))return e;throw Ii.create("already-initialized")}const r=t.initialize({options:n})}(e)}(Pv),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr();const n=vr(e,"auth");if(n.isInitialized())return n.getImmediate();const t=function(e,n){const t=vr(e,"auth");if(t.isInitialized()){const e=t.getImmediate();if(Jn(t.getOptions(),null!==n&&void 0!==n?n:{}))return e;ho(e,"already-initialized")}return t.initialize({options:n})}(e,{popupRedirectResolver:Cl,persistence:[La,ga,xa]}),r=Nn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const n=(i=e.toString(),async e=>{const n=e&&await e.getIdTokenResult(),t=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(t&&t>Il)return;const r=null===n||void 0===n?void 0:n.token;_l!==r&&(_l=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,n,t){st(e).beforeAuthStateChanged(n,t)}(t,n,()=>n(t.currentUser)),function(e,n,t,r){st(e).onIdTokenChanged(n,t,r)}(t,e=>n(e))}}var i;const o=Ln("auth");return o&&Ms(t,"http://".concat(o)),t}(Pv)),Mv=function(e,n){const t="object"==typeof e?e:Cr(),r="string"==typeof e?e:n||nu,i=vr(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const n=Ln(e);if(!n)return;const t=n.lastIndexOf(":");if(t<=0||t+1===n.length)throw new Error("Invalid host ".concat(n," with no separate hostname and port!"));const r=parseInt(n.substring(t+1),10);return"["===n[0]?[n.substring(1,t-1),r]:[n.substring(0,t),r]})("firestore");e&&xb(i,...e)}return i}(Pv);var Lv=t(579);const Fv=function(e){let{scriptSrc:n,containerId:t,position:i="inline"}=e;const o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=document.querySelector('script[src="'.concat(n,'"]'));e||(e=document.createElement("script"),e.src=n,e.async=!0,e.setAttribute("data-cfasync","false"),document.body.appendChild(e))},[n,t]),(0,Lv.jsx)("div",{style:(()=>{const e={margin:"20px 0",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100px"};switch(i){case"sidebar":return d(d({},e),{},{position:"sticky",top:"20px",maxWidth:"300px",margin:"0 auto"});case"bottom":return d(d({},e),{},{marginTop:"40px",padding:"20px 0",borderTop:"1px solid #e0e0e0"});default:return d(d({},e),{},{padding:"20px 0"})}})(),ref:o,children:(0,Lv.jsx)("div",{id:t,style:{width:"100%",textAlign:"center"}})})};const Nv=function(){const e=Dv.currentUser;return(0,Lv.jsxs)("div",{style:{fontFamily:"Arial, sans-serif"},children:[(0,Lv.jsxs)("section",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"80px 40px",textAlign:"center"},children:[(0,Lv.jsx)("h1",{style:{fontSize:"48px",marginBottom:"20px",fontWeight:"bold"},children:"Learn Anything From Scratch \ud83d\ude80"}),(0,Lv.jsx)("p",{style:{fontSize:"22px",marginBottom:"30px",maxWidth:"700px",margin:"0 auto 40px"},children:"Master new skills with expert-led courses. Start your learning journey today and transform your career!"}),(0,Lv.jsxs)("div",{style:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},children:[e?(0,Lv.jsx)(yn,{to:"/dashboard",style:{padding:"15px 40px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"30px",fontSize:"18px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:"Go to Dashboard \u2192"}):(0,Lv.jsx)(yn,{to:"/login",style:{padding:"15px 40px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"30px",fontSize:"18px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:"Get Started Free \u2192"}),(0,Lv.jsx)(yn,{to:"/explore",style:{padding:"15px 40px",backgroundColor:"transparent",color:"white",textDecoration:"none",borderRadius:"30px",fontSize:"18px",fontWeight:"bold",border:"2px solid white"},children:"Explore Courses"})]})]}),(0,Lv.jsx)("section",{style:{padding:"60px 40px",backgroundColor:"#f9f9f9"},children:(0,Lv.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Lv.jsx)("h2",{style:{textAlign:"center",fontSize:"36px",marginBottom:"20px",color:"#333"},children:"What is ScratchForge? \ud83c\udfaf"}),(0,Lv.jsx)("p",{style:{textAlign:"center",fontSize:"18px",color:"#666",maxWidth:"800px",margin:"0 auto 50px",lineHeight:"1.8"},children:"ScratchForge is an innovative online learning platform designed to help you master new skills from the ground up. Whether you're a beginner or looking to advance your knowledge, our comprehensive courses guide you step-by-step through practical, hands-on learning experiences."}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"30px",marginTop:"40px"},children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 3px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"50px",marginBottom:"15px"},children:"\ud83d\udcda"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Expert-Led Courses"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Learn from industry professionals with years of experience in their fields"})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 3px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"50px",marginBottom:"15px"},children:"\ud83c\udf93"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Practical Learning"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Hands-on exercises and real-world projects to apply what you learn"})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 3px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"50px",marginBottom:"15px"},children:"\u26a1"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Learn at Your Pace"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Access courses anytime, anywhere and learn at your own comfortable speed"})]})]})]})}),(0,Lv.jsx)("section",{style:{padding:"60px 40px",backgroundColor:"white"},children:(0,Lv.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Lv.jsx)("h2",{style:{textAlign:"center",fontSize:"36px",marginBottom:"50px",color:"#333"},children:"Why Choose ScratchForge? \ud83d\udca1"}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"40px",alignItems:"center"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",fontSize:"24px",color:"#4CAF50",fontWeight:"bold"},children:"\u2713 Beginner-Friendly"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6",paddingLeft:"30px"},children:"Start with zero knowledge. Our courses are designed for absolute beginners and gradually build your skills."})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",fontSize:"24px",color:"#4CAF50",fontWeight:"bold"},children:"\u2713 Track Your Progress"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6",paddingLeft:"30px"},children:"Monitor your learning journey with detailed progress tracking and personalized dashboards."})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",fontSize:"24px",color:"#4CAF50",fontWeight:"bold"},children:"\u2713 Get Certified"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6",paddingLeft:"30px"},children:"Earn certificates upon course completion to showcase your newly acquired skills."})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px",fontSize:"24px",color:"#4CAF50",fontWeight:"bold"},children:"\u2713 Free to Start"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6",paddingLeft:"30px"},children:"Create your account for free and start learning immediately. No credit card required."})]})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"#f0f4ff",padding:"40px",borderRadius:"15px",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"100px",marginBottom:"20px"},children:"\ud83c\udfaf"}),(0,Lv.jsx)("h3",{style:{fontSize:"28px",marginBottom:"15px",color:"#333"},children:"Join Our Happy Learners"}),(0,Lv.jsx)("p",{style:{color:"#666",fontSize:"18px",lineHeight:"1.6"},children:"Start your learning journey today and become part of our growing community of skilled professionals."}),!e&&(0,Lv.jsx)(yn,{to:"/login",style:{display:"inline-block",marginTop:"25px",padding:"15px 40px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"30px",fontSize:"18px",fontWeight:"bold"},children:"Sign Up Free"})]})]})]})}),(0,Lv.jsx)("section",{style:{padding:"60px 40px",backgroundColor:"#f9f9f9"},children:(0,Lv.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Lv.jsx)("h2",{style:{textAlign:"center",fontSize:"36px",marginBottom:"50px",color:"#333"},children:"How It Works \ud83d\ude80"}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"30px"},children:[(0,Lv.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#4CAF50",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"bold",margin:"0 auto 20px"},children:"1"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Create Account"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Sign up for free and tell us about your learning goals"})]}),(0,Lv.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#2196F3",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"bold",margin:"0 auto 20px"},children:"2"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Choose Course"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Browse our courses and enroll in topics that interest you"})]}),(0,Lv.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#FF9800",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"bold",margin:"0 auto 20px"},children:"3"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Start Learning"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Watch lessons, complete exercises, and track your progress"})]}),(0,Lv.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#9C27B0",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"36px",fontWeight:"bold",margin:"0 auto 20px"},children:"4"}),(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"15px",color:"#333"},children:"Get Certified"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Complete the course and receive your certificate"})]})]})]})}),(0,Lv.jsx)("section",{style:{padding:"60px 40px",backgroundColor:"white"},children:(0,Lv.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Lv.jsx)("h2",{style:{textAlign:"center",fontSize:"36px",marginBottom:"50px",color:"#333"},children:"Platform Features \u2699\ufe0f"}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px"},children:[(0,Lv.jsxs)("div",{style:{padding:"25px",border:"2px solid #4CAF50",borderRadius:"10px",backgroundColor:"#f9fff9"},children:[(0,Lv.jsx)("div",{style:{fontSize:"40px",marginBottom:"15px"},children:"\ud83d\udcca"}),(0,Lv.jsx)("h3",{style:{fontSize:"20px",marginBottom:"10px",color:"#333"},children:"Progress Dashboard"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Track your learning progress, see completed courses, and monitor your achievements"})]}),(0,Lv.jsxs)("div",{style:{padding:"25px",border:"2px solid #2196F3",borderRadius:"10px",backgroundColor:"#f0f8ff"},children:[(0,Lv.jsx)("div",{style:{fontSize:"40px",marginBottom:"15px"},children:"\ud83d\udcbb"}),(0,Lv.jsx)("h3",{style:{fontSize:"20px",marginBottom:"10px",color:"#333"},children:"Interactive Lessons"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Engage with interactive content, code examples, and hands-on exercises"})]}),(0,Lv.jsxs)("div",{style:{padding:"25px",border:"2px solid #FF9800",borderRadius:"10px",backgroundColor:"#fff8f0"},children:[(0,Lv.jsx)("div",{style:{fontSize:"40px",marginBottom:"15px"},children:"\ud83c\udfaf"}),(0,Lv.jsx)("h3",{style:{fontSize:"20px",marginBottom:"10px",color:"#333"},children:"Practice Arena"}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6"},children:"Test your skills with quizzes, challenges, and real-world projects"})]})]})]})}),(0,Lv.jsx)("section",{style:{padding:"40px 20px",backgroundColor:"#f9f9f9"},children:(0,Lv.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:(0,Lv.jsx)(Fv,{scriptSrc:"//pl28132632.effectivegatecpm.com/cf49e39e74e5701f8c0e899dfa62dc5b/invoke.js",containerId:"container-cf49e39e74e5701f8c0e899dfa62dc5b",position:"inline"})})}),(0,Lv.jsxs)("section",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"80px 40px",textAlign:"center"},children:[(0,Lv.jsx)("h2",{style:{fontSize:"40px",marginBottom:"20px"},children:"Ready to Start Learning? \ud83c\udf93"}),(0,Lv.jsx)("p",{style:{fontSize:"20px",marginBottom:"40px",maxWidth:"600px",margin:"0 auto 40px"},children:"Join ScratchForge today and unlock your potential with expert-led courses"}),e?(0,Lv.jsx)(yn,{to:"/dashboard",style:{padding:"18px 50px",backgroundColor:"white",color:"#667eea",textDecoration:"none",borderRadius:"30px",fontSize:"20px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",display:"inline-block"},children:"Go to Your Dashboard \u2192"}):(0,Lv.jsx)(yn,{to:"/login",style:{padding:"18px 50px",backgroundColor:"white",color:"#667eea",textDecoration:"none",borderRadius:"30px",fontSize:"20px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",display:"inline-block"},children:"Create Free Account \u2192"})]})]})},Ov={title:"Ohm's Law",content:'\n    <style>\n      .ohms-law-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .ohms-law-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .ohms-law-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .ohms-law-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .ohms-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: ohms-bounce 2s infinite;\n      }\n      \n      @keyframes ohms-bounce {\n        0%, 100% { transform: translateY(0) scale(1); }\n        50% { transform: translateY(-10px) scale(1.05); }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 30px;\n        border-radius: 12px;\n        margin: 30px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n        font-size: 1.3em;\n      }\n      \n      .formula-main {\n        font-size: 2em;\n        font-weight: bold;\n        color: #333;\n        margin: 20px 0;\n        font-family: \'Courier New\', monospace;\n        background: linear-gradient(135deg, #ffe5e5 0%, #fff0f0 100%);\n        padding: 25px;\n        border-radius: 10px;\n        border: 3px solid #FF6B6B;\n      }\n      \n      .formula-explain {\n        text-align: left;\n        background: white;\n        padding: 20px;\n        border-radius: 8px;\n        margin-top: 15px;\n      }\n      \n      .formula-explain p {\n        margin: 10px 0;\n      }\n      \n      .triangle-box {\n        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #667eea;\n        text-align: center;\n      }\n      \n      .triangle-box h3 {\n        color: #667eea;\n        margin-top: 0;\n      }\n      \n      .triangle {\n        font-size: 3em;\n        font-weight: bold;\n        font-family: monospace;\n        margin: 20px 0;\n        color: #667eea;\n        line-height: 1;\n      }\n      \n      .triangle-instruction {\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n        margin-top: 15px;\n        text-align: left;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 25px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 20px;\n        margin: 15px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .example-calculation {\n        background: #f0f0f0;\n        padding: 10px;\n        border-radius: 4px;\n        font-family: monospace;\n        margin: 10px 0;\n        color: #333;\n      }\n      \n      .relationships-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin: 25px 0;\n      }\n      \n      .relationship-card {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n      }\n      \n      .relationship-card .title {\n        font-size: 0.9em;\n        opacity: 0.9;\n        margin-bottom: 10px;\n      }\n      \n      .relationship-card .formula {\n        font-size: 1.3em;\n        font-weight: bold;\n        margin: 10px 0;\n        font-family: monospace;\n      }\n      \n      .relationship-card .meaning {\n        font-size: 0.85em;\n        margin-top: 10px;\n      }\n      \n      .power-section {\n        background: linear-gradient(135deg, #ffe0e0 0%, #fff8e0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #FF9800;\n      }\n      \n      .power-section h3 {\n        color: #FF6B6B;\n        margin-top: 0;\n      }\n      \n      .power-section p, .power-section li {\n        color: #555;\n      }\n      \n      .comparison-table {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 20px 0;\n        background: white;\n      }\n      \n      .comparison-table th, .comparison-table td {\n        border: 1px solid #ddd;\n        padding: 15px;\n        text-align: left;\n      }\n      \n      .comparison-table th {\n        background-color: #667eea;\n        color: white;\n        font-weight: bold;\n      }\n      \n      .comparison-table tr:nth-child(even) {\n        background-color: #f9f9f9;\n      }\n      \n      .ohms-law-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .ohms-law-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      @media (max-width: 768px) {\n        .relationships-grid {\n          grid-template-columns: 1fr;\n        }\n        \n        .formula-main {\n          font-size: 1.5em;\n          padding: 15px;\n        }\n      }\n    </style>\n\n\n    <div class="ohms-law-lesson">\n      <div class="hero-box">\n        <div class="ohms-icon">\ud83d\udcd0</div>\n        <p>Ohm\'s Law: The most fundamental relationship in all of electronics!</p>\n      </div>\n\n\n      <h2>\u26a1 The Foundation of Electronics: Ohm\'s Law</h2>\n      <p>\n        Everything you\'ve learned so far\u2014voltage, current, and resistance\u2014comes together in one of the most important equations in all of electronics: <span class="highlight">Ohm\'s Law</span>. This law describes the fundamental relationship between these three quantities.\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Ohm\'s Law states that the electric current flowing through a conductor is directly proportional to the voltage applied and inversely proportional to its resistance. In other words: <strong>Voltage equals Current times Resistance</strong>.</p>\n      </div>\n\n\n      <h2>\ud83d\udcca The Formula: V = I \xd7 R</h2>\n      <div class="formula-box">\n        <h3>Ohm\'s Law Equation</h3>\n        <div class="formula-main">V = I \xd7 R</div>\n        <div class="formula-explain">\n          <p><strong>Where:</strong></p>\n          <p>\ud83d\udd39 <strong>V</strong> = Voltage (in Volts)</p>\n          <p>\ud83d\udd39 <strong>I</strong> = Current (in Amperes)</p>\n          <p>\ud83d\udd39 <strong>R</strong> = Resistance (in Ohms)</p>\n          <p style="margin-top: 15px; color: #667eea;"><strong>Translation:</strong> "The voltage equals the current multiplied by the resistance"</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd3a The Ohm\'s Law Triangle</h2>\n      <div class="triangle-box">\n        <h3>Easy Way to Remember!</h3>\n        <div class="triangle">\n             V\n            \u2500\u2500\u2500\u2500\u2500\n             I \xd7 R\n        </div>\n        <div class="triangle-instruction">\n          <p><strong>How to use the triangle:</strong></p>\n          <ul style="margin: 10px 0 0 20px;">\n            <li>To find V: Just read it (V at top)</li>\n            <li>To find I: Cover I, you see V/R</li>\n            <li>To find R: Cover R, you see V/I</li>\n          </ul>\n        </div>\n      </div>\n\n\n      <h2>\u2699\ufe0f Three Forms of Ohm\'s Law</h2>\n      <div class="relationships-grid">\n        <div class="relationship-card">\n          <div class="title">To find VOLTAGE:</div>\n          <div class="formula">V = I \xd7 R</div>\n          <div class="meaning">Voltage = Current \xd7 Resistance</div>\n        </div>\n        <div class="relationship-card">\n          <div class="title">To find CURRENT:</div>\n          <div class="formula">I = V \xf7 R</div>\n          <div class="meaning">Current = Voltage \xf7 Resistance</div>\n        </div>\n        <div class="relationship-card">\n          <div class="title">To find RESISTANCE:</div>\n          <div class="formula">R = V \xf7 I</div>\n          <div class="meaning">Resistance = Voltage \xf7 Current</div>\n        </div>\n      </div>\n\n\n      <h2>\ud83e\uddee Practical Examples</h2>\n      <div class="examples-box">\n        <h3>\u2713 Example 1: Finding Voltage</h3>\n        <div class="example-item">\n          <p><strong>Question:</strong> A 10\u03a9 resistor has 2 Amperes of current flowing through it. What is the voltage across the resistor?</p>\n          <p><strong>Given:</strong> I = 2A, R = 10\u03a9</p>\n          <p><strong>Find:</strong> V = ?</p>\n          <div class="example-calculation">\n            V = I \xd7 R<br>\n            V = 2A \xd7 10\u03a9<br>\n            <strong>V = 20 Volts</strong>\n          </div>\n        </div>\n      </div>\n\n\n      <div class="examples-box">\n        <h3>\u2713 Example 2: Finding Current</h3>\n        <div class="example-item">\n          <p><strong>Question:</strong> A 100\u03a9 resistor has 12 Volts applied across it. How much current flows?</p>\n          <p><strong>Given:</strong> V = 12V, R = 100\u03a9</p>\n          <p><strong>Find:</strong> I = ?</p>\n          <div class="example-calculation">\n            I = V \xf7 R<br>\n            I = 12V \xf7 100\u03a9<br>\n            <strong>I = 0.12 Amperes (120 mA)</strong>\n          </div>\n        </div>\n      </div>\n\n\n      <div class="examples-box">\n        <h3>\u2713 Example 3: Finding Resistance</h3>\n        <div class="example-item">\n          <p><strong>Question:</strong> With 5 Volts applied, 1 Ampere of current flows through a resistor. What is the resistance?</p>\n          <p><strong>Given:</strong> V = 5V, I = 1A</p>\n          <p><strong>Find:</strong> R = ?</p>\n          <div class="example-calculation">\n            R = V \xf7 I<br>\n            R = 5V \xf7 1A<br>\n            <strong>R = 5 Ohms</strong>\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udcc8 Understanding Relationships</h2>\n      <div class="info-box">\n        <strong>How V, I, and R Relate:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0;">\n          <li><strong>\u2191 Higher voltage</strong> (same R) = \u2191 Higher current</li>\n          <li><strong>\u2193 Lower voltage</strong> (same R) = \u2193 Lower current</li>\n          <li><strong>\u2191 Higher resistance</strong> (same V) = \u2193 Lower current</li>\n          <li><strong>\u2193 Lower resistance</strong> (same V) = \u2191 Higher current</li>\n          <li><strong>\u2713 Double the voltage</strong> = Double the current</li>\n          <li><strong>\u2713 Double the resistance</strong> = Half the current</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83d\udca1 Power: An Important Extension</h2>\n      <div class="power-section">\n        <h3>Calculating Electrical Power</h3>\n        <p><strong>Power formula:</strong> P = V \xd7 I (measured in Watts)</p>\n        <p>Power tells us how much energy is being used or converted per second.</p>\n        <ul style="margin-left: 20px;">\n          <li><strong>Light bulb:</strong> Converts electrical power to light and heat</li>\n          <li><strong>Motor:</strong> Converts electrical power to mechanical motion</li>\n          <li><strong>Resistor:</strong> Dissipates power as heat</li>\n        </ul>\n        <p style="margin-top: 15px;"><strong>Alternative Power Formula:</strong> P = I\xb2 \xd7 R (when you only know current and resistance)</p>\n      </div>\n\n\n      <h2>\ud83d\udd27 Real-World Applications</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udca1</span>\n          <h4>Designing Circuits</h4>\n          <p>Engineers use Ohm\'s Law to calculate resistor values needed for safe current</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0c</span>\n          <h4>LED Protection</h4>\n          <p>Calculate series resistor: R = (V_supply - V_led) / I_desired</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0b</span>\n          <h4>Battery Selection</h4>\n          <p>Choose voltage high enough to power your circuit through resistance</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u2699\ufe0f</span>\n          <h4>Troubleshooting</h4>\n          <p>Measure V and I to calculate actual resistance and find faults</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udccb Quick Reference Table</h2>\n      <table class="comparison-table">\n        <thead>\n          <tr>\n            <th>What You Know</th>\n            <th>What You Want</th>\n            <th>Formula</th>\n            <th>Example</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Current (I) & Resistance (R)</td>\n            <td>Voltage (V)</td>\n            <td>V = I \xd7 R</td>\n            <td>2A \xd7 5\u03a9 = 10V</td>\n          </tr>\n          <tr>\n            <td>Voltage (V) & Resistance (R)</td>\n            <td>Current (I)</td>\n            <td>I = V \xf7 R</td>\n            <td>12V \xf7 4\u03a9 = 3A</td>\n          </tr>\n          <tr>\n            <td>Voltage (V) & Current (I)</td>\n            <td>Resistance (R)</td>\n            <td>R = V \xf7 I</td>\n            <td>9V \xf7 3A = 3\u03a9</td>\n          </tr>\n          <tr>\n            <td>Voltage (V) & Current (I)</td>\n            <td>Power (P)</td>\n            <td>P = V \xd7 I</td>\n            <td>12V \xd7 2A = 24W</td>\n          </tr>\n        </tbody>\n      </table>\n\n\n      <h2>\ud83c\udfaf Step-by-Step Problem Solving</h2>\n      <div class="info-box">\n        <strong>How to Solve Ohm\'s Law Problems:</strong>\n        <ol style="margin-top: 10px; margin-bottom: 0;">\n          <li><strong>Write down what you know:</strong> V = ?, I = ?, R = ?</li>\n          <li><strong>Identify what you\'re looking for</strong></li>\n          <li><strong>Choose the right formula</strong> (use the triangle!)</li>\n          <li><strong>Substitute the values</strong></li>\n          <li><strong>Calculate and include units</strong></li>\n          <li><strong>Check if answer makes sense</strong></li>\n        </ol>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Georg Simon Ohm discovered this law in 1827 through experiments with simple circuits. His work was revolutionary\u2014before Ohm\'s Law, electricity was mysterious and unpredictable. Now we can precisely calculate and design any circuit!</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What is Ohm\'s Law formula?</p>\n        <ul>\n          <li>A) V = I / R</li>\n          <li>B) V = I \xd7 R \ud83d\udcd0</li>\n          <li>C) V = I + R</li>\n          <li>D) V = R / I</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - V = I \xd7 R!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> If I = 3A and R = 4\u03a9, what is V?</p>\n        <ul>\n          <li>A) 7V</li>\n          <li>B) 1.33V</li>\n          <li>C) 12V \ud83d\udcd0</li>\n          <li>D) 0.75V</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - V = 3A \xd7 4\u03a9 = 12V!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If V = 24V and R = 6\u03a9, what is I?</p>\n        <ul>\n          <li>A) 2A</li>\n          <li>B) 4A \ud83d\udcd0</li>\n          <li>C) 6A</li>\n          <li>D) 8A</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - I = 24V \xf7 6\u03a9 = 4A!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> If V = 15V and I = 3A, what is R?</p>\n        <ul>\n          <li>A) 3\u03a9</li>\n          <li>B) 5\u03a9 \ud83d\udcd0</li>\n          <li>C) 12\u03a9</li>\n          <li>D) 45\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - R = 15V \xf7 3A = 5\u03a9!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 5:</strong> If V = 10V and I = 2A, what is the Power?</p>\n        <ul>\n          <li>A) 5W</li>\n          <li>B) 12W</li>\n          <li>C) 20W \u26a1</li>\n          <li>D) 0.2W</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - P = 10V \xd7 2A = 20W!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What is Ohm's Law formula?",options:["V = I / R","V = I \xd7 R","V = I + R","V = R / I"],answer:1},{q:"If I = 3A and R = 4\u03a9, what is V?",options:["7V","1.33V","12V","0.75V"],answer:2},{q:"If V = 24V and R = 6\u03a9, what is I?",options:["2A","4A","6A","8A"],answer:1},{q:"If V = 15V and I = 3A, what is R?",options:["3\u03a9","5\u03a9","12\u03a9","45\u03a9"],answer:1},{q:"If V = 10V and I = 2A, what is the Power?",options:["5W","12W","20W","0.2W"],answer:2}],tools:[{name:"Ohm's Law Calculator",type:"calculator",description:"Calculate voltage, current, or resistance (leave one blank to find it)",fields:[{label:"Voltage (V) - leave blank to calculate",key:"voltage",placeholder:"Enter V or leave blank"},{label:"Current (A) - leave blank to calculate",key:"current",placeholder:"Enter I or leave blank"},{label:"Resistance (\u03a9) - leave blank to calculate",key:"resistance",placeholder:"Enter R or leave blank"}],calculate:e=>{const n=e.voltage?parseFloat(e.voltage):null,t=e.current?parseFloat(e.current):null,r=e.resistance?parseFloat(e.resistance):null;let i=[n,t,r].filter(e=>null===e).length;if(1!==i)return"Error: Leave exactly ONE field blank to calculate it";if(null===n&&t&&r){return"V = ".concat((t*r).toFixed(4)," Volts")}if(null===t&&n&&r){if(0===r)return"Error: Resistance cannot be 0";return"I = ".concat((n/r).toFixed(4)," Amperes")}if(null===r&&n&&t){if(0===t)return"Error: Current cannot be 0";return"R = ".concat((n/t).toFixed(4)," Ohms")}return"Error: Invalid input"},unit:"V, A, or \u03a9"},{name:"Power Calculator",type:"calculator",description:"Calculate electrical power using P = V \xd7 I",fields:[{label:"Voltage (V)",key:"voltage",placeholder:"Enter voltage"},{label:"Current (A)",key:"current",placeholder:"Enter current"}],calculate:e=>{if(!e.voltage||!e.current)return null;const n=parseFloat(e.voltage),t=parseFloat(e.current);if(n<0||t<0)return"Error: Values must be positive";return"P = ".concat((n*t).toFixed(4)," Watts")},unit:"Watts (W)"}]},zv={title:"Real-World Applications",content:'\n    <style>\n      .applications-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .applications-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .applications-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .applications-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .applications-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: app-rotate 3s infinite;\n      }\n      \n      @keyframes app-rotate {\n        0%, 100% { transform: rotate(0deg); }\n        25% { transform: rotate(90deg); }\n        50% { transform: rotate(180deg); }\n        75% { transform: rotate(270deg); }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .applications-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .application-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .application-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .app-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .application-card h4 {\n        color: #667eea;\n        margin: 0 0 10px 0;\n        font-size: 1.2em;\n      }\n      \n      .application-card p {\n        margin: 8px 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .application-card ul {\n        margin: 10px 0 0 20px;\n        padding: 0;\n      }\n      \n      .application-card li {\n        font-size: 0.9em;\n        margin-bottom: 5px;\n      }\n      \n      .circuit-examples {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .circuit-example {\n        background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #4CAF50;\n      }\n      \n      .circuit-example h4 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .circuit-example p, .circuit-example li {\n        color: #1B5E20;\n        font-size: 0.95em;\n      }\n      \n      .circuit-example ul {\n        margin-left: 20px;\n      }\n      \n      .home-wiring-box {\n        background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #FF9800;\n      }\n      \n      .home-wiring-box h3 {\n        color: #E65100;\n        margin-top: 0;\n      }\n      \n      .home-wiring-box p, .home-wiring-box li {\n        color: #BF360C;\n      }\n      \n      .home-wiring-box ul {\n        margin-left: 20px;\n      }\n      \n      .industrial-box {\n        background: linear-gradient(135deg, #E0E0E0 0%, #F5F5F5 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #757575;\n      }\n      \n      .industrial-box h3 {\n        color: #424242;\n        margin-top: 0;\n      }\n      \n      .industrial-box p, .industrial-box li {\n        color: #616161;\n      }\n      \n      .industrial-box ul {\n        margin-left: 20px;\n      }\n      \n      .battery-guide {\n        background: linear-gradient(135deg, #FCE4EC 0%, #F8BBD0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #E91E63;\n      }\n      \n      .battery-guide h3 {\n        color: #880E4F;\n        margin-top: 0;\n      }\n      \n      .battery-configs {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 15px;\n        margin: 20px 0;\n      }\n      \n      .config-box {\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n        border-left: 4px solid #E91E63;\n      }\n      \n      .config-box strong {\n        color: #880E4F;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.3em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 12px;\n        border-radius: 8px;\n      }\n      \n      .power-applications {\n        background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #F44336;\n      }\n      \n      .power-applications h3 {\n        color: #C62828;\n        margin-top: 0;\n      }\n      \n      .power-applications p, .power-applications li {\n        color: #B71C1C;\n      }\n      \n      .power-applications ul {\n        margin-left: 20px;\n      }\n      \n      .applications-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .applications-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      @media (max-width: 768px) {\n        .battery-configs {\n          grid-template-columns: 1fr;\n        }\n        \n        .applications-grid {\n          grid-template-columns: 1fr;\n        }\n        \n        .circuit-examples {\n          grid-template-columns: 1fr;\n        }\n      }\n    </style>\n\n\n    <div class="applications-lesson">\n      <div class="hero-box">\n        <div class="applications-icon">\ud83c\udf0d</div>\n        <p>Real-World Applications: Electricity powers everything around you!</p>\n      </div>\n\n\n      <h2>\ud83c\udf0d Where Electricity Is Used</h2>\n      <p>\n        Everything you\'ve learned about voltage, current, resistance, series circuits, and parallel circuits comes together in real-world applications. From your smartphone to your home to entire power grids, electricity is everywhere. Let\'s explore how it all works in practice!\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Key Insight:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Once you understand the basic principles of electricity, you can understand nearly any electrical device or system. The same Ohm\'s Law that powers an LED also powers your computer, car, and home!</p>\n      </div>\n\n\n      <h2>\u26a1 Common Real-World Applications</h2>\n      <div class="applications-grid">\n        <div class="application-card">\n          <span class="app-icon">\ud83d\udca1</span>\n          <h4>Lighting</h4>\n          <p><strong>How it works:</strong> Current flows through filament or semiconductor, producing light</p>\n          <ul>\n            <li>Incandescent bulbs (old)</li>\n            <li>LED lights (modern)</li>\n            <li>Fluorescent tubes</li>\n          </ul>\n          <p><strong>Circuit type:</strong> Parallel (homes)</p>\n        </div>\n\n        <div class="application-card">\n          <span class="app-icon">\ud83c\udf73</span>\n          <h4>Heating</h4>\n          <p><strong>How it works:</strong> High resistance causes energy dissipation as heat</p>\n          <ul>\n            <li>Electric ovens</li>\n            <li>Water heaters</li>\n            <li>Hair dryers</li>\n          </ul>\n          <p><strong>Principle:</strong> P = I\xb2 \xd7 R</p>\n        </div>\n\n        <div class="application-card">\n          <span class="app-icon">\u2699\ufe0f</span>\n          <h4>Motors</h4>\n          <p><strong>How it works:</strong> Current in magnetic field creates motion</p>\n          <ul>\n            <li>Electric fans</li>\n            <li>Pumps</li>\n            <li>Compressors</li>\n          </ul>\n          <p><strong>Used in:</strong> Air conditioning, refrigeration</p>\n        </div>\n\n        <div class="application-card">\n          <span class="app-icon">\ud83d\udcf1</span>\n          <h4>Electronics</h4>\n          <p><strong>How it works:</strong> Controlled current and voltage manage data and computation</p>\n          <ul>\n            <li>Smartphones</li>\n            <li>Computers</li>\n            <li>Microcontrollers</li>\n          </ul>\n          <p><strong>Logic:</strong> Binary (on/off) voltages</p>\n        </div>\n\n        <div class="application-card">\n          <span class="app-icon">\ud83d\ude97</span>\n          <h4>Transportation</h4>\n          <p><strong>How it works:</strong> Electrical systems power modern vehicles</p>\n          <ul>\n            <li>Electric cars (batteries)</li>\n            <li>Conventional cars (12V systems)</li>\n            <li>Trains (overhead lines)</li>\n          </ul>\n          <p><strong>Modern:</strong> Hybrid & fully electric vehicles</p>\n        </div>\n\n        <div class="application-card">\n          <span class="app-icon">\ud83c\udfe5</span>\n          <h4>Medical</h4>\n          <p><strong>How it works:</strong> Precise electrical pulses monitor and heal</p>\n          <ul>\n            <li>ECG/EKG monitors</li>\n            <li>Defibrillators</li>\n            <li>Pacemakers</li>\n          </ul>\n          <p><strong>Critical:</strong> Life-saving technology</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83c\udfe0 Home Electrical System</h2>\n      <div class="home-wiring-box">\n        <h3>Why Homes Use Parallel Circuits</h3>\n        <p><strong>Key advantage:</strong> Each outlet is independent and gets full voltage</p>\n        <ul>\n          <li><strong>Every outlet:</strong> Receives 120V (or 240V) directly from main panel</li>\n          <li><strong>Independence:</strong> Plugging in one device doesn\'t affect others</li>\n          <li><strong>Safety:</strong> Circuit breaker can disconnect individual circuits</li>\n          <li><strong>Practical:</strong> If one appliance fails, others keep working</li>\n        </ul>\n        <p style="margin-top: 20px;"><strong>\u274c Why NOT series?</strong> If wired in series, the entire house would go dark if one light failed!</p>\n      </div>\n\n\n      <h2>\ud83d\udccb Practical Circuit Examples</h2>\n      <div class="circuit-examples">\n        <div class="circuit-example">\n          <h4>\ud83d\udea8 Emergency Siren</h4>\n          <p><strong>Components:</strong> Battery, switch, buzzer/speaker</p>\n          <p><strong>Circuit type:</strong> Simple series</p>\n          <ul>\n            <li>9V battery provides voltage</li>\n            <li>Switch controls current on/off</li>\n            <li>Buzzer converts electrical to sound</li>\n          </ul>\n        </div>\n\n        <div class="circuit-example">\n          <h4>\ud83d\udca1 LED Indicator Light</h4>\n          <p><strong>Components:</strong> Battery, resistor, LED</p>\n          <p><strong>Circuit type:</strong> Series (protects LED)</p>\n          <ul>\n            <li>Resistor limits current (10-20mA)</li>\n            <li>Protects LED from burnout</li>\n            <li>Series connection ensures same current</li>\n          </ul>\n        </div>\n\n        <div class="circuit-example">\n          <h4>\ud83d\udd0c Power Strip</h4>\n          <p><strong>Components:</strong> Multiple outlets connected in parallel</p>\n          <p><strong>Circuit type:</strong> Parallel</p>\n          <ul>\n            <li>Each outlet gets full 120V</li>\n            <li>Can plug multiple devices</li>\n            <li>Each device operates independently</li>\n          </ul>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd0b Battery Configurations</h2>\n      <div class="battery-guide">\n        <h3>How to Get Different Voltages</h3>\n        <p>By connecting batteries in series or parallel, you can create different voltages and currents for your application.</p>\n        \n        <div class="battery-configs">\n          <div class="config-box">\n            <strong>\u26d3\ufe0f Series Connection</strong>\n            <p>Voltage adds together</p>\n            <p style="font-size: 1.1em; margin: 10px 0;"><strong>2\xd71.5V = 3V</strong></p>\n            <p><strong>Use for:</strong> Higher voltage needed</p>\n          </div>\n          \n          <div class="config-box">\n            <strong>\ud83d\udd00 Parallel Connection</strong>\n            <p>Voltage stays same</p>\n            <p style="font-size: 1.1em; margin: 10px 0;"><strong>1.5V (\xd72) = 1.5V</strong></p>\n            <p><strong>Use for:</strong> Longer battery life</p>\n          </div>\n        </div>\n        \n        <p style="margin-top: 20px; text-align: center; font-weight: bold;">\u26a0\ufe0f Important: Match battery chemistry (all alkaline or all rechargeable)</p>\n      </div>\n\n\n      <h2>\u26a1 Power Generation & Distribution</h2>\n      <div class="industrial-box">\n        <h3>How Electricity Gets to Your Home</h3>\n        <p><strong>The path:</strong> Power plant \u2192 Transmission lines \u2192 Local transformer \u2192 Your home</p>\n        <ul>\n          <li><strong>Power plants:</strong> Generate electricity (coal, gas, solar, wind)</li>\n          <li><strong>High voltage transmission:</strong> 100,000V+ (efficient for long distances)</li>\n          <li><strong>Step-down transformers:</strong> Reduce voltage for neighborhoods</li>\n          <li><strong>Local transformer:</strong> Reduces to 240V for homes</li>\n          <li><strong>Your panel:</strong> Splits to 120V/240V circuits</li>\n        </ul>\n        <p style="margin-top: 20px;"><strong>\ud83d\udd11 Key insight:</strong> High voltage is used for transmission because P = V \xd7 I, so high voltage = lower current = less power loss</p>\n      </div>\n\n\n      <h2>\ud83d\udcbb Electronics & Semiconductors</h2>\n      <div class="info-box">\n        <strong>\ud83e\udd16 How Computers Work (Simplified):</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0; margin-left: 20px;">\n          <li><strong>Transistors:</strong> Tiny electronic switches (billions in modern chips)</li>\n          <li><strong>On/Off:</strong> 5V = 1 (on), 0V = 0 (off)</li>\n          <li><strong>Binary logic:</strong> Combines 1s and 0s to do calculations</li>\n          <li><strong>Speed:</strong> Modern CPUs switch billions of times per second</li>\n          <li><strong>Heat:</strong> All these switches generate heat (why cooling is needed)</li>\n        </ul>\n      </div>\n\n\n      <h2>\u26a1 Power Consumption & Energy</h2>\n      <div class="power-applications">\n        <h3>Understanding Power Ratings</h3>\n        <p><strong>Power (P) = Voltage (V) \xd7 Current (I)</strong> - Measured in Watts</p>\n        <ul>\n          <li><strong>LED bulb:</strong> ~10W (efficient)</li>\n          <li><strong>Incandescent bulb:</strong> ~60W (wasteful)</li>\n          <li><strong>Microwave:</strong> ~1000W (high power)</li>\n          <li><strong>Electric heater:</strong> ~5000W (very high)</li>\n          <li><strong>Laptop charger:</strong> ~100W</li>\n        </ul>\n        <p style="margin-top: 15px;"><strong>\ud83d\udca1 Energy saving:</strong> Lower watts = lower electricity bill!</p>\n      </div>\n\n\n      <h2>\ud83c\udfaf Real-World Problem Solving</h2>\n      <div class="formula-box">\n        <h3>Example: Designing an LED Flashlight</h3>\n        <div class="formula-explain" style="text-align: left;">\n          <p><strong>Requirements:</strong></p>\n          <ul style="margin: 10px 0 0 20px;">\n            <li>Use 2 AA batteries (1.5V each)</li>\n            <li>Want bright LED (20mA)</li>\n            <li>LED forward voltage: 2V</li>\n          </ul>\n          \n          <p style="margin-top: 15px;"><strong>Solution:</strong></p>\n          <p style="margin: 10px 0;">1. <strong>Series batteries:</strong> 1.5V + 1.5V = 3V total</p>\n          <p style="margin: 10px 0;">2. <strong>Calculate resistor:</strong> R = (3V - 2V) / 0.020A = 50\u03a9</p>\n          <p style="margin: 10px 0;">3. <strong>Check power:</strong> P = 1V \xd7 0.020A = 0.02W (1/20W resistor needed)</p>\n          <p style="margin-top: 15px; color: #FF9800;"><strong>\u2713 Circuit: 2 AA batteries in series \u2192 50\u03a9 resistor \u2192 LED \u2192 back to battery</strong></p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\ude80 Future Applications</h2>\n      <div class="info-box">\n        <strong>\ud83d\udd2e Emerging Technologies:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0; margin-left: 20px;">\n          <li><strong>Electric vehicles:</strong> 400V+ battery systems</li>\n          <li><strong>Renewable energy:</strong> Solar (DC) and wind power integration</li>\n          <li><strong>Smart grids:</strong> Intelligent power distribution</li>\n          <li><strong>Wireless charging:</strong> Electromagnetic induction</li>\n          <li><strong>IoT devices:</strong> Billions of connected devices</li>\n          <li><strong>Quantum computers:</strong> Extreme voltage/current precision needed</li>\n        </ul>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The average American home uses about 30 kilowatt-hours (kWh) per day. That\'s about 30,000 watts running for one hour, or the equivalent of 3,000 LED bulbs (10W each) running for an hour every single day! Understanding electrical efficiency is crucial for both environment and wallet.</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What type of circuit does home wiring use?</p>\n        <ul>\n          <li>A) Series</li>\n          <li>B) Parallel \ud83c\udfe0</li>\n          <li>C) Both</li>\n          <li>D) Neither</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Parallel! Each outlet is independent!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> Why is high voltage used for power transmission?</p>\n        <ul>\n          <li>A) It\'s safer</li>\n          <li>B) Lower current means less power loss \ud83d\udd0c</li>\n          <li>C) It\'s cheaper to produce</li>\n          <li>D) It travels faster</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - High voltage reduces transmission losses!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If you need 6V, how should you connect 1.5V batteries?</p>\n        <ul>\n          <li>A) 2 in series (3V)</li>\n          <li>B) 4 in series (6V) \u26d3\ufe0f</li>\n          <li>C) 6 in parallel (1.5V)</li>\n          <li>D) It\'s impossible</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Series adds voltages: 4\xd71.5V = 6V!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> What happens if one device fails in a parallel home circuit?</p>\n        <ul>\n          <li>A) Everything stops working</li>\n          <li>B) The circuit breaker trips</li>\n          <li>C) Other devices keep working \ud83d\udd0c</li>\n          <li>D) Voltage increases</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - Other devices continue working independently!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 5:</strong> For an LED circuit with 9V battery, 2V LED, 15mA desired, what resistor?</p>\n        <ul>\n          <li>A) ~300\u03a9</li>\n          <li>B) ~450\u03a9</li>\n          <li>C) ~467\u03a9 \ud83d\udccf</li>\n          <li>D) ~500\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - R = (9-2)/0.015 = 467\u03a9!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What type of circuit does home wiring use?",options:["Series","Parallel","Both","Neither"],answer:1},{q:"Why use high voltage for power transmission?",options:["Safer","Lower current = less loss","Cheaper","Travels faster"],answer:1},{q:"To get 6V from 1.5V batteries, connect how?",options:["2 in series","4 in series","6 in parallel","Impossible"],answer:1},{q:"If one device fails in parallel circuit?",options:["All stop","Breaker trips","Others keep working","Voltage increases"],answer:2},{q:"9V battery, 2V LED, 15mA - resistor needed?",options:["~300\u03a9","~450\u03a9","~467\u03a9","~500\u03a9"],answer:2}],tools:[{name:"Battery Configuration Calculator",type:"calculator",description:"Calculate voltage and runtime for series/parallel battery configurations",fields:[{label:"Single Battery Voltage (V)",key:"voltage",placeholder:"Enter voltage (e.g., 1.5)"},{label:"Number in Series",key:"series",placeholder:"Enter number (e.g., 4)"},{label:"Number in Parallel",key:"parallel",placeholder:"Enter number (e.g., 2)"}],calculate:e=>{if(!e.voltage||!e.series)return null;const n=parseFloat(e.voltage),t=parseInt(e.series)||1,r=parseInt(e.parallel)||1;if(n<=0||t<=0||r<=0)return"Error: Values must be positive";const i=n*t,o=t*r;let s="<strong>Configuration:</strong> ".concat(t," in series \xd7 ").concat(r," in parallel<br>");return s+="<strong>Total Voltage:</strong> ".concat(i.toFixed(2),"V<br>"),s+="<strong>Total Batteries:</strong> ".concat(o,"<br>"),s+="<strong>Runtime:</strong> ".concat(r,"\xd7 longer than single battery<br>"),s+="<strong>Current capacity:</strong> ".concat(r,"\xd7 higher"),s},unit:"Volts (V)"},{name:"Power Consumption Calculator",type:"calculator",description:"Calculate power usage and electricity cost",fields:[{label:"Voltage (V)",key:"voltage",placeholder:"Enter voltage (e.g., 120)"},{label:"Current (A)",key:"current",placeholder:"Enter current (e.g., 5)"},{label:"Hours per Day",key:"hours",placeholder:"Enter hours (e.g., 8)"}],calculate:e=>{if(!e.voltage||!e.current||!e.hours)return null;const n=parseFloat(e.voltage),t=parseFloat(e.current),r=parseFloat(e.hours);if(n<=0||t<=0||r<=0)return"Error: Values must be positive";const i=(n*t).toFixed(0),o=(n*t*r/1e3).toFixed(2),s=(30*o).toFixed(1),a=(12*s*.12).toFixed(2);return"<strong>Power:</strong> ".concat(i,"W<br>\n                <strong>Daily usage:</strong> ").concat(o," kWh<br>\n                <strong>Monthly usage:</strong> ").concat(s," kWh<br>\n                <strong>Yearly cost (at $0.12/kWh):</strong> $").concat(a)},unit:"Watts (W)"}]},Vv={"electrical-basics":{id:"electrical-basics",title:"Electrical Basics",description:"Learn the fundamentals of electricity from atoms to circuits",color:"#FF6B6B",icon:"\u26a1",level:"Beginner",duration:"5 hours",students:"2,340",sessions:[{title:"Introduction to Electricity",content:'\n    <style>\n      .electricity-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .electricity-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .electricity-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .electricity-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .lightning-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: pulse-light 2s infinite;\n      }\n      \n      @keyframes pulse-light {\n        0%, 100% { opacity: 1; transform: scale(1); }\n        50% { opacity: 0.8; transform: scale(1.05); }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .atom-container {\n        position: relative;\n        width: 200px;\n        height: 200px;\n        margin: 30px auto;\n      }\n      \n      .nucleus {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 40px;\n        height: 40px;\n        background: #ff6b6b;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n        font-size: 20px;\n        box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);\n        animation: nucleus-pulse 2s infinite;\n      }\n      \n      @keyframes nucleus-pulse {\n        0%, 100% { transform: translate(-50%, -50%) scale(1); }\n        50% { transform: translate(-50%, -50%) scale(1.1); }\n      }\n      \n      .electron-orbit {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        border: 2px dashed #667eea;\n        border-radius: 50%;\n      }\n      \n      .orbit-1 {\n        width: 100px;\n        height: 100px;\n        animation: rotate-orbit 4s linear infinite;\n      }\n      \n      .orbit-2 {\n        width: 160px;\n        height: 160px;\n        animation: rotate-orbit 6s linear infinite;\n      }\n      \n      @keyframes rotate-orbit {\n        from { transform: translate(-50%, -50%) rotate(0deg); }\n        to { transform: translate(-50%, -50%) rotate(360deg); }\n      }\n      \n      .electron {\n        position: absolute;\n        width: 16px;\n        height: 16px;\n        background: #4ecdc4;\n        border-radius: 50%;\n        box-shadow: 0 0 10px #4ecdc4;\n        top: 0;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .timeline {\n        position: relative;\n        padding: 20px 0;\n        margin: 30px 0;\n      }\n      \n      .timeline-item {\n        display: flex;\n        margin-bottom: 25px;\n        align-items: flex-start;\n        gap: 20px;\n      }\n      \n      .timeline-date {\n        background: #667eea;\n        color: white;\n        padding: 8px 15px;\n        border-radius: 20px;\n        font-weight: bold;\n        min-width: 80px;\n        text-align: center;\n        flex-shrink: 0;\n      }\n      \n      .timeline-content {\n        flex: 1;\n        background: #f8f9fa;\n        padding: 15px 20px;\n        border-radius: 10px;\n        box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n      }\n      \n      .timeline-content strong {\n        color: #667eea;\n        display: block;\n        margin-bottom: 5px;\n      }\n      \n      .electricity-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .electricity-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n    </style>\n\n    <div class="electricity-lesson">\n      <div class="hero-box">\n        <div class="lightning-icon">\u26a1</div>\n        <p>Electricity: The flow of tiny particles called electrons that brings light, power, and energy to everything around us!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is Electricity?</h2>\n      <p>\n        Imagine millions of tiny invisible balls flowing through wires like water through pipes. These tiny balls are called <span class="highlight">electrons</span>, and when they move together, they create electricity!\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udca1 Simple Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Electricity is the movement of electrons (tiny charged particles) from one place to another. This movement creates energy that can power lights, computers, phones, and everything electrical!</p>\n      </div>\n\n      <h2>\ud83d\udd2c Understanding Atoms - The Building Blocks</h2>\n      <p>\n        Everything around you is made of tiny particles called <span class="highlight">atoms</span>. Atoms are so small that millions of them would fit on the tip of a needle! Each atom is like a mini solar system:\n      </p>\n\n      <div class="atom-container">\n        <div class="nucleus">+</div>\n        <div class="electron-orbit orbit-1">\n          <div class="electron"></div>\n        </div>\n        <div class="electron-orbit orbit-2">\n          <div class="electron"></div>\n        </div>\n      </div>\n\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfaf</span>\n          <h4>Nucleus (Center)</h4>\n          <p>Contains <strong>protons</strong> with positive charge (+). It\'s like the sun in our solar system!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udf00</span>\n          <h4>Electrons (Orbiting)</h4>\n          <p>Tiny particles with negative charge (\u2212) that orbit around the nucleus like planets!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>Electricity Happens!</h4>\n          <p>When electrons jump from atom to atom, they create an electric current!</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udcdc Who Discovered Electricity?</h2>\n      <p>\n        Electricity wasn\'t invented by one person - it was discovered and understood over hundreds of years by many curious scientists!\n      </p>\n\n      <div class="timeline">\n        <div class="timeline-item">\n          <div class="timeline-date">600 BC</div>\n          <div class="timeline-content">\n            <strong>Ancient Greeks</strong>\n            Thales of Miletus discovered that rubbing amber (fossilized tree resin) with fur created a force that attracted small objects. The word "electricity" comes from "elektron," the Greek word for amber!\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1752</div>\n          <div class="timeline-content">\n            <strong>Benjamin Franklin \ud83e\ude81</strong>\n            Famous for his kite experiment! He flew a kite during a thunderstorm (dangerous - don\'t try this!) and proved that lightning is electricity. He also invented the lightning rod to protect buildings.\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1800</div>\n          <div class="timeline-content">\n            <strong>Alessandro Volta \ud83d\udd0b</strong>\n            Created the first electric battery! He stacked copper and zinc discs to create a steady flow of electricity. The "volt" unit is named after him!\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1879</div>\n          <div class="timeline-content">\n            <strong>Thomas Edison \ud83d\udca1</strong>\n            Invented the first practical electric light bulb and built power stations to bring electricity to homes and cities.\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1888</div>\n          <div class="timeline-content">\n            <strong>Nikola Tesla \u26a1</strong>\n            Developed alternating current (AC) electricity that we use in our homes today. His inventions made it possible to send electricity over long distances!\n          </div>\n        </div>\n      </div>\n\n      <h2>\ud83e\udd14 Why Did They Search for Electricity?</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd6f\ufe0f</span>\n          <h4>Light in Darkness</h4>\n          <p>People wanted better lighting than candles and oil lamps</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u2699\ufe0f</span>\n          <h4>Power Machines</h4>\n          <p>To run factories and tools without muscle power or steam</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce1</span>\n          <h4>Communication</h4>\n          <p>To send messages quickly over long distances (telegraph)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd2c</span>\n          <h4>Scientific Curiosity</h4>\n          <p>Understanding the mysterious force they saw in lightning and static</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udf1f How Does Electricity Work?</h2>\n      <div class="info-box">\n        <strong>The Water Analogy:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">Think of electricity like water flowing through pipes:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>Electrons</strong> = Water molecules</li>\n          <li><strong>Wires</strong> = Pipes</li>\n          <li><strong>Battery/Power source</strong> = Water pump</li>\n          <li><strong>Switch</strong> = Valve that turns flow on/off</li>\n          <li><strong>Electric current</strong> = Water pressure/flow rate</li>\n        </ul>\n      </div>\n\n      <h2>\u26a1 Types of Electricity</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0b</span>\n          <h4>Static Electricity</h4>\n          <p>When electrons build up in one place. Example: rubbing a balloon on your hair makes it stick!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u27a1\ufe0f</span>\n          <h4>Current Electricity</h4>\n          <p>When electrons flow continuously through a wire. This powers all your devices!</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udfaf Why is Electricity Important?</h2>\n      <p>Electricity has completely transformed human life! Here\'s how:</p>\n      <ul>\n        <li>\ud83d\udca1 <strong>Lighting:</strong> We can see clearly at night</li>\n        <li>\ud83c\udfe5 <strong>Healthcare:</strong> Powers life-saving medical equipment</li>\n        <li>\ud83d\udcf1 <strong>Communication:</strong> Phones, internet, TV, radio</li>\n        <li>\ud83c\udf73 <strong>Food:</strong> Refrigerators keep food fresh, stoves cook meals</li>\n        <li>\ud83d\ude97 <strong>Transportation:</strong> Electric trains, cars, and more</li>\n        <li>\ud83d\udcbb <strong>Technology:</strong> Computers, smartphones, games</li>\n        <li>\ud83c\udfed <strong>Industry:</strong> Factories can produce goods efficiently</li>\n        <li>\ud83c\udf21\ufe0f <strong>Comfort:</strong> Heating and cooling our homes</li>\n      </ul>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What creates electricity?</p>\n        <ul>\n          <li>A) Movement of electrons \u26a1</li>\n          <li>B) Movement of protons</li>\n          <li>C) Heat only</li>\n          <li>D) Light only</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - The movement of electrons creates electric current!</em></p>\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> Who flew a kite in a storm to study electricity?</p>\n        <ul>\n          <li>A) Thomas Edison</li>\n          <li>B) Benjamin Franklin \ud83e\ude81</li>\n          <li>C) Nikola Tesla</li>\n          <li>D) Alessandro Volta</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Benjamin Franklin in 1752!</em></p>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf31 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Lightning is a natural form of electricity! A single lightning bolt contains enough electricity to power a 100-watt light bulb for more than 3 months!</p>\n      </div>\n    </div>\n  ',questions:[{q:"What creates electricity?",options:["Movement of electrons","Movement of protons","Heat","Light"],answer:0},{q:"Who flew a kite in a storm to study electricity?",options:["Thomas Edison","Benjamin Franklin","Nikola Tesla","Alessandro Volta"],answer:1},{q:"What is at the center of an atom?",options:["Electrons","Nucleus with protons","Neutrons only","Empty space"],answer:1}],tools:[{name:"Atom Explorer",type:"interactive",description:"Visualize electron orbits and understand atomic structure"}]},{title:"Current: Definition and Types",content:'\n    <style>\n      .current-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .current-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .current-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .current-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .current-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: flow 2s infinite;\n      }\n      \n      @keyframes flow {\n        0%, 100% { transform: translateX(0); }\n        50% { transform: translateX(10px); }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .comparison-box {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .dc-box {\n        background: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 3px solid #FF6B6B;\n      }\n      \n      .ac-box {\n        background: linear-gradient(135deg, #E5F3FF 0%, #F0F8FF 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 3px solid #4ECDC4;\n      }\n      \n      .dc-box h3, .ac-box h3 {\n        margin-top: 0;\n        font-size: 1.3em;\n      }\n      \n      .dc-box h3 {\n        color: #FF6B6B;\n      }\n      \n      .ac-box h3 {\n        color: #4ECDC4;\n      }\n      \n      .dc-box p, .ac-box p {\n        margin: 10px 0;\n        font-size: 0.95em;\n      }\n      \n      .wave-animation {\n        width: 100%;\n        height: 100px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin: 20px 0;\n      }\n      \n      .dc-wave {\n        font-size: 40px;\n        animation: dc-pulse 1.5s infinite;\n      }\n      \n      @keyframes dc-pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.5; }\n      }\n      \n      .ac-wave {\n        font-size: 40px;\n        animation: ac-wave 1.5s infinite;\n      }\n      \n      @keyframes ac-wave {\n        0% { transform: translateX(0) rotateY(0); }\n        25% { transform: translateX(5px) rotateY(5deg); }\n        50% { transform: translateX(0) rotateY(0); }\n        75% { transform: translateX(-5px) rotateY(-5deg); }\n        100% { transform: translateX(0) rotateY(0); }\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.4em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain {\n        text-align: left;\n        margin-top: 15px;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain p {\n        margin: 8px 0;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .examples-box p, .examples-box li {\n        color: #1B5E20;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 15px;\n        margin: 10px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .current-units {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin: 20px 0;\n      }\n      \n      .unit-card {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n      }\n      \n      .unit-card .symbol {\n        font-size: 2em;\n        margin-bottom: 10px;\n      }\n      \n      .unit-card .name {\n        font-size: 1.1em;\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n      \n      .unit-card .definition {\n        font-size: 0.9em;\n        opacity: 0.9;\n      }\n      \n      .timeline {\n        position: relative;\n        padding: 20px 0;\n        margin: 30px 0;\n      }\n      \n      .timeline-item {\n        display: flex;\n        margin-bottom: 25px;\n        align-items: flex-start;\n        gap: 20px;\n      }\n      \n      .timeline-symbol {\n        background: #667eea;\n        color: white;\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 1.5em;\n        flex-shrink: 0;\n      }\n      \n      .timeline-content {\n        flex: 1;\n        background: #f8f9fa;\n        padding: 15px 20px;\n        border-radius: 10px;\n        box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n      }\n      \n      .timeline-content strong {\n        color: #667eea;\n        display: block;\n        margin-bottom: 5px;\n      }\n      \n      .current-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .current-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      @media (max-width: 768px) {\n        .comparison-box {\n          grid-template-columns: 1fr;\n        }\n      }\n    </style>\n\n\n    <div class="current-lesson">\n      <div class="hero-box">\n        <div class="current-icon">\u26a1</div>\n        <p>Electric Current: The flow of electrons through a wire that powers everything electrical!</p>\n      </div>\n\n\n      <h2>\ud83d\udd0c What is Electric Current?</h2>\n      <p>\n        Now that you know electricity is the movement of electrons, let\'s talk about <span class="highlight">electric current</span>. Current is like a "river of electrons" flowing through wires!\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Electric current is the <strong>amount of charge flowing past a point per unit of time</strong>. Think of it as: "How many electrons pass through a point every second?"</p>\n      </div>\n\n\n      <h2>\ud83c\udfaf Understanding Current with the Water Analogy</h2>\n      <p>\n        Imagine a water pipe with water flowing through it:\n      </p>\n      <ul>\n        <li><strong>The electrons</strong> = Water molecules</li>\n        <li><strong>The wire</strong> = The pipe</li>\n        <li><strong>The current</strong> = How much water flows per second (flow rate)</li>\n        <li><strong>More current</strong> = More electrons flowing = Stronger light or power</li>\n        <li><strong>Less current</strong> = Fewer electrons flowing = Weaker light or power</li>\n      </ul>\n\n\n      <h2>\ud83d\udcca The Current Formula</h2>\n      <div class="formula-box">\n        <h3>The Current Equation</h3>\n        <div class="formula">I = Q / t</div>\n        <div class="formula-explain">\n          <p><strong>Where:</strong></p>\n          <p>\ud83d\udd39 <strong>I</strong> = Current (measured in Amperes)</p>\n          <p>\ud83d\udd39 <strong>Q</strong> = Charge (measured in Coulombs)</p>\n          <p>\ud83d\udd39 <strong>t</strong> = Time (measured in seconds)</p>\n          <p style="margin-top: 15px; color: #667eea;"><strong>Translation:</strong> "Current equals the amount of charge divided by the time it takes to flow"</p>\n        </div>\n      </div>\n\n\n      <h2>\u26a1 Units of Current: The Ampere</h2>\n      <p>\n        Current is measured in a unit called the <span class="highlight">Ampere (A)</span>, named after French scientist Andr\xe9-Marie Amp\xe8re. Sometimes people call it an "amp" for short.\n      </p>\n      \n      <div class="current-units">\n        <div class="unit-card">\n          <div class="symbol">1 A</div>\n          <div class="name">One Ampere</div>\n          <div class="definition">About 6.24 \xd7 10\xb9\u2078 electrons flowing per second!</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">0.1 A</div>\n          <div class="name">One Tenth Amp</div>\n          <div class="definition">Used by LEDs and small devices</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">10 A</div>\n          <div class="name">Ten Amps</div>\n          <div class="definition">Used by household appliances</div>\n        </div>\n      </div>\n\n      <div class="examples-box">\n        <h3>\ud83d\udd0b Real-Life Examples of Current</h3>\n        <div class="example-item">\n          <strong>Flashlight:</strong> Uses about 0.5 A (half an ampere)\n        </div>\n        <div class="example-item">\n          <strong>Light Bulb:</strong> Uses about 0.5-1 A\n        </div>\n        <div class="example-item">\n          <strong>Refrigerator:</strong> Uses about 5-10 A\n        </div>\n        <div class="example-item">\n          <strong>Electric Oven:</strong> Uses about 20-40 A\n        </div>\n        <div class="example-item">\n          <strong>Computer:</strong> Uses about 5-10 A\n        </div>\n        <div class="example-item">\n          <strong>iPhone Charger:</strong> Uses about 1-2 A\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd00 Two Types of Current: DC vs AC</h2>\n      <p>\n        There are two main types of electric current, and they behave very differently!\n      </p>\n\n\n      <div class="comparison-box">\n        <div class="dc-box">\n          <h3>\ud83d\udd0b DC (Direct Current)</h3>\n          <div class="wave-animation">\n            <div class="dc-wave">\u2192\u2192\u2192\u2192</div>\n          </div>\n          <p><strong>Direction:</strong> Electrons flow in ONE direction only (from negative to positive)</p>\n          <p><strong>Voltage:</strong> Constant (stays the same)</p>\n          <p><strong>Speed:</strong> Smooth and steady</p>\n          <p><strong>Examples:</strong></p>\n          <ul>\n            <li>\ud83d\udd0b Batteries (AA, AAA, etc.)</li>\n            <li>\ud83d\udcf1 Phone chargers</li>\n            <li>\ud83d\udcbb Computer power supplies</li>\n            <li>\ud83d\ude97 Car batteries</li>\n            <li>\u2600\ufe0f Solar panels</li>\n          </ul>\n          <p><strong>Symbol:</strong> \u2295\u2296 (straight lines showing positive and negative)</p>\n        </div>\n\n\n        <div class="ac-box">\n          <h3>\u26a1 AC (Alternating Current)</h3>\n          <div class="wave-animation">\n            <div class="ac-wave">\u2194\ufe0f\u2194\ufe0f\u2194\ufe0f\u2194\ufe0f</div>\n          </div>\n          <p><strong>Direction:</strong> Electrons flow BACK and FORTH, changing direction repeatedly</p>\n          <p><strong>Voltage:</strong> Changes over time (goes up and down)</p>\n          <p><strong>Speed:</strong> Oscillates (wiggles like a wave)</p>\n          <p><strong>Examples:</strong></p>\n          <ul>\n            <li>\ud83c\udfe0 Home electrical outlets</li>\n            <li>\ud83d\udca1 Home lighting</li>\n            <li>\ud83c\udf73 Kitchen appliances</li>\n            <li>\ud83c\udfed Factory equipment</li>\n            <li>\ud83c\udfe5 Hospital equipment</li>\n          </ul>\n          <p><strong>Symbol:</strong> ~ (wavy line)</p>\n        </div>\n      </div>\n\n\n      <h2>\u2699\ufe0f Why Do We Use Both DC and AC?</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0b</span>\n          <h4>DC is Best For:</h4>\n          <p>Small devices that need portable power (phones, laptops, cars)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>AC is Best For:</h4>\n          <p>Sending power over long distances with less energy loss</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd04</span>\n          <h4>AC Frequency:</h4>\n          <p>In most countries, AC changes direction 50-60 times per second!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udf0d</span>\n          <h4>Global Standard:</h4>\n          <p>USA uses 60 Hz (cycles/second), Europe uses 50 Hz</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udcc8 Calculating Current: Practical Example</h2>\n      <div class="formula-box">\n        <h3>Example Problem</h3>\n        <div class="formula-explain">\n          <p><strong>Question:</strong> A wire has 12 coulombs of charge flowing through it in 3 seconds. What is the current?</p>\n          <p style="margin-top: 15px;"><strong>Solution:</strong></p>\n          <p>I = Q / t</p>\n          <p>I = 12 C / 3 s</p>\n          <p><strong>I = 4 Amperes (4 A)</strong></p>\n          <p style="margin-top: 15px; color: #667eea;"><strong>Translation:</strong> 4 coulombs of electrons flow past each point every second!</p>\n        </div>\n      </div>\n\n\n      <h2>\u26a0\ufe0f How Much Current is Safe?</h2>\n      <div class="timeline">\n        <div class="timeline-item">\n          <div class="timeline-symbol">1</div>\n          <div class="timeline-content">\n            <strong>0.001 A (1 mA)</strong>\n            Can barely feel it - safe\n          </div>\n        </div>\n\n\n        <div class="timeline-item">\n          <div class="timeline-symbol">2</div>\n          <div class="timeline-content">\n            <strong>0.005 A (5 mA)</strong>\n            Can feel pain and muscle contractions\n          </div>\n        </div>\n\n\n        <div class="timeline-item">\n          <div class="timeline-symbol">\u26a0\ufe0f</div>\n          <div class="timeline-content">\n            <strong>0.05 A (50 mA)</strong>\n            Can cause breathing problems and heart issues - DANGEROUS!\n          </div>\n        </div>\n\n\n        <div class="timeline-item">\n          <div class="timeline-symbol">\ud83d\udeab</div>\n          <div class="timeline-content">\n            <strong>0.1+ A (100+ mA)</strong>\n            Can cause serious injury or death - FATAL!\n          </div>\n        </div>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The human body is conductive (conducts electricity)! Contact with just 0.1 amperes (100 milliamps) can stop your heart. This is why we must always respect electricity and never touch exposed wires!</p>\n      </div>\n\n\n      <h2>\ud83d\udd27 How Circuits Use Current</h2>\n      <div class="info-box">\n        <strong>In a Simple Circuit:</strong>\n        <ul style="margin: 15px 0 0 0;">\n          <li><strong>Battery/Power Source</strong> pushes electrons (provides the "force")</li>\n          <li><strong>Wires</strong> provide the path for electrons to flow</li>\n          <li><strong>Lightbulb/Device</strong> uses the flowing electrons to do work (make light, heat, etc.)</li>\n          <li><strong>Switch</strong> controls whether current flows or stops</li>\n        </ul>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What is the unit of electric current?</p>\n        <ul>\n          <li>A) Volt</li>\n          <li>B) Ampere \u26a1</li>\n          <li>C) Ohm</li>\n          <li>D) Watt</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Ampere (or "Amp" for short)!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> Which current type flows in only ONE direction?</p>\n        <ul>\n          <li>A) Alternating Current (AC)</li>\n          <li>B) Direct Current (DC) \ud83d\udd0b</li>\n          <li>C) Both equally</li>\n          <li>D) Neither</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - DC (Direct Current) from batteries!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If 6 coulombs flow in 2 seconds, what is the current?</p>\n        <ul>\n          <li>A) 2 A</li>\n          <li>B) 3 A \u26a1</li>\n          <li>C) 4 A</li>\n          <li>D) 6 A</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - I = Q/t = 6/2 = 3 Amperes!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What is the unit of electric current?",options:["Volt","Ampere","Ohm","Watt"],answer:1},{q:"Which current flows in only ONE direction?",options:["AC (Alternating)","DC (Direct)","Both equally","Neither"],answer:1},{q:"If 6 coulombs flow in 2 seconds, what is the current?",options:["2 A","3 A","4 A","6 A"],answer:1},{q:"What does AC stand for?",options:["Alternate Charge","Alternating Current","Amplified Charge","Active Current"],answer:1}],tools:[{name:"Current Calculator",type:"calculator",description:"Calculate current using I = Q/t formula",fields:[{label:"Charge (Coulombs)",key:"charge",placeholder:"Enter charge (C)"},{label:"Time (seconds)",key:"time",placeholder:"Enter time (s)"}],calculate:e=>{if(!e.charge||!e.time)return null;const n=parseFloat(e.charge),t=parseFloat(e.time);if(0===t)return"Error: Time cannot be 0";return"".concat((n/t).toFixed(4)," Amperes")},unit:"Amperes (A)"}]},{title:"Voltage: Definition and Measurement",content:'\n    <style>\n      .voltage-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .voltage-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .voltage-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .voltage-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .voltage-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: voltage-pulse 1.5s infinite;\n      }\n      \n      @keyframes voltage-pulse {\n        0%, 100% { transform: scale(1); opacity: 1; }\n        50% { transform: scale(1.1); opacity: 0.8; }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.4em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain {\n        text-align: left;\n        margin-top: 15px;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain p {\n        margin: 8px 0;\n      }\n      \n      .voltage-units {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin: 20px 0;\n      }\n      \n      .unit-card {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n      }\n      \n      .unit-card .symbol {\n        font-size: 2em;\n        margin-bottom: 10px;\n      }\n      \n      .unit-card .name {\n        font-size: 1.1em;\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n      \n      .unit-card .definition {\n        font-size: 0.9em;\n        opacity: 0.9;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .examples-box p, .examples-box li {\n        color: #1B5E20;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 15px;\n        margin: 10px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .water-analogy {\n        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #667eea;\n      }\n      \n      .water-analogy h3 {\n        color: #667eea;\n        margin-top: 0;\n      }\n      \n      .analogy-item {\n        background: white;\n        padding: 12px;\n        margin: 10px 0;\n        border-left: 4px solid #667eea;\n        border-radius: 4px;\n      }\n      \n      .analogy-item strong {\n        color: #667eea;\n      }\n      \n      .comparison-box {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .battery-box {\n        background: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 3px solid #FF6B6B;\n      }\n      \n      .power-box {\n        background: linear-gradient(135deg, #E5F3FF 0%, #F0F8FF 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 3px solid #4ECDC4;\n      }\n      \n      .battery-box h3, .power-box h3 {\n        margin-top: 0;\n        font-size: 1.3em;\n      }\n      \n      .battery-box h3 {\n        color: #FF6B6B;\n      }\n      \n      .power-box h3 {\n        color: #4ECDC4;\n      }\n      \n      .battery-box p, .power-box p {\n        margin: 10px 0;\n        font-size: 0.95em;\n      }\n      \n      .voltage-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .voltage-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      .table-box {\n        overflow-x: auto;\n        margin: 25px 0;\n      }\n      \n      .voltage-table {\n        width: 100%;\n        border-collapse: collapse;\n        background: white;\n      }\n      \n      .voltage-table th, .voltage-table td {\n        border: 1px solid #ddd;\n        padding: 12px;\n        text-align: left;\n      }\n      \n      .voltage-table th {\n        background-color: #667eea;\n        color: white;\n        font-weight: bold;\n      }\n      \n      .voltage-table tr:nth-child(even) {\n        background-color: #f9f9f9;\n      }\n      \n      @media (max-width: 768px) {\n        .comparison-box {\n          grid-template-columns: 1fr;\n        }\n      }\n    </style>\n\n\n    <div class="voltage-lesson">\n      <div class="hero-box">\n        <div class="voltage-icon">\ud83d\udd0b</div>\n        <p>Voltage: The electrical pressure that pushes electrons through circuits and powers your devices!</p>\n      </div>\n\n\n      <h2>\u26a1 What is Voltage?</h2>\n      <p>\n        Now you understand that electrons flow as current, but what makes them flow? That\'s where <span class="highlight">voltage</span> comes in! Voltage is the electrical "push" or "pressure" that forces electrons to move.\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Voltage is the electrical potential difference (or pressure) between two points in a circuit. It\'s the "force" that makes electrons want to flow from one place to another.</p>\n      </div>\n\n\n      <h2>\ud83d\udca7 Think of It Like Water</h2>\n      <div class="water-analogy">\n        <h3>Water Pipe Analogy</h3>\n        <div class="analogy-item">\n          <strong>Voltage</strong> = Water pressure in the pipe\n        </div>\n        <div class="analogy-item">\n          <strong>Current</strong> = Amount of water flowing (liters per second)\n        </div>\n        <div class="analogy-item">\n          <strong>Electrons</strong> = Water molecules\n        </div>\n        <div class="analogy-item">\n          <strong>Higher voltage</strong> = Higher pressure = More force to push electrons\n        </div>\n        <div class="analogy-item">\n          <strong>Lower voltage</strong> = Lower pressure = Less force to push electrons\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udcca The Voltage Formula</h2>\n      <div class="formula-box">\n        <h3>Voltage Equation</h3>\n        <div class="formula">V = W / Q</div>\n        <div class="formula-explain">\n          <p><strong>Where:</strong></p>\n          <p>\ud83d\udd39 <strong>V</strong> = Voltage (measured in Volts)</p>\n          <p>\ud83d\udd39 <strong>W</strong> = Work/Energy (measured in Joules)</p>\n          <p>\ud83d\udd39 <strong>Q</strong> = Charge (measured in Coulombs)</p>\n          <p style="margin-top: 15px; color: #667eea;"><strong>Translation:</strong> "Voltage equals the energy needed to move a unit of charge from one point to another"</p>\n        </div>\n      </div>\n\n\n      <h2>\u26a1 Units of Voltage: The Volt</h2>\n      <p>\n        Voltage is measured in a unit called the <span class="highlight">Volt (V)</span>, named after Alessandro Volta, the inventor of the battery. One Volt represents the pressure needed to push one Coulomb of charge between two points.\n      </p>\n      \n      <div class="voltage-units">\n        <div class="unit-card">\n          <div class="symbol">1.5 V</div>\n          <div class="name">AA Battery</div>\n          <div class="definition">Typical flashlight battery</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">9 V</div>\n          <div class="name">9V Battery</div>\n          <div class="definition">Used in smoke detectors</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">12 V</div>\n          <div class="name">Car Battery</div>\n          <div class="definition">Powers your vehicle</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">120-240 V</div>\n          <div class="name">Home Outlet</div>\n          <div class="definition">Depends on country</div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd0b Real-Life Voltage Examples</h2>\n      <div class="examples-box">\n        <h3>\ud83d\udd0c Common Voltages</h3>\n        <div class="example-item">\n          <strong>AAA Battery:</strong> 1.5V - Small devices\n        </div>\n        <div class="example-item">\n          <strong>Phone Charger:</strong> 5V - Safe USB voltage\n        </div>\n        <div class="example-item">\n          <strong>Laptop Charger:</strong> 19-20V - More power for laptops\n        </div>\n        <div class="example-item">\n          <strong>Home Outlet (US):</strong> 120V - Lights, appliances\n        </div>\n        <div class="example-item">\n          <strong>Home Outlet (Europe):</strong> 230V - Higher voltage\n        </div>\n        <div class="example-item">\n          <strong>Power Lines:</strong> 1000-765,000V - Long distance transmission\n        </div>\n        <div class="example-item">\n          <strong>Lightning:</strong> ~1,000,000,000V - Extremely dangerous!\n        </div>\n      </div>\n\n\n      <h2>\u26a0\ufe0f High Voltage = Dangerous!</h2>\n      <div class="info-box" style="border-left-color: #ff6b6b;">\n        <strong style="color: #ff6b6b;">\u26a1 Voltage Safety Rules:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0;">\n          <li><strong>5V or less:</strong> Generally safe to touch</li>\n          <li><strong>50V or more:</strong> Can cause serious burns</li>\n          <li><strong>100V or more:</strong> Can cause heart failure (DANGEROUS!)</li>\n          <li><strong>High voltage areas:</strong> STAY AWAY! Use "Warning: High Voltage" signs</li>\n        </ul>\n      </div>\n\n\n      <h2>\u2699\ufe0f Voltage vs Current vs Resistance</h2>\n      <div class="comparison-box">\n        <div class="battery-box">\n          <h3>\ud83d\udd0b Voltage (V)</h3>\n          <p><strong>The Push:</strong> Electrical pressure forcing electrons</p>\n          <p><strong>Unit:</strong> Volts</p>\n          <p><strong>Source:</strong> Batteries and power supplies</p>\n          <p><strong>Analogy:</strong> Water pressure in a hose</p>\n          <p><strong>Effect:</strong> Creates the potential for current</p>\n        </div>\n\n\n        <div class="power-box">\n          <h3>\ud83d\udd0c Current (A)</h3>\n          <p><strong>The Flow:</strong> Amount of electrons actually flowing</p>\n          <p><strong>Unit:</strong> Amperes</p>\n          <p><strong>Result:</strong> Flow of charges through circuit</p>\n          <p><strong>Analogy:</strong> Amount of water flowing per second</p>\n          <p><strong>Effect:</strong> Determines brightness of lights, heat</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udccf How to Measure Voltage</h2>\n      <div class="info-box">\n        <strong>Using a Voltmeter:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0;">\n          <li>\ud83d\udd34 <strong>Red probe:</strong> Connect to positive side</li>\n          <li>\u26ab <strong>Black probe:</strong> Connect to negative/ground</li>\n          <li>\ud83d\udcca <strong>Connection:</strong> In PARALLEL (across component)</li>\n          <li>\u26a0\ufe0f <strong>Never series:</strong> Don\'t put voltmeter in series like ammeter</li>\n          <li>\u2705 <strong>Safe:</strong> Measuring voltage won\'t harm circuit</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83d\udd17 Calculating Voltage: Examples</h2>\n      <div class="formula-box">\n        <h3>Example Problem 1</h3>\n        <div class="formula-explain">\n          <p><strong>Question:</strong> A battery does 100 joules of work to move 10 coulombs of charge. What is the voltage?</p>\n          <p style="margin-top: 15px;"><strong>Solution:</strong></p>\n          <p>V = W / Q</p>\n          <p>V = 100 J / 10 C</p>\n          <p><strong>V = 10 Volts</strong></p>\n        </div>\n      </div>\n\n\n      <div class="formula-box">\n        <h3>Example Problem 2 (Using Ohm\'s Law)</h3>\n        <div class="formula-explain">\n          <p><strong>Question:</strong> A 5\u03a9 resistor has 2A of current flowing through it. What is the voltage across it?</p>\n          <p style="margin-top: 15px;"><strong>Solution (using V = I \xd7 R):</strong></p>\n          <p>V = I \xd7 R</p>\n          <p>V = 2A \xd7 5\u03a9</p>\n          <p><strong>V = 10 Volts</strong></p>\n        </div>\n      </div>\n\n\n      <h2>\u26a1 Voltage Drop</h2>\n      <div class="info-box">\n        <strong>What is Voltage Drop?</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">When current flows through a component (like a resistor or light bulb), some of the voltage is "used up" or "dropped". This is called voltage drop.</p>\n        <p><strong>Example:</strong> In a simple circuit:</p>\n        <ul style="margin-bottom: 0;">\n          <li>Battery provides: 12V</li>\n          <li>Light bulb uses: 10V (voltage drop)</li>\n          <li>Resistor uses: 2V (voltage drop)</li>\n          <li>Total drops: 10V + 2V = 12V \u2713</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83c\udfaf Key Points About Voltage</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0b</span>\n          <h4>Voltage Source</h4>\n          <p>Batteries and power supplies provide voltage to push electrons</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u27a1\ufe0f</span>\n          <h4>Electron Pressure</h4>\n          <p>Higher voltage = more pressure to move electrons</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udca1</span>\n          <h4>Powers Devices</h4>\n          <p>Voltage is needed to make devices work (lights, motors, etc.)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a0\ufe0f</span>\n          <h4>Voltage Safety</h4>\n          <p>High voltage can be dangerous - always be careful!</p>\n        </div>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The electric eel can generate up to 860 volts of electricity! It uses this to stun prey and communicate. That\'s about 7 times the voltage of your home outlet!</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What is the unit of voltage?</p>\n        <ul>\n          <li>A) Ampere</li>\n          <li>B) Ohm</li>\n          <li>C) Volt \u26a1</li>\n          <li>D) Watt</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - Volt (V)!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> What does voltage represent?</p>\n        <ul>\n          <li>A) Amount of electrons flowing</li>\n          <li>B) Electrical pressure/push \ud83d\udd0b</li>\n          <li>C) Resistance to current</li>\n          <li>D) Power used by device</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Electrical pressure/push!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If W = 50J and Q = 5C, what is the voltage?</p>\n        <ul>\n          <li>A) 5V</li>\n          <li>B) 10V \u26a1</li>\n          <li>C) 15V</li>\n          <li>D) 20V</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - V = 50/5 = 10 Volts!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> Which voltage is dangerous?</p>\n        <ul>\n          <li>A) 5V</li>\n          <li>B) 50V (dangerous)</li>\n          <li>C) 120V (very dangerous) \u26a0\ufe0f</li>\n          <li>D) Both B and C</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: D - Both are dangerous!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What is the unit of voltage?",options:["Ampere","Ohm","Volt","Watt"],answer:2},{q:"What does voltage represent?",options:["Amount of electrons flowing","Electrical pressure/push","Resistance to current","Power used"],answer:1},{q:"If W = 50J and Q = 5C, what is the voltage?",options:["5V","10V","15V","20V"],answer:1},{q:"Which voltage is dangerous?",options:["5V","50V","120V","Both B and C"],answer:3}],tools:[{name:"Voltage Calculator",type:"calculator",description:"Calculate voltage using V = W/Q formula",fields:[{label:"Work/Energy (Joules)",key:"work",placeholder:"Enter work (J)"},{label:"Charge (Coulombs)",key:"charge",placeholder:"Enter charge (C)"}],calculate:e=>{if(!e.work||!e.charge)return null;const n=parseFloat(e.work),t=parseFloat(e.charge);if(0===t)return"Error: Charge cannot be 0";return"".concat((n/t).toFixed(4)," Volts")},unit:"Volts (V)"},{name:"Ohm's Law Voltage Calculator",type:"calculator",description:"Calculate voltage using V = I \xd7 R formula",fields:[{label:"Current (Amperes)",key:"current",placeholder:"Enter current (A)"},{label:"Resistance (Ohms)",key:"resistance",placeholder:"Enter resistance (\u03a9)"}],calculate:e=>{if(!e.current||!e.resistance)return null;const n=parseFloat(e.current),t=parseFloat(e.resistance);return"".concat((n*t).toFixed(4)," Volts")},unit:"Volts (V)"}]},{title:"Resistor: Function and Types",content:'\n    <style>\n      .resistor-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .resistor-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .resistor-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .resistor-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .resistor-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: resistor-pulse 2s infinite;\n      }\n      \n      @keyframes resistor-pulse {\n        0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }\n        50% { transform: scale(1.05) rotate(5deg); opacity: 0.9; }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .color-code-box {\n        background: white;\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #667eea;\n        margin: 25px 0;\n      }\n      \n      .color-code-box h3 {\n        color: #667eea;\n        margin-top: 0;\n      }\n      \n      .color-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n        gap: 10px;\n        margin: 20px 0;\n      }\n      \n      .color-band {\n        padding: 15px;\n        border-radius: 8px;\n        text-align: center;\n        font-weight: bold;\n        color: white;\n        font-size: 0.9em;\n      }\n      \n      .band-black { background: #000; }\n      .band-brown { background: #8B4513; }\n      .band-red { background: #FF0000; }\n      .band-orange { background: #FFA500; }\n      .band-yellow { background: #FFFF00; color: #333; }\n      .band-green { background: #00AA00; }\n      .band-blue { background: #0000FF; }\n      .band-violet { background: #8B00FF; }\n      .band-grey { background: #808080; }\n      .band-white { background: #FFFFFF; color: #333; border: 1px solid #ddd; }\n      \n      .resistor-types {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .resistor-type {\n        background: linear-gradient(135deg, #f0f4ff 0%, #fff0f0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #667eea;\n      }\n      \n      .resistor-type h4 {\n        color: #667eea;\n        margin-top: 0;\n        font-size: 1.2em;\n      }\n      \n      .resistor-type p, .resistor-type li {\n        color: #555;\n        font-size: 0.95em;\n      }\n      \n      .resistor-type ul {\n        margin-left: 20px;\n      }\n      \n      .resistor-symbol {\n        background: white;\n        padding: 20px;\n        border-radius: 8px;\n        text-align: center;\n        margin: 10px 0;\n        font-family: monospace;\n        font-size: 1.1em;\n        border: 1px solid #ddd;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .examples-box p, .examples-box li {\n        color: #1B5E20;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 15px;\n        margin: 10px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .resistance-units {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n        gap: 15px;\n        margin: 20px 0;\n      }\n      \n      .unit-card {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n      }\n      \n      .unit-card .symbol {\n        font-size: 2em;\n        margin-bottom: 10px;\n      }\n      \n      .unit-card .name {\n        font-size: 1.1em;\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n      \n      .unit-card .definition {\n        font-size: 0.85em;\n        opacity: 0.9;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.4em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .comparison-box {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .series-box {\n        background: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 3px solid #FF6B6B;\n      }\n      \n      .parallel-box {\n        background: linear-gradient(135deg, #E5F3FF 0%, #F0F8FF 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 3px solid #4ECDC4;\n      }\n      \n      .series-box h3, .parallel-box h3 {\n        margin-top: 0;\n        font-size: 1.3em;\n      }\n      \n      .series-box h3 {\n        color: #FF6B6B;\n      }\n      \n      .parallel-box h3 {\n        color: #4ECDC4;\n      }\n      \n      .series-box p, .parallel-box p {\n        margin: 10px 0;\n        font-size: 0.95em;\n      }\n      \n      .resistor-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .resistor-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      @media (max-width: 768px) {\n        .comparison-box {\n          grid-template-columns: 1fr;\n        }\n        \n        .color-grid {\n          grid-template-columns: repeat(5, 1fr);\n        }\n      }\n    </style>\n\n\n    <div class="resistor-lesson">\n      <div class="hero-box">\n        <div class="resistor-icon">\ud83d\uded1</div>\n        <p>Resistors: Components that control current flow and protect your circuits!</p>\n      </div>\n\n\n      <h2>\u26a1 What is a Resistor?</h2>\n      <p>\n        Now that you understand voltage and current, let\'s talk about what <span class="highlight">stops</span> or <span class="highlight">limits</span> current flow. That\'s where resistors come in! A resistor is a component that <strong>opposes the flow of electric current</strong>.\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">A resistor is an electrical component that reduces current flow and dissipates energy, usually as heat. The property of resisting current flow is called <strong>resistance</strong>.</p>\n      </div>\n\n\n      <h2>\ud83d\udca7 Water Pipe Analogy</h2>\n      <p>\n        Think of a water pipe system:\n      </p>\n      <ul>\n        <li><strong>Wide open pipe:</strong> Low resistance = lots of water flows</li>\n        <li><strong>Partially closed pipe:</strong> Medium resistance = some water flows</li>\n        <li><strong>Almost closed pipe:</strong> High resistance = very little water flows</li>\n        <li><strong>Resistor in circuit:</strong> Limits electron flow similar to narrowing a pipe</li>\n      </ul>\n\n\n      <h2>\ud83d\udcca The Unit of Resistance: The Ohm</h2>\n      <p>\n        Resistance is measured in a unit called the <span class="highlight">Ohm (\u03a9)</span>, named after Georg Simon Ohm who discovered Ohm\'s Law. One Ohm is the resistance that allows exactly 1 Ampere of current to flow when 1 Volt is applied.\n      </p>\n      \n      <div class="resistance-units">\n        <div class="unit-card">\n          <div class="symbol">1 \u03a9</div>\n          <div class="name">One Ohm</div>\n          <div class="definition">Very low resistance</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">100 \u03a9</div>\n          <div class="name">100 Ohms</div>\n          <div class="definition">Common resistor value</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">10 k\u03a9</div>\n          <div class="name">10 Kilohms</div>\n          <div class="definition">10,000 Ohms</div>\n        </div>\n        <div class="unit-card">\n          <div class="symbol">1 M\u03a9</div>\n          <div class="name">1 Megaohm</div>\n          <div class="definition">1,000,000 Ohms</div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd27 Types of Resistors</h2>\n      <div class="resistor-types">\n        <div class="resistor-type">\n          <h4>\ud83d\udd0c Fixed Resistors</h4>\n          <p><strong>Resistance value:</strong> Cannot be changed</p>\n          <p><strong>How they work:</strong> Made of carbon film or wirewound material</p>\n          <p><strong>Uses:</strong> Most circuits, protection, LED limiting</p>\n          <p><strong>Symbol:</strong></p>\n          <div class="resistor-symbol">~~~WWW~~~</div>\n          <p><strong>Examples:</strong> 10\u03a9, 100\u03a9, 1k\u03a9, 10k\u03a9</p>\n        </div>\n\n\n        <div class="resistor-type">\n          <h4>\u2699\ufe0f Variable Resistors</h4>\n          <p><strong>Resistance value:</strong> Can be adjusted</p>\n          <p><strong>How they work:</strong> Sliding contact moves along resistive material</p>\n          <p><strong>Uses:</strong> Volume knobs, brightness controls, speed controls</p>\n          <div class="resistor-symbol">Potentiometer</div>\n          <p><strong>Examples:</strong></p>\n          <ul>\n            <li>Potentiometer (volume control)</li>\n            <li>Rheostat (dimmer switch)</li>\n            <li>Trim pot (fine adjustment)</li>\n          </ul>\n        </div>\n\n\n        <div class="resistor-type">\n          <h4>\ud83c\udf21\ufe0f Special Resistors</h4>\n          <p><strong>Resistance value:</strong> Changes with conditions</p>\n          <p><strong>How they work:</strong> React to temperature, light, or other factors</p>\n          <p><strong>Uses:</strong> Sensors, temperature control, light detection</p>\n          <p><strong>Types:</strong></p>\n          <ul>\n            <li><strong>Thermistor:</strong> Changes with temperature</li>\n            <li><strong>LDR (Photoresistor):</strong> Changes with light</li>\n            <li><strong>Varistor:</strong> Changes with voltage</li>\n          </ul>\n        </div>\n      </div>\n\n\n      <h2>\ud83c\udfa8 Reading Resistor Color Codes</h2>\n      <p>\n        Fixed resistors have colored bands that tell you their resistance value. This is called the <span class="highlight">color code</span>.\n      </p>\n      \n      <div class="color-code-box">\n        <h3>\ud83d\udcca Standard Resistor Color Code</h3>\n        <div class="color-grid">\n          <div class="color-band band-black">Black = 0</div>\n          <div class="color-band band-brown">Brown = 1</div>\n          <div class="color-band band-red">Red = 2</div>\n          <div class="color-band band-orange">Orange = 3</div>\n          <div class="color-band band-yellow">Yellow = 4</div>\n          <div class="color-band band-green">Green = 5</div>\n          <div class="color-band band-blue">Blue = 6</div>\n          <div class="color-band band-violet">Violet = 7</div>\n          <div class="color-band band-grey">Grey = 8</div>\n          <div class="color-band band-white">White = 9</div>\n        </div>\n        \n        <div class="info-box" style="margin-top: 25px;">\n          <strong>\ud83d\udcd6 How to Read Resistor Bands:</strong>\n          <ul style="margin-top: 10px; margin-bottom: 0;">\n            <li><strong>Band 1:</strong> First digit</li>\n            <li><strong>Band 2:</strong> Second digit</li>\n            <li><strong>Band 3:</strong> Multiplier (how many zeros to add)</li>\n            <li><strong>Band 4:</strong> Tolerance (accuracy)</li>\n          </ul>\n        </div>\n        \n        <div class="formula-box">\n          <h3>Example: Brown-Black-Red</h3>\n          <div class="formula-explain" style="text-align: left; background: white; padding: 15px; border-radius: 8px;">\n            <p>\ud83d\udfe4 Brown = 1</p>\n            <p>\u26ab Black = 0</p>\n            <p>\ud83d\udd34 Red = \xd7100 (multiplier)</p>\n            <p style="margin-top: 15px; color: #667eea; font-weight: bold;">Result: 10 \xd7 100 = 1000\u03a9 (1 k\u03a9)</p>\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd0c How Resistors Work in Circuits</h2>\n      <div class="comparison-box">\n        <div class="series-box">\n          <h3>\u26d3\ufe0f Series Connection</h3>\n          <p><strong>Formula:</strong> R_total = R\u2081 + R\u2082 + R\u2083</p>\n          <p><strong>Total resistance:</strong> Increases</p>\n          <p><strong>Example:</strong></p>\n          <p>10\u03a9 + 20\u03a9 + 30\u03a9 = 60\u03a9 total</p>\n          <p style="color: #FF6B6B;"><strong>\u26a0\ufe0f More resistance = Less current</strong></p>\n        </div>\n\n\n        <div class="parallel-box">\n          <h3>\ud83d\udd00 Parallel Connection</h3>\n          <p><strong>Formula:</strong> 1/R_total = 1/R\u2081 + 1/R\u2082 + 1/R\u2083</p>\n          <p><strong>Total resistance:</strong> Decreases</p>\n          <p><strong>Example:</strong></p>\n          <p>1/R = 1/10 + 1/20 = 0.15</p>\n          <p style="color: #4ECDC4;"><strong>\u2713 Less resistance = More current</strong></p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udca1 Real-Life Examples of Resistors</h2>\n      <div class="examples-box">\n        <h3>\ud83d\udd0c Where Resistors Are Used</h3>\n        <div class="example-item">\n          <strong>LED Protection:</strong> 220\u03a9 resistor limits current to protect LED from burning out\n        </div>\n        <div class="example-item">\n          <strong>Volume Control:</strong> Potentiometer (variable resistor) adjusts speaker volume\n        </div>\n        <div class="example-item">\n          <strong>Light Bulb:</strong> Tungsten filament has resistance and produces heat/light\n        </div>\n        <div class="example-item">\n          <strong>Heating Element:</strong> Nichrome wire has high resistance, generates heat\n        </div>\n        <div class="example-item">\n          <strong>Temperature Sensor:</strong> Thermistor changes resistance with temperature\n        </div>\n        <div class="example-item">\n          <strong>Light Sensor:</strong> Photoresistor changes resistance with light level\n        </div>\n      </div>\n\n\n      <h2>\u26a1 Why Resistors Are Important</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udee1\ufe0f</span>\n          <h4>Circuit Protection</h4>\n          <p>Limit dangerous currents that could damage components</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u2699\ufe0f</span>\n          <h4>Control Flow</h4>\n          <p>Regulate how much current flows through a circuit</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udca1</span>\n          <h4>Functional Purpose</h4>\n          <p>Create useful effects like light, heat, and voltage division</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd27</span>\n          <h4>Fine Tuning</h4>\n          <p>Variable resistors adjust circuits to desired operation</p>\n        </div>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The human body has resistance too! Your skin has about 1,000,000 Ohms of resistance when dry, but drops to 1,000 Ohms when wet. This is why water makes electricity more dangerous!</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What is the unit of resistance?</p>\n        <ul>\n          <li>A) Volt</li>\n          <li>B) Ampere</li>\n          <li>C) Ohm \ud83d\uded1</li>\n          <li>D) Watt</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - Ohm (\u03a9)!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> What do resistors do?</p>\n        <ul>\n          <li>A) Create voltage</li>\n          <li>B) Oppose current flow \ud83d\uded1</li>\n          <li>C) Store energy</li>\n          <li>D) Amplify signals</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Oppose current flow!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If resistors are connected in series, what happens to total resistance?</p>\n        <ul>\n          <li>A) Decreases</li>\n          <li>B) Increases \u26d3\ufe0f</li>\n          <li>C) Stays same</li>\n          <li>D) Becomes zero</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Total resistance increases!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> A resistor with bands Brown-Black-Orange has what resistance value?</p>\n        <ul>\n          <li>A) 100\u03a9</li>\n          <li>B) 1,000\u03a9 (1k\u03a9)</li>\n          <li>C) 10,000\u03a9 (10k\u03a9) \ud83c\udfa8</li>\n          <li>D) 100,000\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - 10 \xd7 1000 = 10k\u03a9!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What is the unit of resistance?",options:["Volt","Ampere","Ohm","Watt"],answer:2},{q:"What do resistors do?",options:["Create voltage","Oppose current flow","Store energy","Amplify signals"],answer:1},{q:"In series connection, what happens to total resistance?",options:["Decreases","Increases","Stays same","Becomes zero"],answer:1},{q:"Brown-Black-Orange band resistor value is?",options:["100\u03a9","1k\u03a9","10k\u03a9","100k\u03a9"],answer:2}],tools:[{name:"Resistance Calculator (Series & Parallel)",type:"calculator",description:"Calculate combined resistance for series and parallel circuits",fields:[{label:"Resistor 1 (\u03a9)",key:"r1",placeholder:"Enter R1 value"},{label:"Resistor 2 (\u03a9)",key:"r2",placeholder:"Enter R2 value"},{label:"Circuit Type (1=series, 0=parallel)",key:"type",placeholder:"1 or 0"}],calculate:e=>{if(!e.r1||!e.r2)return null;const n=parseFloat(e.r1),t=parseFloat(e.r2),r=parseInt(e.type)||1;if(n<=0||t<=0)return"Error: Resistance must be positive";if(1===r){return"".concat((n+t).toFixed(4),"\u03a9 (Series)")}return"".concat((1/(1/n+1/t)).toFixed(4),"\u03a9 (Parallel)")},unit:"Ohms (\u03a9)"},{name:"Resistor Color Code Decoder",type:"calculator",description:"Decode resistor color bands to find resistance value",fields:[{label:"First Band (1-9)",key:"band1",placeholder:"1-9"},{label:"Second Band (0-9)",key:"band2",placeholder:"0-9"},{label:"Multiplier Band (0-9)",key:"multiplier",placeholder:"Multiplier (0=1, 1=10, 2=100, etc)"}],calculate:e=>{if(!e.band1||""===e.band2||!e.multiplier)return null;const n=parseInt(e.band1),t=parseInt(e.band2),r=parseInt(e.multiplier);if(n<1||n>9)return"Error: First band must be 1-9";if(t<0||t>9)return"Error: Second band must be 0-9";const i=(10*n+t)*Math.pow(10,r);return i>=1e6?"".concat((i/1e6).toFixed(2)," M\u03a9"):i>=1e3?"".concat((i/1e3).toFixed(2)," k\u03a9"):"".concat(i.toFixed(0),"\u03a9")},unit:"Ohms (\u03a9)"}]},Ov,{title:"Series Circuits",content:'\n    <style>\n      .series-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .series-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .series-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .series-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .series-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: series-flow 2s infinite;\n      }\n      \n      @keyframes series-flow {\n        0%, 100% { transform: translateX(0); opacity: 1; }\n        50% { transform: translateX(15px); opacity: 0.8; }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .circuit-diagram {\n        background: white;\n        border: 2px solid #667eea;\n        padding: 20px;\n        border-radius: 10px;\n        margin: 25px 0;\n        text-align: center;\n        font-family: monospace;\n        font-size: 1.1em;\n        color: #333;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.4em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain {\n        text-align: left;\n        margin-top: 15px;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain p {\n        margin: 8px 0;\n      }\n      \n      .characteristics-box {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin: 25px 0;\n      }\n      \n      .characteristic {\n        background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n      }\n      \n      .characteristic .title {\n        font-weight: bold;\n        font-size: 1.1em;\n        margin-bottom: 10px;\n      }\n      \n      .characteristic .value {\n        font-size: 1.3em;\n        margin: 10px 0;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 25px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 20px;\n        margin: 15px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .example-calculation {\n        background: #f0f0f0;\n        padding: 15px;\n        border-radius: 8px;\n        font-family: monospace;\n        margin: 10px 0;\n        color: #333;\n      }\n      \n      .comparison-box {\n        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #667eea;\n      }\n      \n      .comparison-box h3 {\n        color: #667eea;\n        margin-top: 0;\n      }\n      \n      .comparison-item {\n        background: white;\n        padding: 15px;\n        margin: 10px 0;\n        border-radius: 8px;\n        border-left: 4px solid #667eea;\n      }\n      \n      .comparison-item strong {\n        color: #667eea;\n      }\n      \n      .advantages-box {\n        background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #4CAF50;\n      }\n      \n      .advantages-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .advantages-box p, .advantages-box li {\n        color: #1B5E20;\n      }\n      \n      .disadvantages-box {\n        background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #F44336;\n      }\n      \n      .disadvantages-box h3 {\n        color: #C62828;\n        margin-top: 0;\n      }\n      \n      .disadvantages-box p, .disadvantages-box li {\n        color: #B71C1C;\n      }\n      \n      .series-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .series-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      .visual-summary {\n        background: white;\n        border: 2px solid #667eea;\n        padding: 20px;\n        border-radius: 10px;\n        margin: 25px 0;\n      }\n      \n      @media (max-width: 768px) {\n        .characteristics-box {\n          grid-template-columns: 1fr;\n        }\n      }\n    </style>\n\n\n    <div class="series-lesson">\n      <div class="hero-box">\n        <div class="series-icon">\u26d3\ufe0f</div>\n        <p>Series Circuits: One path for current, components affect each other!</p>\n      </div>\n\n\n      <h2>\u26d3\ufe0f What is a Series Circuit?</h2>\n      <p>\n        A <span class="highlight">series circuit</span> is the simplest type of circuit where all components are connected in a <strong>single continuous path</strong>. The current flows from the battery through each component one after another, and returns to the battery.\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">In a series circuit, all components are connected in a single loop. If any component breaks or is removed, the entire circuit stops working. There is only ONE path for current to flow.</p>\n      </div>\n\n\n      <h2>\ud83d\udd17 Series Circuit Diagram</h2>\n      <div class="circuit-diagram">\n        Battery (+) \u2192 R1 \u2192 R2 \u2192 R3 \u2192 Battery (\u2212)<br>\n        <br>\n        Current flows in ONE continuous loop\n      </div>\n\n\n      <h2>\u26a1 Key Characteristics of Series Circuits</h2>\n      <div class="characteristics-box">\n        <div class="characteristic">\n          <div class="title">\ud83d\udd34 Current</div>\n          <div class="value">Same Everywhere</div>\n          <p>I\u2081 = I\u2082 = I\u2083 = I_total</p>\n        </div>\n        <div class="characteristic">\n          <div class="title">\ud83d\udfe1 Voltage</div>\n          <div class="value">Divides</div>\n          <p>V_total = V\u2081 + V\u2082 + V\u2083</p>\n        </div>\n        <div class="characteristic">\n          <div class="title">\ud83d\udfe2 Resistance</div>\n          <div class="value">Adds Up</div>\n          <p>R_total = R\u2081 + R\u2082 + R\u2083</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udcca Series Circuit Formulas</h2>\n      <div class="formula-box">\n        <h3>Total Resistance</h3>\n        <div class="formula">R_total = R\u2081 + R\u2082 + R\u2083 + ...</div>\n        <div class="formula-explain">\n          <p><strong>Translation:</strong> Resistances just add together</p>\n          <p><strong>Example:</strong> 10\u03a9 + 20\u03a9 + 30\u03a9 = 60\u03a9 total</p>\n          <p style="color: #667eea;"><strong>\u26a0\ufe0f Important:</strong> Total resistance is ALWAYS greater than any individual resistor!</p>\n        </div>\n      </div>\n\n\n      <div class="formula-box">\n        <h3>Total Voltage (Voltage Drop)</h3>\n        <div class="formula">V_total = V\u2081 + V\u2082 + V\u2083 + ...</div>\n        <div class="formula-explain">\n          <p><strong>Translation:</strong> Voltages add up around the circuit</p>\n          <p><strong>Example:</strong> 5V + 7V + 8V = 20V (battery voltage)</p>\n          <p style="color: #667eea;"><strong>Kirchhoff\'s Voltage Law:</strong> Sum of all voltage drops equals supply voltage</p>\n        </div>\n      </div>\n\n\n      <div class="formula-box">\n        <h3>Current (Same Throughout)</h3>\n        <div class="formula">I = V_total / R_total</div>\n        <div class="formula-explain">\n          <p><strong>Translation:</strong> There is only ONE current in series circuit</p>\n          <p><strong>Example:</strong> 12V \xf7 40\u03a9 = 0.3A</p>\n          <p style="color: #667eea;"><strong>\u26a0\ufe0f Important:</strong> Same current flows through every component!</p>\n        </div>\n      </div>\n\n\n      <h2>\u2705 Real-World Examples of Series Circuits</h2>\n      <div class="examples-box">\n        <h3>\ud83d\udd0c Series Circuit Examples</h3>\n        <div class="example-item">\n          <p><strong>Christmas Lights (Old Style):</strong> If one bulb burns out, entire string goes dark!</p>\n        </div>\n        <div class="example-item">\n          <p><strong>Flashlight:</strong> Battery \u2192 Switch \u2192 Bulb \u2192 Back to battery (all in one path)</p>\n        </div>\n        <div class="example-item">\n          <p><strong>Simple LED Circuit:</strong> Battery \u2192 Resistor \u2192 LED \u2192 Back to battery</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83e\uddee Practical Example: Series Circuit Analysis</h2>\n      <div class="examples-box">\n        <h3>\u2713 Complete Example</h3>\n        <div class="example-item">\n          <p><strong>Question:</strong> A 12V battery is connected to three resistors in series: 10\u03a9, 20\u03a9, and 30\u03a9. Find total resistance, current, and voltage drops.</p>\n          \n          <div class="example-calculation">\n            <strong>Step 1: Find Total Resistance</strong><br>\n            R_total = R\u2081 + R\u2082 + R\u2083<br>\n            R_total = 10 + 20 + 30 = <strong>60\u03a9</strong>\n          </div>\n          \n          <div class="example-calculation">\n            <strong>Step 2: Find Total Current</strong><br>\n            I = V / R<br>\n            I = 12V / 60\u03a9 = <strong>0.2A</strong><br>\n            (This is the SAME current through all resistors!)\n          </div>\n          \n          <div class="example-calculation">\n            <strong>Step 3: Find Voltage Drops</strong><br>\n            V\u2081 = I \xd7 R\u2081 = 0.2A \xd7 10\u03a9 = <strong>2V</strong><br>\n            V\u2082 = I \xd7 R\u2082 = 0.2A \xd7 20\u03a9 = <strong>4V</strong><br>\n            V\u2083 = I \xd7 R\u2083 = 0.2A \xd7 30\u03a9 = <strong>6V</strong><br>\n            Total = 2 + 4 + 6 = <strong>12V \u2713</strong> (equals battery voltage!)\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\u2705 Advantages of Series Circuits</h2>\n      <div class="advantages-box">\n        <h3>Pros</h3>\n        <ul>\n          <li>\u2713 <strong>Simple to build:</strong> Easy circuit design</li>\n          <li>\u2713 <strong>Uses less wire:</strong> Only one path needed</li>\n          <li>\u2713 <strong>Cheap:</strong> Fewer components needed</li>\n          <li>\u2713 <strong>Easy to understand:</strong> Current same everywhere</li>\n          <li>\u2713 <strong>Good for battery protection:</strong> High resistance limits current</li>\n        </ul>\n      </div>\n\n\n      <h2>\u274c Disadvantages of Series Circuits</h2>\n      <div class="disadvantages-box">\n        <h3>Cons</h3>\n        <ul>\n          <li>\u2717 <strong>One failure breaks all:</strong> If one component fails, entire circuit dies</li>\n          <li>\u2717 <strong>Brightness decreases:</strong> Adding more bulbs makes all bulbs dimmer</li>\n          <li>\u2717 <strong>Voltage divides:</strong> Each component gets less voltage</li>\n          <li>\u2717 <strong>Not practical for homes:</strong> If power dies, whole house goes dark</li>\n          <li>\u2717 <strong>Harder to troubleshoot:</strong> Hard to test individual components</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83d\udd17 How Series Components Interact</h2>\n      <div class="comparison-box">\n        <h3>What Happens When You Add Resistors in Series?</h3>\n        <div class="comparison-item">\n          <strong>\u2713 Total Resistance INCREASES</strong><br>\n          More resistors = More total resistance\n        </div>\n        <div class="comparison-item">\n          <strong>\u2193 Total Current DECREASES</strong><br>\n          Higher resistance = Lower current (I = V/R)\n        </div>\n        <div class="comparison-item">\n          <strong>\ud83d\udca1 Bulbs Get DIMMER</strong><br>\n          Lower current = Less power = Dimmer lights\n        </div>\n        <div class="comparison-item">\n          <strong>\ud83d\udcca Voltage Divides</strong><br>\n          Each resistor "uses up" some voltage\n        </div>\n      </div>\n\n\n      <h2>\u26a1 Real Life: Why Your Christmas Lights Work Differently</h2>\n      <div class="info-box">\n        <strong>\ud83c\udf84 Old Series Christmas Lights:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0;">\n          <li>When ONE bulb burns out \u2192 ENTIRE STRING goes dark</li>\n          <li>Each bulb drops voltage, so later bulbs are dimmer</li>\n          <li>It\'s a single series circuit!</li>\n        </ul>\n      </div>\n      \n      <div class="info-box">\n        <strong>\ud83c\udf84 Modern Parallel Christmas Lights:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0;">\n          <li>When ONE bulb burns out \u2192 other bulbs stay on</li>\n          <li>Each bulb gets full voltage - all equally bright</li>\n          <li>This is parallel connection (next session!)</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83c\udfaf Quick Summary</h2>\n      <div class="visual-summary">\n        <p><strong>Series Circuit Properties:</strong></p>\n        <table style="width: 100%; border-collapse: collapse;">\n          <tr style="background: #667eea; color: white;">\n            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Property</th>\n            <th style="padding: 10px; border: 1px solid #ddd; text-align: left;">Series Circuit</th>\n          </tr>\n          <tr style="background: #f9f9f9;">\n            <td style="padding: 10px; border: 1px solid #ddd;"><strong>Current</strong></td>\n            <td style="padding: 10px; border: 1px solid #ddd;">Same everywhere</td>\n          </tr>\n          <tr>\n            <td style="padding: 10px; border: 1px solid #ddd;"><strong>Voltage</strong></td>\n            <td style="padding: 10px; border: 1px solid #ddd;">Adds up and divides</td>\n          </tr>\n          <tr style="background: #f9f9f9;">\n            <td style="padding: 10px; border: 1px solid #ddd;"><strong>Resistance</strong></td>\n            <td style="padding: 10px; border: 1px solid #ddd;">Adds together</td>\n          </tr>\n          <tr>\n            <td style="padding: 10px; border: 1px solid #ddd;"><strong>If one breaks</strong></td>\n            <td style="padding: 10px; border: 1px solid #ddd;">All stop working</td>\n          </tr>\n          <tr style="background: #f9f9f9;">\n            <td style="padding: 10px; border: 1px solid #ddd;"><strong>Brightness</strong></td>\n            <td style="padding: 10px; border: 1px solid #ddd;">Gets dimmer when adding bulbs</td>\n          </tr>\n        </table>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Series circuits are why old Christmas light strings would go completely dark when one bulb burned out. People had to find the bad bulb by testing each one! Modern lights use parallel circuits, so one bad bulb doesn\'t ruin the whole string.</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> In a series circuit, what is the same everywhere?</p>\n        <ul>\n          <li>A) Voltage</li>\n          <li>B) Current \u26d3\ufe0f</li>\n          <li>C) Resistance</li>\n          <li>D) Power</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Current is the same throughout!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> How do resistances combine in series?</p>\n        <ul>\n          <li>A) They divide</li>\n          <li>B) They multiply</li>\n          <li>C) They add together \u26d3\ufe0f</li>\n          <li>D) They stay the same</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - R_total = R\u2081 + R\u2082 + R\u2083!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If R\u2081 = 10\u03a9, R\u2082 = 20\u03a9, R\u2083 = 30\u03a9 in series, what is R_total?</p>\n        <ul>\n          <li>A) 20\u03a9</li>\n          <li>B) 40\u03a9</li>\n          <li>C) 60\u03a9 \u26d3\ufe0f</li>\n          <li>D) 100\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - 10 + 20 + 30 = 60\u03a9!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> What happens if one bulb burns out in a series circuit?</p>\n        <ul>\n          <li>A) Other bulbs stay on</li>\n          <li>B) Entire circuit stops \u26d3\ufe0f</li>\n          <li>C) Brightness increases</li>\n          <li>D) Voltage increases</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Entire circuit stops working!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 5:</strong> In series with 12V battery and R_total = 40\u03a9, what is current?</p>\n        <ul>\n          <li>A) 0.1A</li>\n          <li>B) 0.2A</li>\n          <li>C) 0.3A \u26d3\ufe0f</li>\n          <li>D) 0.4A</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - I = 12V \xf7 40\u03a9 = 0.3A!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"In a series circuit, what is the same everywhere?",options:["Voltage","Current","Resistance","Power"],answer:1},{q:"How do resistances combine in series?",options:["They divide","They multiply","They add together","They stay same"],answer:2},{q:"If R\u2081=10\u03a9, R\u2082=20\u03a9, R\u2083=30\u03a9 in series, what is R_total?",options:["20\u03a9","40\u03a9","60\u03a9","100\u03a9"],answer:2},{q:"What happens if one bulb burns out in series?",options:["Others stay on","Entire circuit stops","Brightness increases","Voltage increases"],answer:1},{q:"With 12V battery and R_total=40\u03a9, what is current?",options:["0.1A","0.2A","0.3A","0.4A"],answer:2}],tools:[{name:"Series Circuit Analyzer",type:"calculator",description:"Analyze series circuits with multiple resistors",fields:[{label:"Battery Voltage (V)",key:"voltage",placeholder:"Enter voltage (e.g., 12)"},{label:"Resistor 1 (\u03a9)",key:"r1",placeholder:"Enter R1 value"},{label:"Resistor 2 (\u03a9)",key:"r2",placeholder:"Enter R2 value"},{label:"Resistor 3 (\u03a9)",key:"r3",placeholder:"Enter R3 value (optional)"}],calculate:e=>{if(!e.voltage||!e.r1||!e.r2)return null;const n=parseFloat(e.voltage),t=parseFloat(e.r1),r=parseFloat(e.r2),i=e.r3?parseFloat(e.r3):0;if(n<=0||t<=0||r<=0||e.r3&&i<=0)return"Error: Values must be positive";const o=t+r+(i>0?i:0),s=n/o,a=s*t,l=s*r,c=i>0?s*i:0;let d="<strong>Total Resistance:</strong> ".concat(o.toFixed(2),"\u03a9<br>");return d+="<strong>Current (same everywhere):</strong> ".concat(s.toFixed(4),"A<br>"),d+="<strong>Voltage across R1:</strong> ".concat(a.toFixed(2),"V<br>"),d+="<strong>Voltage across R2:</strong> ".concat(l.toFixed(2),"V<br>"),i>0&&(d+="<strong>Voltage across R3:</strong> ".concat(c.toFixed(2),"V<br>")),d+="<strong>Total voltage check:</strong> ".concat((a+l+c).toFixed(2),"V"),d},unit:"Mixed"},{name:"Series Voltage Divider Calculator",type:"calculator",description:"Calculate voltage division across resistors",fields:[{label:"Total Voltage (V)",key:"totalVoltage",placeholder:"Enter total voltage"},{label:"Resistor 1 (\u03a9)",key:"r1",placeholder:"Enter R1"},{label:"Resistor 2 (\u03a9)",key:"r2",placeholder:"Enter R2"}],calculate:e=>{if(!e.totalVoltage||!e.r1||!e.r2)return null;const n=parseFloat(e.totalVoltage),t=parseFloat(e.r1),r=parseFloat(e.r2);if(n<=0||t<=0||r<=0)return"Error: Values must be positive";const i=t+r,o=n*(t/i),s=n*(r/i);return"Voltage across R1: ".concat(o.toFixed(2),"V<br>Voltage across R2: ").concat(s.toFixed(2),"V<br>Total: ").concat((o+s).toFixed(2),"V")},unit:"Volts (V)"}]},{title:"Parallel Circuits",content:'\n    <style>\n      .parallel-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .parallel-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .parallel-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .parallel-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .parallel-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: parallel-spread 2s infinite;\n      }\n      \n      @keyframes parallel-spread {\n        0%, 100% { transform: scaleX(1); opacity: 1; }\n        50% { transform: scaleX(1.2); opacity: 0.9; }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .circuit-diagram {\n        background: white;\n        border: 2px solid #667eea;\n        padding: 20px;\n        border-radius: 10px;\n        margin: 25px 0;\n        text-align: center;\n        font-family: monospace;\n        font-size: 1em;\n        color: #333;\n        line-height: 1.8;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.4em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain {\n        text-align: left;\n        margin-top: 15px;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain p {\n        margin: 8px 0;\n      }\n      \n      .characteristics-box {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin: 25px 0;\n      }\n      \n      .characteristic {\n        background: linear-gradient(135deg, #4ECDC4 0%, #44A5AA 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n      }\n      \n      .characteristic .title {\n        font-weight: bold;\n        font-size: 1.1em;\n        margin-bottom: 10px;\n      }\n      \n      .characteristic .value {\n        font-size: 1.3em;\n        margin: 10px 0;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 25px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 20px;\n        margin: 15px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .example-calculation {\n        background: #f0f0f0;\n        padding: 15px;\n        border-radius: 8px;\n        font-family: monospace;\n        margin: 10px 0;\n        color: #333;\n      }\n      \n      .comparison-grid {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .series-column {\n        background: linear-gradient(135deg, #FFE5E5 0%, #FFF0F0 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #FF6B6B;\n      }\n      \n      .parallel-column {\n        background: linear-gradient(135deg, #E5F3FF 0%, #F0F8FF 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #4ECDC4;\n      }\n      \n      .series-column h3 {\n        color: #FF6B6B;\n        margin-top: 0;\n      }\n      \n      .parallel-column h3 {\n        color: #4ECDC4;\n        margin-top: 0;\n      }\n      \n      .comparison-item {\n        background: white;\n        padding: 12px;\n        margin: 10px 0;\n        border-radius: 8px;\n        border-left: 4px solid;\n      }\n      \n      .series-column .comparison-item {\n        border-left-color: #FF6B6B;\n      }\n      \n      .parallel-column .comparison-item {\n        border-left-color: #4ECDC4;\n      }\n      \n      .advantages-box {\n        background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #4CAF50;\n      }\n      \n      .advantages-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .advantages-box p, .advantages-box li {\n        color: #1B5E20;\n      }\n      \n      .real-world-box {\n        background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #FF9800;\n      }\n      \n      .real-world-box h3 {\n        color: #E65100;\n        margin-top: 0;\n      }\n      \n      .real-world-box p, .real-world-box li {\n        color: #BF360C;\n      }\n      \n      .parallel-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .parallel-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      .visual-summary {\n        background: white;\n        border: 2px solid #667eea;\n        padding: 20px;\n        border-radius: 10px;\n        margin: 25px 0;\n        overflow-x: auto;\n      }\n      \n      @media (max-width: 768px) {\n        .comparison-grid {\n          grid-template-columns: 1fr;\n        }\n        \n        .characteristics-box {\n          grid-template-columns: 1fr;\n        }\n      }\n    </style>\n\n\n    <div class="parallel-lesson">\n      <div class="hero-box">\n        <div class="parallel-icon">\ud83d\udd00</div>\n        <p>Parallel Circuits: Multiple paths for current, independent components!</p>\n      </div>\n\n\n      <h2>\ud83d\udd00 What is a Parallel Circuit?</h2>\n      <p>\n        A <span class="highlight">parallel circuit</span> is a circuit where all components are connected in <strong>multiple separate paths</strong> between the same two points. Each component has its own complete path from the positive terminal to the negative terminal of the power source.\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">In a parallel circuit, all components are connected across the same voltage source. If one component fails or is removed, the others continue to work. There are MANY paths for current to flow.</p>\n      </div>\n\n\n      <h2>\ud83d\udd00 Parallel Circuit Diagram</h2>\n      <div class="circuit-diagram">\n        \u250c\u2500\u2500\u2500 R1 \u2500\u2500\u2500\u2510<br>\n        Battery \u2524\u2500\u2500\u2500 R2 \u2500\u2500\u2500\u2524 Battery<br>\n        \u250c\u2500\u2500\u2500 R3 \u2500\u2500\u2500\u2510<br>\n        <br>\n        Each resistor gets its own path from + to \u2212\n      </div>\n\n\n      <h2>\u26a1 Key Characteristics of Parallel Circuits</h2>\n      <div class="characteristics-box">\n        <div class="characteristic">\n          <div class="title">\ud83d\udd34 Voltage</div>\n          <div class="value">Same Everywhere</div>\n          <p>V\u2081 = V\u2082 = V\u2083 = V_supply</p>\n        </div>\n        <div class="characteristic">\n          <div class="title">\ud83d\udfe1 Current</div>\n          <div class="value">Adds Up</div>\n          <p>I_total = I\u2081 + I\u2082 + I\u2083</p>\n        </div>\n        <div class="characteristic">\n          <div class="title">\ud83d\udfe2 Resistance</div>\n          <div class="value">Decreases</div>\n          <p>1/R_t = 1/R\u2081 + 1/R\u2082 + 1/R\u2083</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udcca Parallel Circuit Formulas</h2>\n      <div class="formula-box">\n        <h3>Total Resistance (Reciprocal Formula)</h3>\n        <div class="formula">1/R_total = 1/R\u2081 + 1/R\u2082 + 1/R\u2083 + ...</div>\n        <div class="formula-explain">\n          <p><strong>Or rearranged:</strong> R_total = 1 / (1/R\u2081 + 1/R\u2082 + 1/R\u2083 + ...)</p>\n          <p><strong>Translation:</strong> Take reciprocal of each resistor, add them, then take reciprocal again</p>\n          <p><strong>Example:</strong> If R\u2081 = 6\u03a9 and R\u2082 = 3\u03a9</p>\n          <p>1/R = 1/6 + 1/3 = 1/6 + 2/6 = 3/6 = 1/2</p>\n          <p style="color: #667eea;"><strong>R_total = 2\u03a9</strong></p>\n          <p style="color: #667eea;"><strong>\u26a0\ufe0f Important:</strong> Total resistance is ALWAYS less than the smallest individual resistor!</p>\n        </div>\n      </div>\n\n\n      <div class="formula-box">\n        <h3>Voltage (Same Throughout)</h3>\n        <div class="formula">V\u2081 = V\u2082 = V\u2083 = V_supply</div>\n        <div class="formula-explain">\n          <p><strong>Translation:</strong> All components see the FULL supply voltage</p>\n          <p><strong>Example:</strong> In a 12V parallel circuit, each component gets 12V</p>\n          <p style="color: #667eea;"><strong>\u2713 This is why lights stay equally bright!</strong></p>\n        </div>\n      </div>\n\n\n      <div class="formula-box">\n        <h3>Current (Adds Up)</h3>\n        <div class="formula">I_total = I\u2081 + I\u2082 + I\u2083 + ...</div>\n        <div class="formula-explain">\n          <p><strong>Each branch current:</strong> I = V / R</p>\n          <p><strong>Translation:</strong> Total current is the sum of all branch currents</p>\n          <p><strong>Example:</strong> I\u2081 = 2A, I\u2082 = 3A, I\u2083 = 1A</p>\n          <p style="color: #667eea;"><strong>I_total = 2 + 3 + 1 = 6A</strong></p>\n        </div>\n      </div>\n\n\n      <h2>\u2705 Real-World Examples of Parallel Circuits</h2>\n      <div class="examples-box">\n        <h3>\ud83c\udfe0 Parallel Circuit Examples</h3>\n        <div class="example-item">\n          <p><strong>Home Electrical Wiring:</strong> Every outlet in your house is in parallel! If one device stops working, others keep running.</p>\n        </div>\n        <div class="example-item">\n          <p><strong>Modern Christmas Lights:</strong> If one bulb burns out, the string keeps working because bulbs are in parallel</p>\n        </div>\n        <div class="example-item">\n          <p><strong>Car Electrical System:</strong> Headlights, wipers, radio are all in parallel, independent operation</p>\n        </div>\n        <div class="example-item">\n          <p><strong>Power Strip:</strong> All outlets deliver full voltage, multiple devices work independently</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83e\uddee Practical Example: Parallel Circuit Analysis</h2>\n      <div class="examples-box">\n        <h3>\u2713 Complete Example</h3>\n        <div class="example-item">\n          <p><strong>Question:</strong> A 12V battery is connected to two resistors in parallel: 6\u03a9 and 3\u03a9. Find total resistance, total current, and branch currents.</p>\n          \n          <div class="example-calculation">\n            <strong>Step 1: Find Total Resistance</strong><br>\n            1/R_total = 1/R\u2081 + 1/R\u2082<br>\n            1/R_total = 1/6 + 1/3<br>\n            1/R_total = 1/6 + 2/6 = 3/6 = 0.5<br>\n            <strong>R_total = 2\u03a9</strong>\n          </div>\n          \n          <div class="example-calculation">\n            <strong>Step 2: Find Total Current</strong><br>\n            I_total = V / R_total<br>\n            I_total = 12V / 2\u03a9<br>\n            <strong>I_total = 6A</strong>\n          </div>\n          \n          <div class="example-calculation">\n            <strong>Step 3: Find Branch Currents</strong><br>\n            (Voltage is 12V across both)<br>\n            I\u2081 = V / R\u2081 = 12V / 6\u03a9 = <strong>2A</strong><br>\n            I\u2082 = V / R\u2082 = 12V / 3\u03a9 = <strong>4A</strong><br>\n            Total = 2A + 4A = <strong>6A \u2713</strong> (checks out!)\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\u2699\ufe0f Series vs Parallel Comparison</h2>\n      <div class="comparison-grid">\n        <div class="series-column">\n          <h3>\u26d3\ufe0f Series Circuit</h3>\n          <div class="comparison-item">\n            <strong>Voltage:</strong> Divides among components\n          </div>\n          <div class="comparison-item">\n            <strong>Current:</strong> Same everywhere\n          </div>\n          <div class="comparison-item">\n            <strong>Resistance:</strong> Adds up \u2192 Increases\n          </div>\n          <div class="comparison-item">\n            <strong>One breaks:</strong> All stop\n          </div>\n          <div class="comparison-item">\n            <strong>Brightness:</strong> Gets dimmer with more bulbs\n          </div>\n          <div class="comparison-item">\n            <strong>Use:</strong> Simple toys, old lights\n          </div>\n        </div>\n        \n        <div class="parallel-column">\n          <h3>\ud83d\udd00 Parallel Circuit</h3>\n          <div class="comparison-item">\n            <strong>Voltage:</strong> Same at all components\n          </div>\n          <div class="comparison-item">\n            <strong>Current:</strong> Adds up from branches\n          </div>\n          <div class="comparison-item">\n            <strong>Resistance:</strong> Decreases (reciprocal)\n          </div>\n          <div class="comparison-item">\n            <strong>One breaks:</strong> Others keep working\n          </div>\n          <div class="comparison-item">\n            <strong>Brightness:</strong> Stays same (full voltage)\n          </div>\n          <div class="comparison-item">\n            <strong>Use:</strong> Homes, cars, modern devices\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\u2705 Advantages of Parallel Circuits</h2>\n      <div class="advantages-box">\n        <h3>\u2713 Why We Use Parallel in Homes & Cars</h3>\n        <ul>\n          <li>\u2713 <strong>Independent operation:</strong> Each device works independently</li>\n          <li>\u2713 <strong>One failure doesn\'t break all:</strong> If one device fails, others keep working</li>\n          <li>\u2713 <strong>Same voltage everywhere:</strong> All components get full voltage</li>\n          <li>\u2713 <strong>Brightness stays constant:</strong> Adding bulbs doesn\'t dim existing ones</li>\n          <li>\u2713 <strong>More current available:</strong> Total current increases with more branches</li>\n          <li>\u2713 <strong>Easy to add/remove devices:</strong> Just plug in or unplug</li>\n          <li>\u2713 <strong>Perfect for homes:</strong> Every outlet gets 120V (or 240V)</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83c\udfe0 Real-Life: Your Home\'s Electrical System</h2>\n      <div class="real-world-box">\n        <h3>\ud83d\udd0c Home Wiring is Parallel!</h3>\n        <ul style="margin: 15px 0 0 20px;">\n          <li><strong>Every outlet:</strong> Connected in parallel to main power</li>\n          <li><strong>Each outlet provides:</strong> Full voltage (120V or 240V)</li>\n          <li><strong>You can plug in:</strong> Multiple devices at same time</li>\n          <li><strong>If one fails:</strong> Others keep working</li>\n          <li><strong>Your fuse/circuit breaker:</strong> Handles TOTAL current from all devices</li>\n          <li><strong>Too many devices:</strong> Draws too much current, breaker trips</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83c\udfaf Quick Summary Table</h2>\n      <div class="visual-summary">\n        <table style="width: 100%; border-collapse: collapse;">\n          <tr style="background: #667eea; color: white;">\n            <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Property</th>\n            <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Parallel Circuit</th>\n          </tr>\n          <tr style="background: #f9f9f9;">\n            <td style="padding: 12px; border: 1px solid #ddd;"><strong>Voltage</strong></td>\n            <td style="padding: 12px; border: 1px solid #ddd;">Same at all components</td>\n          </tr>\n          <tr>\n            <td style="padding: 12px; border: 1px solid #ddd;"><strong>Current</strong></td>\n            <td style="padding: 12px; border: 1px solid #ddd;">Adds together from branches</td>\n          </tr>\n          <tr style="background: #f9f9f9;">\n            <td style="padding: 12px; border: 1px solid #ddd;"><strong>Resistance</strong></td>\n            <td style="padding: 12px; border: 1px solid #ddd;">Less than smallest resistor</td>\n          </tr>\n          <tr>\n            <td style="padding: 12px; border: 1px solid #ddd;"><strong>If one breaks</strong></td>\n            <td style="padding: 12px; border: 1px solid #ddd;">Others keep working</td>\n          </tr>\n          <tr style="background: #f9f9f9;">\n            <td style="padding: 12px; border: 1px solid #ddd;"><strong>Formula</strong></td>\n            <td style="padding: 12px; border: 1px solid #ddd;">1/R_t = 1/R\u2081 + 1/R\u2082</td>\n          </tr>\n        </table>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Your home uses parallel circuits because if they were series, turning off one light would turn off everything in your house! Parallel circuits are why modern life works\u2014independence and reliability!</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> In a parallel circuit, what is the same everywhere?</p>\n        <ul>\n          <li>A) Voltage \ud83d\udd00</li>\n          <li>B) Current</li>\n          <li>C) Resistance</li>\n          <li>D) Power</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - Voltage is the same everywhere!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> How do currents combine in parallel?</p>\n        <ul>\n          <li>A) They divide</li>\n          <li>B) They multiply</li>\n          <li>C) They add together \ud83d\udd00</li>\n          <li>D) They stay the same</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - I_total = I\u2081 + I\u2082 + I\u2083!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> If R\u2081 = 6\u03a9 and R\u2082 = 3\u03a9 in parallel, what is R_total?</p>\n        <ul>\n          <li>A) 9\u03a9</li>\n          <li>B) 2\u03a9 \ud83d\udd00</li>\n          <li>C) 4.5\u03a9</li>\n          <li>D) 18\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - 1/R = 1/6 + 1/3 = 0.5, so R = 2\u03a9!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> What happens if one bulb burns out in parallel?</p>\n        <ul>\n          <li>A) Other bulbs turn off</li>\n          <li>B) Other bulbs stay on \ud83d\udd00</li>\n          <li>C) Brightness increases</li>\n          <li>D) Voltage increases</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Other bulbs keep working!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 5:</strong> Which circuit type is used in home wiring?</p>\n        <ul>\n          <li>A) Series only</li>\n          <li>B) Parallel only \ud83d\udd00</li>\n          <li>C) Series and Parallel</li>\n          <li>D) Neither</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Homes use parallel circuits!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"In a parallel circuit, what is the same everywhere?",options:["Voltage","Current","Resistance","Power"],answer:0},{q:"How do currents combine in parallel?",options:["They divide","They multiply","They add together","They stay same"],answer:2},{q:"If R\u2081=6\u03a9 and R\u2082=3\u03a9 in parallel, what is R_total?",options:["9\u03a9","2\u03a9","4.5\u03a9","18\u03a9"],answer:1},{q:"What happens if one bulb burns out in parallel?",options:["Others turn off","Others stay on","Brightness increases","Voltage increases"],answer:1},{q:"Which circuit is used in home wiring?",options:["Series only","Parallel only","Series and Parallel","Neither"],answer:1}],tools:[{name:"Parallel Circuit Analyzer",type:"calculator",description:"Analyze parallel circuits with multiple resistors",fields:[{label:"Battery Voltage (V)",key:"voltage",placeholder:"Enter voltage (e.g., 12)"},{label:"Resistor 1 (\u03a9)",key:"r1",placeholder:"Enter R1 value"},{label:"Resistor 2 (\u03a9)",key:"r2",placeholder:"Enter R2 value"},{label:"Resistor 3 (\u03a9)",key:"r3",placeholder:"Enter R3 value (optional)"}],calculate:e=>{if(!e.voltage||!e.r1||!e.r2)return null;const n=parseFloat(e.voltage),t=parseFloat(e.r1),r=parseFloat(e.r2),i=e.r3?parseFloat(e.r3):0;if(n<=0||t<=0||r<=0||e.r3&&i<=0)return"Error: Values must be positive";let o=1/t+1/r;i>0&&(o+=1/i);const s=n/t,a=n/r,l=i>0?n/i:0,c=s+a+l;let d="<strong>Total Resistance:</strong> ".concat((1/o).toFixed(4),"\u03a9<br>");return d+="<strong>Voltage (same everywhere):</strong> ".concat(n.toFixed(2),"V<br>"),d+="<strong>Current through R1:</strong> ".concat(s.toFixed(4),"A<br>"),d+="<strong>Current through R2:</strong> ".concat(a.toFixed(4),"A<br>"),i>0&&(d+="<strong>Current through R3:</strong> ".concat(l.toFixed(4),"A<br>")),d+="<strong>Total current:</strong> ".concat(c.toFixed(4),"A"),d},unit:"Mixed"},{name:"Parallel Resistance Calculator",type:"calculator",description:"Calculate combined resistance of parallel resistors",fields:[{label:"Resistor 1 (\u03a9)",key:"r1",placeholder:"Enter R1"},{label:"Resistor 2 (\u03a9)",key:"r2",placeholder:"Enter R2"},{label:"Resistor 3 (\u03a9)",key:"r3",placeholder:"Enter R3 (optional)"}],calculate:e=>{if(!e.r1||!e.r2)return null;const n=parseFloat(e.r1),t=parseFloat(e.r2),r=e.r3?parseFloat(e.r3):0;if(n<=0||t<=0||e.r3&&r<=0)return"Error: Values must be positive";let i=1/n+1/t;r>0&&(i+=1/r);return"Total Parallel Resistance: ".concat((1/i).toFixed(4),"\u03a9<br>(Always less than smallest resistor!)")},unit:"Ohms (\u03a9)"}]},{title:"Measuring Values",content:'\n    <style>\n      .measurement-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .measurement-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .measurement-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .measurement-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .measurement-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: measure-swing 2s infinite;\n      }\n      \n      @keyframes measure-swing {\n        0%, 100% { transform: rotate(0deg) scale(1); }\n        50% { transform: rotate(5deg) scale(1.05); }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .instrument-box {\n        background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #4CAF50;\n      }\n      \n      .instrument-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .instrument-item {\n        background: white;\n        padding: 20px;\n        margin: 15px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .instrument-item strong {\n        color: #2E7D32;\n      }\n      \n      .connection-guide {\n        background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #FF9800;\n      }\n      \n      .connection-guide h3 {\n        color: #E65100;\n        margin-top: 0;\n      }\n      \n      .connection-table {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 15px 0;\n      }\n      \n      .connection-table th, .connection-table td {\n        border: 1px solid #ddd;\n        padding: 12px;\n        text-align: left;\n      }\n      \n      .connection-table th {\n        background-color: #FF9800;\n        color: white;\n        font-weight: bold;\n      }\n      \n      .connection-table tr:nth-child(even) {\n        background-color: #fff8f0;\n      }\n      \n      .dos-donts {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .dos-box {\n        background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #4CAF50;\n      }\n      \n      .donts-box {\n        background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid #F44336;\n      }\n      \n      .dos-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .donts-box h3 {\n        color: #C62828;\n        margin-top: 0;\n      }\n      \n      .dos-box li, .dos-box strong {\n        color: #1B5E20;\n      }\n      \n      .donts-box li, .donts-box strong {\n        color: #B71C1C;\n      }\n      \n      .formula-box {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        text-align: center;\n      }\n      \n      .formula-box h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula {\n        font-size: 1.4em;\n        font-weight: bold;\n        color: #333;\n        margin: 15px 0;\n        font-family: \'Courier New\', monospace;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain {\n        text-align: left;\n        margin-top: 15px;\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n      }\n      \n      .formula-explain p {\n        margin: 8px 0;\n      }\n      \n      .examples-box {\n        background: #E8F5E9;\n        border-left: 5px solid #4CAF50;\n        padding: 25px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .examples-box h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .example-item {\n        background: white;\n        padding: 20px;\n        margin: 15px 0;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .example-item strong {\n        color: #2E7D32;\n      }\n      \n      .example-calculation {\n        background: #f0f0f0;\n        padding: 15px;\n        border-radius: 8px;\n        font-family: monospace;\n        margin: 10px 0;\n        color: #333;\n      }\n      \n      .measurement-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .measurement-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      .warning-box {\n        background: #fff3cd;\n        border-left: 5px solid #ffc107;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .warning-box strong {\n        color: #856404;\n        font-size: 1.1em;\n      }\n      \n      .warning-box p, .warning-box li {\n        color: #856404;\n      }\n      \n      @media (max-width: 768px) {\n        .dos-donts {\n          grid-template-columns: 1fr;\n        }\n        \n        .connection-table {\n          font-size: 0.9em;\n        }\n      }\n    </style>\n\n\n    <div class="measurement-lesson">\n      <div class="hero-box">\n        <div class="measurement-icon">\ud83d\udccf</div>\n        <p>Measuring Values: Use instruments to test and troubleshoot circuits!</p>\n      </div>\n\n\n      <h2>\ud83d\udccf Why Measure Electrical Values?</h2>\n      <p>\n        Understanding circuits is great, but <span class="highlight">measuring actual values</span> is essential for building, testing, and troubleshooting. With the right instruments, you can verify that circuits work correctly and find problems when they don\'t.\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udcd6 Why It Matters:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Measurements tell us if a circuit is working as designed. You might build a circuit that <em>should</em> work mathematically, but actual testing reveals problems. Engineers and technicians measure values constantly!</p>\n      </div>\n\n\n      <h2>\ud83d\udd27 Common Measurement Instruments</h2>\n      <div class="instrument-box">\n        <h3>Essential Tools</h3>\n        \n        <div class="instrument-item">\n          <strong>\u26a1 Multimeter (Most Important!)</strong>\n          <p>A single tool that measures:</p>\n          <ul style="margin: 10px 0 0 20px;">\n            <li><strong>Voltage (V):</strong> AC and DC</li>\n            <li><strong>Current (A):</strong> DC current</li>\n            <li><strong>Resistance (\u03a9):</strong> Ohms</li>\n            <li><strong>Continuity:</strong> Tests if circuit is complete</li>\n          </ul>\n          <p style="margin-top: 10px; color: #2E7D32;"><strong>Cost:</strong> $10-50 for basic models</p>\n        </div>\n        \n        <div class="instrument-item">\n          <strong>\ud83d\udd0b Voltmeter</strong>\n          <p>Measures voltage between two points</p>\n          <ul style="margin: 10px 0 0 20px;">\n            <li><strong>DC Voltmeter:</strong> Measures DC voltage</li>\n            <li><strong>AC Voltmeter:</strong> Measures AC voltage</li>\n            <li><strong>Range:</strong> Usually 0-1000V</li>\n          </ul>\n          <p style="margin-top: 10px; color: #2E7D32;"><strong>Connection:</strong> PARALLEL (across component)</p>\n        </div>\n        \n        <div class="instrument-item">\n          <strong>\ud83d\udd0c Ammeter</strong>\n          <p>Measures current flowing through a circuit</p>\n          <ul style="margin: 10px 0 0 20px;">\n            <li><strong>Direct measurement:</strong> Current must flow through it</li>\n            <li><strong>Range:</strong> Usually in Amperes or milliAmps</li>\n          </ul>\n          <p style="margin-top: 10px; color: #2E7D32;"><strong>Connection:</strong> SERIES (in the current path)</p>\n        </div>\n        \n        <div class="instrument-item">\n          <strong>\ud83d\udcca Ohmmeter</strong>\n          <p>Measures resistance</p>\n          <ul style="margin: 10px 0 0 20px;">\n            <li><strong>Must use UNPOWERED circuit:</strong> Never measure resistance in powered circuit!</li>\n            <li><strong>Range:</strong> From Ohms to Megaohms</li>\n          </ul>\n          <p style="margin-top: 10px; color: #2E7D32;"><strong>Connection:</strong> Across component (PARALLEL)</p>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udd0c How to Connect Measurement Tools</h2>\n      <div class="connection-guide">\n        <h3>Connection Methods</h3>\n        <table class="connection-table">\n          <tr>\n            <th>Measurement</th>\n            <th>Instrument</th>\n            <th>Connection</th>\n            <th>Why</th>\n          </tr>\n          <tr>\n            <td><strong>Voltage</strong></td>\n            <td>Voltmeter</td>\n            <td>PARALLEL (across)</td>\n            <td>Measures potential difference</td>\n          </tr>\n          <tr>\n            <td><strong>Current</strong></td>\n            <td>Ammeter</td>\n            <td>SERIES (in line)</td>\n            <td>Measures flow through it</td>\n          </tr>\n          <tr>\n            <td><strong>Resistance</strong></td>\n            <td>Ohmmeter</td>\n            <td>PARALLEL (disconnected)</td>\n            <td>Measures across component</td>\n          </tr>\n        </table>\n      </div>\n\n\n      <h2>\u2705 Do\'s and \u274c Don\'ts</h2>\n      <div class="dos-donts">\n        <div class="dos-box">\n          <h3>\u2705 DO:</h3>\n          <ul style="margin-left: 20px;">\n            <li>\u2713 Set multimeter to correct range FIRST</li>\n            <li>\u2713 Connect RED probe to positive</li>\n            <li>\u2713 Connect BLACK probe to negative/ground</li>\n            <li>\u2713 Check batteries in multimeter regularly</li>\n            <li>\u2713 Disconnect power before measuring resistance</li>\n            <li>\u2713 Start with highest range for safety</li>\n            <li>\u2713 Read the display carefully</li>\n          </ul>\n        </div>\n        \n        <div class="donts-box">\n          <h3>\u274c DON\'T:</h3>\n          <ul style="margin-left: 20px;">\n            <li>\u2717 Leave multimeter on when done</li>\n            <li>\u2717 Measure resistance in powered circuits</li>\n            <li>\u2717 Connect ammeter incorrectly (creates short)</li>\n            <li>\u2717 Touch probe tips while measuring</li>\n            <li>\u2717 Ignore safety warnings on display</li>\n            <li>\u2717 Measure high voltage carelessly</li>\n            <li>\u2717 Force probes into circuit</li>\n          </ul>\n        </div>\n      </div>\n\n\n      <h2>\u26a0\ufe0f Safety When Measuring</h2>\n      <div class="warning-box">\n        <strong>\ud83d\udea8 Important Safety Rules:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0; margin-left: 20px;">\n          <li><strong>High Voltage Danger:</strong> AC mains (120V or 240V) can be lethal - let professionals handle it</li>\n          <li><strong>Never Backfeed:</strong> Don\'t connect power source to measurement range that expects low voltage</li>\n          <li><strong>Check Probe Condition:</strong> Damaged insulation = danger!</li>\n          <li><strong>Know Your Limits:</strong> If unsure, don\'t measure - ask an expert</li>\n          <li><strong>Current Shocks:</strong> Even small currents (50mA) can cause injury through the heart</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83e\uddee Practical Measurement Examples</h2>\n      <div class="examples-box">\n        <h3>\u2713 Example 1: Measuring Voltage Across LED</h3>\n        <div class="example-item">\n          <p><strong>Goal:</strong> Check if LED is getting correct voltage</p>\n          <p><strong>Steps:</strong></p>\n          <ol style="margin-left: 20px;">\n            <li>Set multimeter to DC Voltage mode (V with straight line)</li>\n            <li>Connect RED probe to LED anode (long leg or +)</li>\n            <li>Connect BLACK probe to LED cathode (short leg or \u2212)</li>\n            <li>Read display: Should show ~2-3V for LED</li>\n            <li>If 0V: LED might be backwards or circuit broken</li>\n          </ol>\n        </div>\n      </div>\n\n\n      <div class="examples-box">\n        <h3>\u2713 Example 2: Measuring Current in Circuit</h3>\n        <div class="example-item">\n          <p><strong>Goal:</strong> Check if LED draws expected current</p>\n          <p><strong>Steps:</strong></p>\n          <ol style="margin-left: 20px;">\n            <li>Set multimeter to DC Current (A or mA)</li>\n            <li>BREAK the circuit at one point</li>\n            <li>Insert ammeter in the gap (RED to +, BLACK to \u2212)</li>\n            <li>Read display: Should show ~10-20mA for LED</li>\n            <li>If 0mA: Circuit is broken somewhere</li>\n            <li>If very high: Something is wrong, check resistor</li>\n          </ol>\n        </div>\n      </div>\n\n\n      <div class="examples-box">\n        <h3>\u2713 Example 3: Measuring Resistance of Component</h3>\n        <div class="example-item">\n          <p><strong>Goal:</strong> Verify resistor value</p>\n          <p><strong>Steps:</strong></p>\n          <ol style="margin-left: 20px;">\n            <li>Set multimeter to Resistance mode (\u03a9)</li>\n            <li>REMOVE resistor from circuit (or power off first)</li>\n            <li>Connect probes to resistor ends</li>\n            <li>Read display: Should match color code value</li>\n            <li>If reading 0: Wire is shorted</li>\n            <li>If reading infinity: Component is open/broken</li>\n          </ol>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udca1 Real-World Troubleshooting with Multimeter</h2>\n      <div class="info-box">\n        <strong>\ud83d\udd0d Troubleshooting Checklist:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0; margin-left: 20px;">\n          <li><strong>Circuit won\'t turn on?</strong> Measure voltage - is power getting there?</li>\n          <li><strong>LED is dim?</strong> Measure current - is it getting enough?</li>\n          <li><strong>Component gets hot?</strong> Measure voltage drop - is resistance correct?</li>\n          <li><strong>Intermittent problems?</strong> Measure continuity - are connections loose?</li>\n          <li><strong>Wrong readings?</strong> Measure across known working circuit to verify multimeter</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83d\udcca LED Protection Calculator</h2>\n      <p>One of the most common uses: calculating the series resistor for LED protection</p>\n      <div class="formula-box">\n        <h3>LED Series Resistor Formula</h3>\n        <div class="formula">R = (V_supply \u2212 V_led) / I_desired</div>\n        <div class="formula-explain">\n          <p><strong>Where:</strong></p>\n          <p>\ud83d\udd39 <strong>R</strong> = Series resistor value (\u03a9)</p>\n          <p>\ud83d\udd39 <strong>V_supply</strong> = Battery voltage</p>\n          <p>\ud83d\udd39 <strong>V_led</strong> = LED forward voltage drop (~2-3V)</p>\n          <p>\ud83d\udd39 <strong>I_desired</strong> = Desired LED current (~10-20mA)</p>\n          <p style="margin-top: 15px; color: #667eea;"><strong>Translation:</strong> "Resistor must drop the remaining voltage at the right current"</p>\n        </div>\n      </div>\n\n\n      <div class="examples-box">\n        <h3>\u2713 LED Protection Example</h3>\n        <div class="example-item">\n          <p><strong>Problem:</strong> You want to light an LED from 5V supply safely</p>\n          \n          <div class="example-calculation">\n            <strong>Given:</strong><br>\n            V_supply = 5V<br>\n            V_led = 2V (typical red LED)<br>\n            I_desired = 15mA (0.015A)\n          </div>\n          \n          <div class="example-calculation">\n            <strong>Calculation:</strong><br>\n            R = (5V \u2212 2V) / 0.015A<br>\n            R = 3V / 0.015A<br>\n            R = 200\u03a9<br>\n            <strong>Use 200\u03a9 resistor (or next closest standard value)</strong>\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\ud83c\udfaf Key Measurement Tips</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcca</span>\n          <h4>Always Check Range</h4>\n          <p>Set multimeter to correct range BEFORE measuring to avoid damage</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd34</span>\n          <h4>Red = Positive</h4>\n          <p>Red probe always goes to positive side of circuit or component</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26ab</span>\n          <h4>Black = Negative</h4>\n          <p>Black probe always goes to negative/ground side</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>Disconnect First</h4>\n          <p>Turn off power before measuring resistance - always!</p>\n        </div>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">A simple $15 digital multimeter can measure voltages from microvolts to thousands of volts, currents from nanoamps to 10 amps, and resistances up to 20 megaohms. These tools are incredibly powerful and essential for any electronics work!</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> How is a voltmeter connected?</p>\n        <ul>\n          <li>A) Series (in line with current)</li>\n          <li>B) Parallel (across component) \ud83d\udccf</li>\n          <li>C) Both ways</li>\n          <li>D) Doesn\'t matter</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Voltmeter connects PARALLEL!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> How is an ammeter connected?</p>\n        <ul>\n          <li>A) Series (in the current path) \ud83d\udccf</li>\n          <li>B) Parallel (across component)</li>\n          <li>C) Both ways</li>\n          <li>D) Floating in air</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - Ammeter connects SERIES!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> When should you measure resistance?</p>\n        <ul>\n          <li>A) While circuit is powered on</li>\n          <li>B) After circuit is powered off \ud83d\udccf</li>\n          <li>C) Doesn\'t matter</li>\n          <li>D) Only in parallel</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Measure resistance when powered OFF!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 4:</strong> What does the red probe connect to?</p>\n        <ul>\n          <li>A) Negative/Ground</li>\n          <li>B) Positive side \ud83d\udccf</li>\n          <li>C) Ground only</li>\n          <li>D) Black probe</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Red probe to positive!</em></p>\n\n\n        <p style="margin-top: 20px;"><strong>Question 5:</strong> If supply is 5V, LED needs 2V, want 15mA, what resistor?</p>\n        <ul>\n          <li>A) 100\u03a9</li>\n          <li>B) 150\u03a9</li>\n          <li>C) 200\u03a9 \ud83d\udccf</li>\n          <li>D) 300\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - R = (5-2)/0.015 = 200\u03a9!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"How is a voltmeter connected?",options:["Series (in line)","Parallel (across)","Both ways","Doesn't matter"],answer:1},{q:"How is an ammeter connected?",options:["Series (in line)","Parallel (across)","Both ways","Floating"],answer:0},{q:"When should you measure resistance?",options:["Circuit powered on","Circuit powered off","Doesn't matter","Only parallel"],answer:1},{q:"What does red probe connect to?",options:["Negative","Positive","Ground only","Black probe"],answer:1},{q:"5V supply, 2V LED, 15mA desired - what resistor?",options:["100\u03a9","150\u03a9","200\u03a9","300\u03a9"],answer:2}],tools:[{name:"LED Series Resistor Calculator",type:"calculator",description:"Calculate resistor value for LED protection with current limiting",fields:[{label:"Supply Voltage (V)",key:"supply",placeholder:"Enter supply voltage (e.g., 5)"},{label:"LED Forward Voltage (V)",key:"ledVoltage",placeholder:"Enter LED Vf (e.g., 2)"},{label:"Desired Current (mA)",key:"current",placeholder:"Enter current (e.g., 15)"}],calculate:e=>{if(!e.supply||!e.ledVoltage||!e.current)return null;const n=parseFloat(e.supply),t=parseFloat(e.ledVoltage),r=parseFloat(e.current);if(n<=0||t<=0||r<=0)return"Error: Values must be positive";if(n<=t)return"Error: Supply voltage must be higher than LED Vf";const i=n-t,o=r/1e3,s=i/o,a=[10,15,22,33,47,68,100,150,220,330,470,680,1e3,1500,2200,3300,4700,6800,1e4];let l=a[0];for(let u of a)Math.abs(u-s)<Math.abs(l-s)&&(l=u);const c=(i*o).toFixed(3),d=c<.125?"1/8W":c<.25?"1/4W":"1/2W";return"<strong>Calculated:</strong> ".concat(s.toFixed(0),"\u03a9<br>\n                <strong>Use standard:</strong> ").concat(l,"\u03a9<br>\n                <strong>Voltage drop:</strong> ").concat(i.toFixed(2),"V<br>\n                <strong>Power dissipation:</strong> ").concat(c,"W (use ").concat(d," resistor)<br>\n                <strong>Actual current:</strong> ").concat((i/l*1e3).toFixed(1),"mA")},unit:"Ohms (\u03a9)"},{name:"Multimeter Range Selector",type:"calculator",description:"Help choose correct multimeter range for different measurements",fields:[{label:"Measurement Type",key:"type",placeholder:"voltage/current/resistance"},{label:"Expected Value",key:"value",placeholder:"Enter expected value"}],calculate:e=>{if(!e.type||!e.value)return null;const n=e.type.toLowerCase().trim(),t=parseFloat(e.value);return n.includes("volt")||n.includes("v")?t<1?"Use: 2V or AUTO range":t<20?"Use: 20V range":t<200?"Use: 200V range":"Use: 500V or 750V range (be careful!)":n.includes("curr")||n.includes("a")||n.includes("i")?t<1?"Use: 20mA or 200mA range":t<10?"Use: 200mA range":"Use: 2A or 10A range":n.includes("resist")||n.includes("\u03c9")||n.includes("r")?t<100?"Use: 200\u03a9 range":t<1e3?"Use: 2k\u03a9 range":t<1e4?"Use: 20k\u03a9 range":t<1e5?"Use: 200k\u03a9 range":"Use: 2M\u03a9 or 20M\u03a9 range":"Unknown measurement type. Use voltage/current/resistance"},unit:"Range Guide"}]},zv,{title:"Course Review & Mastery",content:'\n    <style>\n      .review-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .review-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .review-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .review-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 40px;\n        margin: 30px 0;\n        text-align: center;\n        border: 3px solid #667eea;\n      }\n      \n      .celebration-icon {\n        font-size: 80px;\n        margin-bottom: 15px;\n        animation: celebrate 1s infinite;\n        display: inline-block;\n      }\n      \n      @keyframes celebrate {\n        0%, 100% { transform: scale(1) rotate(0deg); }\n        25% { transform: scale(1.1) rotate(5deg); }\n        50% { transform: scale(1.15) rotate(-5deg); }\n        75% { transform: scale(1.1) rotate(5deg); }\n      }\n      \n      .hero-box h1 {\n        color: #667eea;\n        font-size: 2.2em;\n        margin: 15px 0;\n      }\n      \n      .hero-box p {\n        font-size: 1.25em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .summary-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n        gap: 20px;\n        margin: 30px 0;\n      }\n      \n      .summary-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .summary-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-number {\n        display: inline-block;\n        background: #667eea;\n        color: white;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        text-align: center;\n        line-height: 40px;\n        font-weight: bold;\n        font-size: 1.2em;\n        margin-bottom: 10px;\n      }\n      \n      .summary-card h4 {\n        color: #667eea;\n        margin: 10px 0;\n        font-size: 1.2em;\n      }\n      \n      .summary-card p {\n        margin: 8px 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .summary-card .key-points {\n        margin-top: 12px;\n        padding-top: 12px;\n        border-top: 1px solid #ddd;\n      }\n      \n      .summary-card ul {\n        margin: 10px 0 0 20px;\n        padding: 0;\n      }\n      \n      .summary-card li {\n        font-size: 0.9em;\n        margin-bottom: 5px;\n        color: #555;\n      }\n      \n      .formula-reference {\n        background: #fff9e6;\n        border: 3px solid #FFB800;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n      }\n      \n      .formula-reference h3 {\n        color: #FF9800;\n        margin-top: 0;\n      }\n      \n      .formula-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 15px;\n        margin: 15px 0;\n      }\n      \n      .formula-item {\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n        border-left: 4px solid #667eea;\n      }\n      \n      .formula-item .formula {\n        font-size: 1.2em;\n        font-weight: bold;\n        font-family: monospace;\n        color: #333;\n        margin: 10px 0;\n      }\n      \n      .formula-item .description {\n        font-size: 0.9em;\n        color: #666;\n      }\n      \n      .comparison-table {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 20px 0;\n        background: white;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      }\n      \n      .comparison-table th, .comparison-table td {\n        border: 1px solid #ddd;\n        padding: 15px;\n        text-align: left;\n      }\n      \n      .comparison-table th {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        font-weight: bold;\n      }\n      \n      .comparison-table tr:nth-child(even) {\n        background: #f9f9f9;\n      }\n      \n      .comparison-table tr:hover {\n        background: #f0f4ff;\n      }\n      \n      .learning-objectives {\n        background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #4CAF50;\n      }\n      \n      .learning-objectives h3 {\n        color: #2E7D32;\n        margin-top: 0;\n      }\n      \n      .objectives-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 15px;\n        margin: 15px 0;\n      }\n      \n      .objective-item {\n        background: white;\n        padding: 15px;\n        border-radius: 8px;\n        border-left: 4px solid #4CAF50;\n      }\n      \n      .objective-item strong {\n        color: #2E7D32;\n      }\n      \n      .next-steps {\n        background: linear-gradient(135deg, #F3E5F5 0%, #EDE7F6 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #9C27B0;\n      }\n      \n      .next-steps h3 {\n        color: #6A1B9A;\n        margin-top: 0;\n      }\n      \n      .next-steps p, .next-steps li {\n        color: #4A148C;\n      }\n      \n      .next-steps ul {\n        margin-left: 20px;\n      }\n      \n      .concepts-mastered {\n        background: linear-gradient(135deg, #FFEBEE 0%, #FCE4EC 100%);\n        padding: 25px;\n        border-radius: 12px;\n        margin: 25px 0;\n        border: 2px solid #E91E63;\n      }\n      \n      .concepts-mastered h3 {\n        color: #880E4F;\n        margin-top: 0;\n      }\n      \n      .concepts-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n        gap: 12px;\n        margin: 15px 0;\n      }\n      \n      .concept-badge {\n        background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%);\n        color: white;\n        padding: 12px;\n        border-radius: 8px;\n        text-align: center;\n        font-weight: bold;\n        font-size: 0.95em;\n      }\n      \n      .review-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .review-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n        font-size: 1.4em;\n      }\n      \n      .quiz-box h4 {\n        color: #f39c12;\n        margin-top: 20px;\n        margin-bottom: 10px;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n      \n      .completion-badge {\n        background: linear-gradient(135deg, #FFD700 0%, #FFC700 100%);\n        padding: 30px;\n        border-radius: 15px;\n        text-align: center;\n        margin: 25px 0;\n        border: 3px solid #FFA000;\n        box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);\n      }\n      \n      .completion-badge h2 {\n        color: #FF6F00;\n        margin: 0;\n        border: none;\n        padding: 0;\n      }\n      \n      .completion-badge p {\n        color: #FF6F00;\n        font-size: 1.1em;\n        margin: 10px 0;\n      }\n      \n      @media (max-width: 768px) {\n        .summary-grid {\n          grid-template-columns: 1fr;\n        }\n        \n        .objectives-grid {\n          grid-template-columns: 1fr;\n        }\n        \n        .concepts-grid {\n          grid-template-columns: repeat(2, 1fr);\n        }\n        \n        .formula-grid {\n          grid-template-columns: 1fr;\n        }\n      }\n    </style>\n\n\n    <div class="review-lesson">\n      <div class="hero-box">\n        <div class="celebration-icon">\ud83c\udf89</div>\n        <h1>Congratulations!</h1>\n        <p>You\'ve completed the Electrical Basics course!</p>\n      </div>\n\n\n      <h2>\ud83d\udcda Course Summary</h2>\n      <p>\n        Over the past 9 sessions, you\'ve learned the fundamental concepts that power our entire modern world. Let\'s review what you\'ve mastered!\n      </p>\n\n\n      <div class="summary-grid">\n        <div class="summary-card">\n          <span class="card-number">1</span>\n          <h4>Introduction to Electricity</h4>\n          <p>Learned what electricity is, how atoms work, and the history of electrical discovery</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Electrons and atoms</li>\n              <li>Static vs current electricity</li>\n              <li>Historical discoveries</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">2</span>\n          <h4>Current: Definition</h4>\n          <p>Understood how current flows and the difference between AC and DC</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Current measurement (Amperes)</li>\n              <li>DC vs AC electricity</li>\n              <li>Safety considerations</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">3</span>\n          <h4>Voltage: Definition</h4>\n          <p>Learned about electrical pressure and how voltage works</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Voltage definition (Volts)</li>\n              <li>Voltage drop</li>\n              <li>Real-world voltages</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">4</span>\n          <h4>Resistor: Function</h4>\n          <p>Understood how resistors limit current and types of resistors</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Resistance (Ohms)</li>\n              <li>Color codes</li>\n              <li>Types of resistors</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">5</span>\n          <h4>Ohm\'s Law: Foundation</h4>\n          <p>Mastered the fundamental relationship: V = I \xd7 R</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>V = I \xd7 R formula</li>\n              <li>Problem solving</li>\n              <li>Power calculations</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">6</span>\n          <h4>Series Circuits</h4>\n          <p>Learned how components connect in a single path</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Same current everywhere</li>\n              <li>Voltage divides</li>\n              <li>Resistances add</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">7</span>\n          <h4>Parallel Circuits</h4>\n          <p>Understood multiple paths for current with independent components</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Same voltage everywhere</li>\n              <li>Currents add</li>\n              <li>Home wiring standard</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">8</span>\n          <h4>Measurement Tools</h4>\n          <p>Learned to test and troubleshoot circuits with multimeters</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Voltmeter connection</li>\n              <li>Ammeter measurement</li>\n              <li>Ohmmeter testing</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="summary-card">\n          <span class="card-number">9</span>\n          <h4>Real-World Applications</h4>\n          <p>Saw how electricity powers everything in our world</p>\n          <div class="key-points">\n            <strong>Key concepts:</strong>\n            <ul>\n              <li>Home wiring systems</li>\n              <li>Power transmission</li>\n              <li>Common devices</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\ud83c\udfaf Learning Objectives Achieved</h2>\n      <div class="learning-objectives">\n        <h3>\u2713 You Can Now:</h3>\n        <div class="objectives-grid">\n          <div class="objective-item">\n            <strong>\u2713 Understand electricity fundamentals</strong>\n            <p>Know how electrons, voltage, and current work</p>\n          </div>\n          <div class="objective-item">\n            <strong>\u2713 Apply Ohm\'s Law</strong>\n            <p>Solve problems using V = I \xd7 R</p>\n          </div>\n          <div class="objective-item">\n            <strong>\u2713 Design circuits</strong>\n            <p>Create both series and parallel circuits</p>\n          </div>\n          <div class="objective-item">\n            <strong>\u2713 Read resistor codes</strong>\n            <p>Identify component values from color bands</p>\n          </div>\n          <div class="objective-item">\n            <strong>\u2713 Measure values</strong>\n            <p>Use multimeters to test circuits</p>\n          </div>\n          <div class="objective-item">\n            <strong>\u2713 Troubleshoot</strong>\n            <p>Find and fix circuit problems</p>\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udccb Essential Formulas Reference</h2>\n      <div class="formula-reference">\n        <h3>Master These Equations!</h3>\n        <div class="formula-grid">\n          <div class="formula-item">\n            <div class="formula">V = I \xd7 R</div>\n            <div class="description">Ohm\'s Law: Voltage = Current \xd7 Resistance</div>\n          </div>\n          <div class="formula-item">\n            <div class="formula">I = V \xf7 R</div>\n            <div class="description">Find Current: Current = Voltage \xf7 Resistance</div>\n          </div>\n          <div class="formula-item">\n            <div class="formula">R = V \xf7 I</div>\n            <div class="description">Find Resistance: Resistance = Voltage \xf7 Current</div>\n          </div>\n          <div class="formula-item">\n            <div class="formula">P = V \xd7 I</div>\n            <div class="description">Power: Power = Voltage \xd7 Current</div>\n          </div>\n          <div class="formula-item">\n            <div class="formula">R_series = R\u2081 + R\u2082 + R\u2083</div>\n            <div class="description">Series Resistors: Add all resistances</div>\n          </div>\n          <div class="formula-item">\n            <div class="formula">1/R_parallel = 1/R\u2081 + 1/R\u2082 + 1/R\u2083</div>\n            <div class="description">Parallel Resistors: Sum of reciprocals</div>\n          </div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\udcca Series vs Parallel Quick Reference</h2>\n      <table class="comparison-table">\n        <tr>\n          <th>Property</th>\n          <th>Series Circuit</th>\n          <th>Parallel Circuit</th>\n        </tr>\n        <tr>\n          <td><strong>Voltage</strong></td>\n          <td>Divides among components</td>\n          <td>Same at all components</td>\n        </tr>\n        <tr>\n          <td><strong>Current</strong></td>\n          <td>Same everywhere</td>\n          <td>Adds from all branches</td>\n        </tr>\n        <tr>\n          <td><strong>Resistance</strong></td>\n          <td>Adds together (increases)</td>\n          <td>Decreases (reciprocal)</td>\n        </tr>\n        <tr>\n          <td><strong>If one fails</strong></td>\n          <td>All components stop</td>\n          <td>Others keep working</td>\n        </tr>\n        <tr>\n          <td><strong>Formula</strong></td>\n          <td>R_total = R\u2081 + R\u2082 + R\u2083</td>\n          <td>1/R_t = 1/R\u2081 + 1/R\u2082 + 1/R\u2083</td>\n        </tr>\n        <tr>\n          <td><strong>Used for</strong></td>\n          <td>Simple circuits, protection</td>\n          <td>Home wiring, cars</td>\n        </tr>\n      </table>\n\n\n      <h2>\ud83c\udfc6 Concepts You\'ve Mastered</h2>\n      <div class="concepts-mastered">\n        <h3>Key Terminology</h3>\n        <div class="concepts-grid">\n          <div class="concept-badge">Voltage (V)</div>\n          <div class="concept-badge">Current (A)</div>\n          <div class="concept-badge">Resistance (\u03a9)</div>\n          <div class="concept-badge">Power (W)</div>\n          <div class="concept-badge">Ohm\'s Law</div>\n          <div class="concept-badge">Series</div>\n          <div class="concept-badge">Parallel</div>\n          <div class="concept-badge">Multimeter</div>\n          <div class="concept-badge">LED Circuit</div>\n          <div class="concept-badge">Battery</div>\n          <div class="concept-badge">Resistor</div>\n          <div class="concept-badge">Continuity</div>\n        </div>\n      </div>\n\n\n      <h2>\ud83d\ude80 Next Steps in Your Learning</h2>\n      <div class="next-steps">\n        <h3>Keep Growing Your Skills!</h3>\n        <ul>\n          <li><strong>Arduino/Microcontrollers:</strong> Learn to program circuits and sensors</li>\n          <li><strong>Digital Electronics:</strong> Study logic gates, binary, and computer architecture</li>\n          <li><strong>Advanced Circuits:</strong> Learn capacitors, inductors, transformers</li>\n          <li><strong>Electronics Projects:</strong> Build real projects: robots, IoT devices, automation</li>\n          <li><strong>Power Electronics:</strong> Study motors, power supplies, energy systems</li>\n          <li><strong>Embedded Systems:</strong> Combine hardware and software programming</li>\n          <li><strong>Professional Certification:</strong> Consider formal electronics technician training</li>\n        </ul>\n      </div>\n\n\n      <h2>\ud83d\udca1 Pro Tips for Your Electronics Journey</h2>\n      <div class="info-box">\n        <strong>\ud83d\udd27 Best Practices:</strong>\n        <ul style="margin-top: 10px; margin-bottom: 0; margin-left: 20px;">\n          <li>Always double-check polarity before powering circuits</li>\n          <li>Use breadboards first, then solder permanent circuits</li>\n          <li>Keep detailed notes of all your projects</li>\n          <li>Start simple, gradually increase complexity</li>\n          <li>Never stop learning - electronics evolves constantly</li>\n          <li>Join maker communities (Arduino, Raspberry Pi forums)</li>\n          <li>Share your projects and learn from others</li>\n          <li>Practice, practice, practice with real components</li>\n        </ul>\n      </div>\n\n\n      <div class="fun-fact">\n        <strong>\u26a1 Final Fun Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The knowledge you\'ve gained in this course is the same foundation used by electrical engineers designing power grids, smartphone engineers building processors, automotive engineers creating electric vehicles, and roboticists building intelligent machines. The basics never change - only the applications grow more complex. You now have the fundamental tools to understand and create nearly any electrical system!</p>\n      </div>\n\n\n      <div class="completion-badge">\n        <h2>\ud83c\udf93 COURSE COMPLETE!</h2>\n        <p>You\'ve mastered Electrical Basics</p>\n        <p style="font-size: 1.3em;">Ready to build amazing things! \u26a1</p>\n      </div>\n\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Final Mastery Test!</h3>\n        \n        <h4>Question 1:</h4>\n        <p><strong>What is Ohm\'s Law?</strong></p>\n        <ul>\n          <li>A) V = I / R</li>\n          <li>B) V = I \xd7 R \ud83d\udcd0</li>\n          <li>C) V = I + R</li>\n          <li>D) V = R / I</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - V = I \xd7 R</em></p>\n\n        \n        <h4>Question 2:</h4>\n        <p><strong>In a series circuit, what is the same everywhere?</strong></p>\n        <ul>\n          <li>A) Voltage</li>\n          <li>B) Current \u26d3\ufe0f</li>\n          <li>C) Resistance</li>\n          <li>D) Power</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Current is the same everywhere!</em></p>\n\n        \n        <h4>Question 3:</h4>\n        <p><strong>In a parallel circuit, what is the same everywhere?</strong></p>\n        <ul>\n          <li>A) Voltage \ud83d\udd00</li>\n          <li>B) Current</li>\n          <li>C) Resistance</li>\n          <li>D) Power</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - Voltage is the same everywhere!</em></p>\n\n        \n        <h4>Question 4:</h4>\n        <p><strong>How is a voltmeter connected?</strong></p>\n        <ul>\n          <li>A) Series</li>\n          <li>B) Parallel \ud83d\udccf</li>\n          <li>C) Both</li>\n          <li>D) Floating</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Voltmeter connects PARALLEL!</em></p>\n\n        \n        <h4>Question 5:</h4>\n        <p><strong>What type of circuit is home wiring?</strong></p>\n        <ul>\n          <li>A) Series</li>\n          <li>B) Parallel \ud83c\udfe0</li>\n          <li>C) Both</li>\n          <li>D) Neither</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Homes use PARALLEL circuits!</em></p>\n\n        \n        <h4>Question 6:</h4>\n        <p><strong>What does the color code represent on a resistor?</strong></p>\n        <ul>\n          <li>A) Voltage rating</li>\n          <li>B) Power rating</li>\n          <li>C) Resistance value & tolerance \ud83c\udfa8</li>\n          <li>D) Manufacturer</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - Color bands show resistance value and tolerance!</em></p>\n\n        \n        <h4>Question 7:</h4>\n        <p><strong>When measuring resistance with ohmmeter, the circuit should be:</strong></p>\n        <ul>\n          <li>A) Powered on</li>\n          <li>B) Powered off \u2713</li>\n          <li>C) Doesn\'t matter</li>\n          <li>D) AC power only</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Always power OFF when measuring resistance!</em></p>\n\n        \n        <h4>Question 8:</h4>\n        <p><strong>If R\u2081=10\u03a9 and R\u2082=20\u03a9 in series, total R =?</strong></p>\n        <ul>\n          <li>A) 10\u03a9</li>\n          <li>B) 20\u03a9</li>\n          <li>C) 30\u03a9 \u26d3\ufe0f</li>\n          <li>D) 6.67\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - 10 + 20 = 30\u03a9</em></p>\n\n        \n        <h4>Question 9:</h4>\n        <p><strong>If R\u2081=10\u03a9 and R\u2082=10\u03a9 in parallel, total R =?</strong></p>\n        <ul>\n          <li>A) 20\u03a9</li>\n          <li>B) 5\u03a9 \ud83d\udd00</li>\n          <li>C) 10\u03a9</li>\n          <li>D) 0\u03a9</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - 1/R = 1/10 + 1/10 = 0.2, so R = 5\u03a9</em></p>\n\n        \n        <h4>Question 10:</h4>\n        <p><strong>A 12V power supply and 3A load - what is the power?</strong></p>\n        <ul>\n          <li>A) 4W</li>\n          <li>B) 15W</li>\n          <li>C) 36W \u26a1</li>\n          <li>D) 9W</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - P = 12V \xd7 3A = 36W</em></p>\n      </div>\n\n\n      <div class="hero-box" style="margin-top: 40px; background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(56, 142, 60, 0.1) 100%); border-color: #4CAF50;">\n        <p style="font-size: 1.5em; color: #2E7D32; font-weight: bold;">\ud83c\udf1f Thank you for completing this course!</p>\n        <p style="color: #388E3C; font-size: 1.1em;">You now understand the foundations of electricity and are ready to explore advanced topics.</p>\n        <p style="color: #388E3C; font-size: 1em;">The future of electronics awaits! \u26a1\ud83d\ude80</p>\n      </div>\n    </div>\n  ',questions:[{q:"What is Ohm's Law?",options:["V = I / R","V = I \xd7 R","V = I + R","V = R / I"],answer:1},{q:"In series, what is same everywhere?",options:["Voltage","Current","Resistance","Power"],answer:1},{q:"In parallel, what is same everywhere?",options:["Voltage","Current","Resistance","Power"],answer:0},{q:"How is voltmeter connected?",options:["Series","Parallel","Both","Floating"],answer:1},{q:"Home wiring uses?",options:["Series","Parallel","Both","Neither"],answer:1},{q:"Resistor color codes show?",options:["Voltage","Power","Resistance & tolerance","Manufacturer"],answer:2},{q:"Measuring resistance - circuit?",options:["Powered on","Powered off","Doesn't matter","AC only"],answer:1},{q:"R\u2081=10\u03a9, R\u2082=20\u03a9 series - total?",options:["10\u03a9","20\u03a9","30\u03a9","6.67\u03a9"],answer:2},{q:"R\u2081=10\u03a9, R\u2082=10\u03a9 parallel - total?",options:["20\u03a9","5\u03a9","10\u03a9","0\u03a9"],answer:1},{q:"12V power, 3A load - power?",options:["4W","15W","36W","9W"],answer:2}],tools:[]},{title:"\ud83c\udf93 Course Completed!",content:'\n    <style>\n      .completion-page {\n        padding: 0;\n        margin: 0;\n        min-height: 100vh;\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      }\n      \n      .completion-container {\n        text-align: center;\n        padding: 60px 30px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        min-height: 100vh;\n      }\n      \n      .celebration-animation {\n        position: relative;\n        width: 200px;\n        height: 200px;\n        margin: 0 auto 40px;\n      }\n      \n      .celebration-main {\n        font-size: 120px;\n        animation: bounce 1s infinite, rotate 3s infinite;\n        display: inline-block;\n      }\n      \n      @keyframes bounce {\n        0%, 100% { transform: translateY(0); }\n        50% { transform: translateY(-30px); }\n      }\n      \n      @keyframes rotate {\n        0%, 100% { transform: rotate(0deg); }\n        25% { transform: rotate(10deg); }\n        50% { transform: rotate(0deg); }\n        75% { transform: rotate(-10deg); }\n      }\n      \n      .confetti {\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        animation: fall 3s infinite;\n      }\n      \n      @keyframes fall {\n        to {\n          transform: translateY(300px) rotate(360deg);\n          opacity: 0;\n        }\n      }\n      \n      .confetti:nth-child(1) { left: 10%; animation-delay: 0s; background: #FF6B6B; border-radius: 50%; }\n      .confetti:nth-child(2) { left: 20%; animation-delay: 0.3s; background: #FFD93D; transform: rotate(45deg); }\n      .confetti:nth-child(3) { left: 30%; animation-delay: 0.6s; background: #6BCB77; border-radius: 50%; }\n      .confetti:nth-child(4) { left: 40%; animation-delay: 0.9s; background: #4D96FF; }\n      .confetti:nth-child(5) { left: 50%; animation-delay: 1.2s; background: #FF6B6B; border-radius: 50%; }\n      .confetti:nth-child(6) { left: 60%; animation-delay: 1.5s; background: #FFD93D; }\n      .confetti:nth-child(7) { left: 70%; animation-delay: 1.8s; background: #6BCB77; border-radius: 50%; }\n      .confetti:nth-child(8) { left: 80%; animation-delay: 0.4s; background: #4D96FF; }\n      .confetti:nth-child(9) { left: 90%; animation-delay: 0.8s; background: #FF6B6B; }\n      .confetti:nth-child(10) { left: 15%; animation-delay: 1.1s; background: #FFD93D; border-radius: 50%; }\n      \n      .completion-content {\n        background: white;\n        padding: 60px 40px;\n        border-radius: 20px;\n        max-width: 700px;\n        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n        animation: scaleIn 0.8s ease-out;\n      }\n      \n      @keyframes scaleIn {\n        0% {\n          transform: scale(0.5);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      \n      .completion-title {\n        font-size: 3em;\n        color: #667eea;\n        margin: 0 0 20px 0;\n        font-weight: bold;\n      }\n      \n      .completion-subtitle {\n        font-size: 1.8em;\n        color: #764ba2;\n        margin: 0 0 30px 0;\n        font-weight: 600;\n      }\n      \n      .completion-message {\n        font-size: 1.2em;\n        color: #333;\n        line-height: 1.8;\n        margin: 30px 0;\n        font-weight: 500;\n      }\n      \n      .stats-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 20px;\n        margin: 40px 0;\n      }\n      \n      .stat-item {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        padding: 20px;\n        border-radius: 12px;\n        border: 2px solid #667eea;\n      }\n      \n      .stat-number {\n        font-size: 2.5em;\n        color: #667eea;\n        font-weight: bold;\n        margin: 10px 0;\n      }\n      \n      .stat-label {\n        color: #666;\n        font-size: 0.95em;\n      }\n      \n      .achievements {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 30px 0;\n        border: 2px solid #FFB800;\n      }\n      \n      .achievements h3 {\n        color: #FF9800;\n        margin: 0 0 15px 0;\n        font-size: 1.3em;\n      }\n      \n      .achievement-list {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 10px;\n        text-align: left;\n      }\n      \n      .achievement-item {\n        display: flex;\n        align-items: center;\n        gap: 10px;\n        padding: 8px;\n      }\n      \n      .achievement-icon {\n        font-size: 1.5em;\n      }\n      \n      .achievement-text {\n        color: #333;\n        font-size: 0.95em;\n      }\n      \n      .certificate {\n        background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);\n        padding: 30px;\n        border-radius: 15px;\n        margin: 30px 0;\n        border: 3px solid #FF8C00;\n        box-shadow: 0 10px 30px rgba(255, 165, 0, 0.3);\n      }\n      \n      .certificate-text {\n        font-size: 1.1em;\n        color: #333;\n        font-weight: bold;\n        margin: 10px 0;\n      }\n      \n      .certificate-name {\n        font-size: 1.5em;\n        color: #8B4513;\n        font-weight: bold;\n        margin: 15px 0;\n        font-style: italic;\n      }\n      \n      .certificate-footer {\n        font-size: 0.9em;\n        color: #666;\n        margin-top: 10px;\n      }\n      \n      .button-group {\n        display: flex;\n        gap: 15px;\n        justify-content: center;\n        margin: 40px 0 0 0;\n        flex-wrap: wrap;\n      }\n      \n      .btn {\n        padding: 15px 35px;\n        border: none;\n        border-radius: 10px;\n        font-size: 1.1em;\n        font-weight: bold;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        text-decoration: none;\n        display: inline-block;\n      }\n      \n      .btn-primary {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n      }\n      \n      .btn-primary:hover {\n        transform: translateY(-3px);\n        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n      }\n      \n      .btn-secondary {\n        background: white;\n        color: #667eea;\n        border: 2px solid #667eea;\n      }\n      \n      .btn-secondary:hover {\n        background: #f0f4ff;\n      }\n      \n      .next-steps-section {\n        background: #E8F5E9;\n        padding: 25px;\n        border-radius: 12px;\n        margin: 30px 0;\n        border-left: 5px solid #4CAF50;\n      }\n      \n      .next-steps-section h3 {\n        color: #2E7D32;\n        margin: 0 0 15px 0;\n      }\n      \n      .next-steps-section p {\n        color: #1B5E20;\n        margin: 8px 0;\n      }\n      \n      .motivational-quote {\n        font-size: 1.3em;\n        color: #667eea;\n        font-style: italic;\n        font-weight: 600;\n        margin: 30px 0;\n        padding: 20px;\n        border-left: 5px solid #667eea;\n      }\n      \n      @media (max-width: 768px) {\n        .completion-title {\n          font-size: 2.2em;\n        }\n        \n        .completion-subtitle {\n          font-size: 1.4em;\n        }\n        \n        .stats-grid {\n          grid-template-columns: 1fr;\n        }\n        \n        .achievement-list {\n          grid-template-columns: 1fr;\n        }\n        \n        .button-group {\n          flex-direction: column;\n        }\n        \n        .btn {\n          width: 100%;\n        }\n        \n        .completion-container {\n          padding: 30px 15px;\n        }\n      }\n    </style>\n\n\n    <div class="completion-page">\n      <div class="completion-container">\n        <div class="celebration-animation">\n          <div class="celebration-main">\ud83c\udf89</div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n          <div class="confetti"></div>\n        </div>\n\n        <div class="completion-content">\n          <h1 class="completion-title">\ud83c\udf93 Congratulations!</h1>\n          <p class="completion-subtitle">You Have Completed The Entire Course!</p>\n          \n          <p class="completion-message">\n            You\'ve successfully mastered all 10 sessions of Electrical Basics! \n            From understanding electrons to designing real-world circuits, \n            you\'ve achieved what takes many students weeks to complete.\n          </p>\n\n          <div class="stats-grid">\n            <div class="stat-item">\n              <div class="stat-number">10</div>\n              <div class="stat-label">Sessions Completed</div>\n            </div>\n            <div class="stat-item">\n              <div class="stat-number">50+</div>\n              <div class="stat-label">Quiz Questions</div>\n            </div>\n            <div class="stat-item">\n              <div class="stat-number">16+</div>\n              <div class="stat-label">Interactive Tools</div>\n            </div>\n          </div>\n\n          <div class="achievements">\n            <h3>\ud83c\udfc6 Skills You\'ve Mastered</h3>\n            <div class="achievement-list">\n              <div class="achievement-item">\n                <span class="achievement-icon">\u26a1</span>\n                <span class="achievement-text">Understand Electricity</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\ud83d\udcd0</span>\n                <span class="achievement-text">Apply Ohm\'s Law</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\u26d3\ufe0f</span>\n                <span class="achievement-text">Design Series Circuits</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\ud83d\udd00</span>\n                <span class="achievement-text">Design Parallel Circuits</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\ud83d\udccf</span>\n                <span class="achievement-text">Measure with Multimeter</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\ud83c\udfa8</span>\n                <span class="achievement-text">Read Resistor Codes</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\ud83d\udd27</span>\n                <span class="achievement-text">Troubleshoot Circuits</span>\n              </div>\n              <div class="achievement-item">\n                <span class="achievement-icon">\ud83c\udf0d</span>\n                <span class="achievement-text">Real-World Applications</span>\n              </div>\n            </div>\n          </div>\n\n          <div class="certificate">\n            <div class="certificate-text">\ud83c\udf93 CERTIFICATE OF COMPLETION \ud83c\udf93</div>\n            <p style="margin: 20px 0; color: #333; font-weight: bold;">This certifies that</p>\n            <div class="certificate-name">Electronics Learner</div>\n            <p style="color: #333;">has successfully completed the</p>\n            <p style="color: #333; font-size: 1.2em; font-weight: bold;">Electrical Basics Course</p>\n            <p style="color: #333; margin-top: 15px;">All 10 sessions completed with mastery</p>\n            <div class="certificate-footer">\n              Issued on: '.concat((new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),'\n            </div>\n          </div>\n\n          <div class="motivational-quote">\n            "You now understand the language of electricity. \n            The future of innovation is in your hands!"\n          </div>\n\n          <div class="next-steps-section">\n            <h3>\ud83d\ude80 What\'s Next?</h3>\n            <p>\u2713 Practice building real circuits with Arduino or Raspberry Pi</p>\n            <p>\u2713 Explore advanced topics: microcontrollers, digital electronics</p>\n            <p>\u2713 Join maker communities and share your projects</p>\n            <p>\u2713 Build something amazing with your new knowledge!</p>\n          </div>\n\n          <div class="button-group">\n            <button class="btn btn-primary" onclick="window.location.href=\'/\'">\n              \ud83c\udfe0 Back to Home\n            </button>\n            <button class="btn btn-secondary" onclick="window.location.href=\'/course/electricalBasics\'">\n              \ud83d\udcda Review Course\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  '),questions:[],tools:[]}]},microprocessor:{id:"microprocessor",title:"Microprocessor from Scratch",description:"Master processor architecture, instruction sets, and modern computing technologies",color:"#4A90E2",icon:"\ud83d\udda5\ufe0f",level:"Intermediate",duration:"8 hours",students:"1,250",sessions:[{title:"Introduction to Microprocessors",content:'\n    <style>\n      .microprocessor-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .microprocessor-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .microprocessor-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n      }\n      \n      .microprocessor-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .chip-icon {\n        font-size: 60px;\n        margin-bottom: 15px;\n        animation: pulse-chip 2s infinite;\n      }\n      \n      @keyframes pulse-chip {\n        0%, 100% { opacity: 1; transform: scale(1); }\n        50% { opacity: 0.8; transform: scale(1.05); }\n      }\n      \n      .hero-box p {\n        font-size: 1.2em;\n        color: #667eea;\n        font-weight: 600;\n        margin: 0;\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .info-box strong {\n        color: #667eea;\n        font-size: 1.1em;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .info-card p {\n        margin: 0;\n        font-size: 0.95em;\n        color: #555;\n      }\n      \n      .timeline {\n        position: relative;\n        padding: 20px 0;\n        margin: 30px 0;\n      }\n      \n      .timeline-item {\n        display: flex;\n        margin-bottom: 25px;\n        align-items: flex-start;\n        gap: 20px;\n      }\n      \n      .timeline-date {\n        background: #667eea;\n        color: white;\n        padding: 8px 15px;\n        border-radius: 20px;\n        font-weight: bold;\n        min-width: 80px;\n        text-align: center;\n        flex-shrink: 0;\n      }\n      \n      .timeline-content {\n        flex: 1;\n        background: #f8f9fa;\n        padding: 15px 20px;\n        border-radius: 10px;\n        box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n      }\n      \n      .timeline-content strong {\n        color: #667eea;\n        display: block;\n        margin-bottom: 5px;\n      }\n      \n      .microprocessor-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .microprocessor-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .quiz-box h3 {\n        color: #f39c12;\n        margin-top: 0;\n      }\n      \n      .quiz-box ul {\n        list-style-type: none;\n        margin-left: 0;\n      }\n      \n      .quiz-box li {\n        padding: 8px 0;\n        font-size: 1.05em;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .fun-fact strong {\n        color: #4caf50;\n        font-size: 1.1em;\n      }\n\n      .processor-diagram {\n        background: white;\n        border: 2px solid #667eea;\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n      }\n\n      .cpu-block {\n        display: inline-block;\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 20px 40px;\n        border-radius: 10px;\n        margin: 10px;\n        font-weight: bold;\n        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);\n      }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div class="chip-icon">\ud83d\udda5\ufe0f</div>\n        <p>Microprocessor: The brain of every computer, smartphone, and digital device that powers our modern world!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is a Microprocessor?</h2>\n      <p>\n        A <span class="highlight">microprocessor</span> is a tiny but incredibly powerful electronic chip that acts as the "brain" of a computer. It\'s a complete computing engine fabricated on a single integrated circuit (IC) that can process millions of instructions per second!\n      </p>\n      \n      <div class="info-box">\n        <strong>\ud83d\udca1 Simple Definition:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">A microprocessor is a programmable digital electronic component that accepts binary data as input, processes it according to instructions stored in its memory, and provides results as output. It\'s the heart of all computing devices!</p>\n      </div>\n\n      <h2>\ud83e\udde0 The Brain Analogy</h2>\n      <p>Think of a microprocessor like the human brain:</p>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udc42</span>\n          <h4>Input (Senses)</h4>\n          <p>Just like your brain receives signals from your eyes, ears, and touch, a microprocessor receives data from input devices</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83e\udde0</span>\n          <h4>Processing (Thinking)</h4>\n          <p>Your brain processes information and makes decisions - the microprocessor does the same with data and instructions</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udde3\ufe0f</span>\n          <h4>Output (Actions)</h4>\n          <p>Just as your brain tells your body what to do, the microprocessor sends results to output devices</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udcdc History of Microprocessors</h2>\n      <p>The journey of microprocessors revolutionized the world of computing!</p>\n\n      <div class="timeline">\n        <div class="timeline-item">\n          <div class="timeline-date">1971</div>\n          <div class="timeline-content">\n            <strong>Intel 4004 - The First Microprocessor! \ud83c\udf89</strong>\n            Created by Intel engineers Federico Faggin, Ted Hoff, and Stanley Mazor. It had 2,300 transistors and could execute 60,000 operations per second. Originally designed for calculators!\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1972</div>\n          <div class="timeline-content">\n            <strong>Intel 8008</strong>\n            The first 8-bit microprocessor, twice as powerful as the 4004. It could address more memory and handle more complex tasks.\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1974</div>\n          <div class="timeline-content">\n            <strong>Intel 8080 & Motorola 6800</strong>\n            These processors powered the first personal computers! The 8080 was used in the famous Altair 8800, considered the first successful personal computer.\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1978</div>\n          <div class="timeline-content">\n            <strong>Intel 8086 - Birth of x86 Architecture</strong>\n            This 16-bit processor started the x86 architecture family that still dominates PCs today! It could address 1 MB of memory.\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">1985</div>\n          <div class="timeline-content">\n            <strong>Intel 80386 - The 32-bit Revolution</strong>\n            First 32-bit x86 processor with 275,000 transistors. It could run multiple programs simultaneously (multitasking)!\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">2000s</div>\n          <div class="timeline-content">\n            <strong>Multi-Core Era Begins</strong>\n            Processors started having multiple cores (brains) working together. Dual-core, quad-core, and now even 64-core processors!\n          </div>\n        </div>\n\n        <div class="timeline-item">\n          <div class="timeline-date">Today</div>\n          <div class="timeline-content">\n            <strong>Modern Processors</strong>\n            Billions of transistors on a single chip! Processors like Intel Core i9, AMD Ryzen, and Apple M-series chips deliver incredible performance for AI, gaming, and professional work.\n          </div>\n        </div>\n      </div>\n\n      <h2>\ud83c\udfd7\ufe0f Basic Components of a Microprocessor</h2>\n      <div class="processor-diagram">\n        <h3 style="color: #667eea; margin-top: 0;">Inside a Microprocessor</h3>\n        <div class="cpu-block">ALU<br/><small>Arithmetic Logic Unit</small></div>\n        <div class="cpu-block">CU<br/><small>Control Unit</small></div>\n        <div class="cpu-block">Registers<br/><small>Fast Memory</small></div>\n      </div>\n\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd22</span>\n          <h4>ALU (Arithmetic Logic Unit)</h4>\n          <p>Performs all mathematical calculations (add, subtract, multiply, divide) and logical operations (AND, OR, NOT). It\'s the calculator of the processor!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfae</span>\n          <h4>Control Unit (CU)</h4>\n          <p>The traffic controller! It directs the flow of data, fetches instructions from memory, and tells other components what to do.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbe</span>\n          <h4>Registers</h4>\n          <p>Super-fast temporary storage locations inside the processor. They hold data that\'s being processed right now - like your desk workspace!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0c</span>\n          <h4>Buses</h4>\n          <p>Electronic highways that carry data, addresses, and control signals between components. Think of them as the processor\'s nervous system!</p>\n        </div>\n      </div>\n\n      <h2>\u26a1 How Does a Microprocessor Work?</h2>\n      <div class="info-box">\n        <strong>The Fetch-Decode-Execute Cycle:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">Every microprocessor follows this basic cycle billions of times per second:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>FETCH:</strong> Get the next instruction from memory</li>\n          <li><strong>DECODE:</strong> Figure out what the instruction means</li>\n          <li><strong>EXECUTE:</strong> Perform the instruction (calculate, move data, etc.)</li>\n          <li><strong>STORE:</strong> Save the result back to memory or registers</li>\n        </ul>\n      </div>\n\n      <h2>\ud83c\udfaf Why Are Microprocessors Important?</h2>\n      <p>Microprocessors have transformed every aspect of modern life:</p>\n      <ul>\n        <li>\ud83d\udcbb <strong>Personal Computing:</strong> Laptops, desktops, tablets</li>\n        <li>\ud83d\udcf1 <strong>Mobile Devices:</strong> Smartphones, smartwatches</li>\n        <li>\ud83d\ude97 <strong>Automotive:</strong> Engine control, safety systems, entertainment</li>\n        <li>\ud83c\udfe5 <strong>Medical Equipment:</strong> MRI machines, pacemakers, diagnostic tools</li>\n        <li>\u2708\ufe0f <strong>Aerospace:</strong> Flight control, navigation systems</li>\n        <li>\ud83c\udfed <strong>Industrial Automation:</strong> Robotics, manufacturing control</li>\n        <li>\ud83c\udfae <strong>Gaming:</strong> Consoles, VR headsets</li>\n        <li>\ud83c\udf10 <strong>Internet:</strong> Servers, routers, data centers</li>\n      </ul>\n\n      <h2>\ud83d\udd2c Microprocessor vs Calculator</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83e\uddee</span>\n          <h4>Calculator</h4>\n          <p>Fixed function - can only do math. Limited operations. Not programmable.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udda5\ufe0f</span>\n          <h4>Microprocessor</h4>\n          <p>Programmable - can do anything! Can run games, edit videos, browse web, and millions of other tasks!</p>\n        </div>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The Intel 4004 (1971) had 2,300 transistors. Today\'s processors have over 50 BILLION transistors! That\'s like going from a small town to the entire population of Earth - all on a chip smaller than your fingernail!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What does ALU stand for?</p>\n        <ul>\n          <li>A) Arithmetic Logic Unit \u2713</li>\n          <li>B) Advanced Learning Unit</li>\n          <li>C) Automatic Logic Utility</li>\n          <li>D) Application Level Unit</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - The ALU performs all calculations and logical operations!</em></p>\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> What was the first microprocessor?</p>\n        <ul>\n          <li>A) Intel 8080</li>\n          <li>B) Intel 4004 \u2713</li>\n          <li>C) Motorola 6800</li>\n          <li>D) Intel 8086</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Intel 4004, released in 1971!</em></p>\n\n        <p style="margin-top: 20px;"><strong>Question 3:</strong> What is the basic cycle a microprocessor follows?</p>\n        <ul>\n          <li>A) Read-Write-Execute</li>\n          <li>B) Fetch-Decode-Execute \u2713</li>\n          <li>C) Input-Process-Output</li>\n          <li>D) Load-Store-Calculate</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Fetch-Decode-Execute is the fundamental cycle!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What does ALU stand for?",options:["Arithmetic Logic Unit","Advanced Learning Unit","Automatic Logic Utility","Application Level Unit"],answer:0},{q:"What was the first microprocessor?",options:["Intel 8080","Intel 4004","Motorola 6800","Intel 8086"],answer:1},{q:"What is the basic cycle a microprocessor follows?",options:["Read-Write-Execute","Fetch-Decode-Execute","Input-Process-Output","Load-Store-Calculate"],answer:1}],tools:[{name:"Processor Simulator",type:"interactive",description:"Visualize the fetch-decode-execute cycle in action"}]},{title:"CPU Architecture & Components",content:'\n    <style>\n      .microprocessor-lesson {\n        padding: 0;\n        margin: 0;\n      }\n      \n      .microprocessor-lesson h2 {\n        color: #667eea;\n        margin-top: 40px;\n        margin-bottom: 20px;\n        font-size: 1.8em;\n        border-left: 5px solid #667eea;\n        padding-left: 15px;\n      }\n      \n      .microprocessor-lesson h3 {\n        color: #764ba2;\n        margin-top: 30px;\n        margin-bottom: 15px;\n        font-size: 1.4em;\n      }\n      \n      .microprocessor-lesson p {\n        color: #333;\n        margin-bottom: 15px;\n        font-size: 1.05em;\n        line-height: 1.7;\n      }\n      \n      .hero-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n        text-align: center;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n      }\n      \n      .info-box {\n        background: #f8f9fa;\n        border-left: 5px solid #667eea;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n      \n      .highlight {\n        background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n        padding: 2px 6px;\n        border-radius: 4px;\n        font-weight: 600;\n        color: #667eea;\n      }\n      \n      .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n        gap: 20px;\n        margin: 25px 0;\n      }\n      \n      .info-card {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%);\n        padding: 25px;\n        border-radius: 12px;\n        border: 2px solid rgba(102, 126, 234, 0.2);\n        transition: all 0.3s ease;\n      }\n      \n      .info-card:hover {\n        transform: translateY(-5px);\n        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);\n        border-color: #667eea;\n      }\n      \n      .card-icon {\n        font-size: 50px;\n        margin-bottom: 15px;\n        display: block;\n      }\n      \n      .info-card h4 {\n        color: #667eea;\n        margin-bottom: 10px;\n        font-size: 1.2em;\n      }\n      \n      .microprocessor-lesson ul {\n        margin: 15px 0 15px 25px;\n        padding: 0;\n      }\n      \n      .microprocessor-lesson li {\n        margin-bottom: 10px;\n        color: #555;\n        line-height: 1.6;\n      }\n      \n      .quiz-box {\n        background: #fff9e6;\n        padding: 25px;\n        border-radius: 15px;\n        margin-top: 30px;\n        border: 3px solid #ffd700;\n      }\n      \n      .fun-fact {\n        background: #e8f5e9;\n        border-left: 5px solid #4caf50;\n        padding: 20px;\n        margin: 25px 0;\n        border-radius: 8px;\n      }\n\n      .architecture-diagram {\n        background: white;\n        border: 3px solid #667eea;\n        border-radius: 15px;\n        padding: 30px;\n        margin: 30px 0;\n      }\n\n      .bus-line {\n        height: 3px;\n        background: linear-gradient(90deg, #667eea, #764ba2);\n        margin: 15px 0;\n        position: relative;\n        animation: data-flow 2s infinite;\n      }\n\n      @keyframes data-flow {\n        0% { opacity: 0.5; }\n        50% { opacity: 1; }\n        100% { opacity: 0.5; }\n      }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83c\udfd7\ufe0f</div>\n        <p>CPU Architecture: Understanding the blueprint of the processor\'s internal structure and how components work together!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is CPU Architecture?</h2>\n      <p>\n        <span class="highlight">CPU Architecture</span> refers to the design and organization of the processor\'s internal components and how they interact. It\'s like the blueprint of a building - it shows how everything is connected and works together!\n      </p>\n\n      <h2>\ud83c\udfdb\ufe0f Von Neumann Architecture</h2>\n      <div class="info-box">\n        <strong>\ud83d\udca1 The Foundation of Modern Computers:</strong>\n        <p style="margin-top: 10px;">Proposed by John von Neumann in 1945, this architecture is still used in most computers today! It has five main components:</p>\n      </div>\n\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83e\uddee</span>\n          <h4>ALU (Arithmetic Logic Unit)</h4>\n          <p>Performs all arithmetic operations (+, -, \xd7, \xf7) and logical operations (AND, OR, NOT, XOR)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfae</span>\n          <h4>Control Unit</h4>\n          <p>Coordinates all activities, fetches instructions, and controls data flow between components</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbe</span>\n          <h4>Memory Unit</h4>\n          <p>Stores both program instructions AND data in the same memory space</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce5</span>\n          <h4>Input Unit</h4>\n          <p>Receives data from external devices (keyboard, mouse, sensors)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce4</span>\n          <h4>Output Unit</h4>\n          <p>Sends processed data to external devices (monitor, printer, speakers)</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\ude8c The Bus System - Data Highways</h2>\n      <p>Buses are electronic pathways that transfer data between components. Think of them as highways for information!</p>\n\n      <div class="architecture-diagram">\n        <h3 style="color: #667eea; text-align: center; margin-top: 0;">Three Types of Buses</h3>\n        <div class="bus-line"></div>\n        <p style="text-align: center; margin: 5px 0; color: #667eea; font-weight: bold;">Data Bus</p>\n        <div class="bus-line"></div>\n        <p style="text-align: center; margin: 5px 0; color: #764ba2; font-weight: bold;">Address Bus</p>\n        <div class="bus-line"></div>\n        <p style="text-align: center; margin: 5px 0; color: #667eea; font-weight: bold;">Control Bus</p>\n      </div>\n\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcca</span>\n          <h4>Data Bus</h4>\n          <p><strong>Carries:</strong> Actual data being transferred<br/>\n          <strong>Direction:</strong> Bi-directional (two-way)<br/>\n          <strong>Width:</strong> 8, 16, 32, or 64 bits<br/>\n          <strong>Example:</strong> Transferring the number "42" from memory to CPU</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccd</span>\n          <h4>Address Bus</h4>\n          <p><strong>Carries:</strong> Memory addresses<br/>\n          <strong>Direction:</strong> Uni-directional (one-way from CPU)<br/>\n          <strong>Width:</strong> Determines max memory (16-bit = 64KB, 32-bit = 4GB)<br/>\n          <strong>Example:</strong> Telling memory "I need data from location 1000"</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udf9b\ufe0f</span>\n          <h4>Control Bus</h4>\n          <p><strong>Carries:</strong> Control signals<br/>\n          <strong>Signals:</strong> Read, Write, Clock, Reset, Interrupt<br/>\n          <strong>Purpose:</strong> Coordinates timing and operations<br/>\n          <strong>Example:</strong> Sending "READ" signal to fetch data</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udce6 Registers - The Fastest Memory</h2>\n      <p>Registers are tiny, super-fast storage locations inside the CPU. They\'re like your desk workspace - small but immediately accessible!</p>\n\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfaf</span>\n          <h4>Accumulator (ACC)</h4>\n          <p>Stores results of arithmetic and logical operations. The main working register!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccd</span>\n          <h4>Program Counter (PC)</h4>\n          <p>Holds the address of the next instruction to execute. Auto-increments after each instruction!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccb</span>\n          <h4>Instruction Register (IR)</h4>\n          <p>Holds the current instruction being executed</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccc</span>\n          <h4>Memory Address Register (MAR)</h4>\n          <p>Holds the address of memory location to be accessed</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbc</span>\n          <h4>Memory Data Register (MDR)</h4>\n          <p>Holds data being transferred to/from memory</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udea9</span>\n          <h4>Status/Flag Register</h4>\n          <p>Contains flags: Zero, Carry, Sign, Overflow, Parity. Indicates results of operations!</p>\n        </div>\n      </div>\n\n      <h2>\u2699\ufe0f Harvard vs Von Neumann Architecture</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfdb\ufe0f</span>\n          <h4>Von Neumann</h4>\n          <p><strong>Memory:</strong> Single memory for code & data<br/>\n          <strong>Buses:</strong> Shared bus system<br/>\n          <strong>Speed:</strong> Slower (bottleneck)<br/>\n          <strong>Used in:</strong> Most PCs, laptops<br/>\n          <strong>Advantage:</strong> Simpler, flexible</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udf93</span>\n          <h4>Harvard</h4>\n          <p><strong>Memory:</strong> Separate memory for code & data<br/>\n          <strong>Buses:</strong> Separate buses<br/>\n          <strong>Speed:</strong> Faster (parallel access)<br/>\n          <strong>Used in:</strong> Microcontrollers, DSPs<br/>\n          <strong>Advantage:</strong> Better performance</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udd04 Instruction Cycle in Detail</h2>\n      <div class="info-box">\n        <strong>The Four-Stage Pipeline:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">Every instruction goes through these stages:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>1. FETCH:</strong> PC \u2192 MAR \u2192 Memory \u2192 MDR \u2192 IR (Get instruction from memory)</li>\n          <li><strong>2. DECODE:</strong> Control Unit analyzes the instruction in IR</li>\n          <li><strong>3. EXECUTE:</strong> ALU performs the operation or memory access occurs</li>\n          <li><strong>4. STORE:</strong> Result written back to register or memory</li>\n        </ul>\n      </div>\n\n      <h2>\ud83c\udfaf CISC vs RISC Architecture</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfd7\ufe0f</span>\n          <h4>CISC (Complex)</h4>\n          <p><strong>Full Name:</strong> Complex Instruction Set Computer<br/>\n          <strong>Instructions:</strong> Many (100-250), complex<br/>\n          <strong>Execution:</strong> Variable time<br/>\n          <strong>Examples:</strong> Intel x86, AMD<br/>\n          <strong>Philosophy:</strong> "Do more with one instruction"</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>RISC (Reduced)</h4>\n          <p><strong>Full Name:</strong> Reduced Instruction Set Computer<br/>\n          <strong>Instructions:</strong> Few (~50), simple<br/>\n          <strong>Execution:</strong> Fixed time (1 clock)<br/>\n          <strong>Examples:</strong> ARM, MIPS, RISC-V<br/>\n          <strong>Philosophy:</strong> "Do simple things fast"</p>\n        </div>\n      </div>\n\n      <h2>\u23f1\ufe0f Clock Speed and Performance</h2>\n      <p>The <span class="highlight">clock</span> synchronizes all operations in the CPU. It\'s like a metronome for musicians!</p>\n      <ul>\n        <li>\ud83d\udcca <strong>Clock Speed:</strong> Measured in Hz (cycles per second)</li>\n        <li>\u26a1 <strong>Modern CPUs:</strong> 3-5 GHz (3-5 billion cycles/second!)</li>\n        <li>\ud83d\udd04 <strong>One Clock Cycle:</strong> Basic unit of time for CPU operations</li>\n        <li>\ud83d\udcc8 <strong>IPC (Instructions Per Clock):</strong> How many instructions execute per cycle</li>\n      </ul>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">A 3 GHz processor executes 3 BILLION clock cycles every second! If each cycle was 1 second, it would take 95 YEARS to complete what a modern CPU does in just 1 second!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> Which bus carries memory addresses?</p>\n        <ul>\n          <li>A) Data Bus</li>\n          <li>B) Address Bus \u2713</li>\n          <li>C) Control Bus</li>\n          <li>D) System Bus</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - The Address Bus carries memory location addresses!</em></p>\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> What does PC stand for in CPU registers?</p>\n        <ul>\n          <li>A) Personal Computer</li>\n          <li>B) Program Counter \u2713</li>\n          <li>C) Process Control</li>\n          <li>D) Primary Cache</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Program Counter holds the next instruction address!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"Which bus carries memory addresses?",options:["Data Bus","Address Bus","Control Bus","System Bus"],answer:1},{q:"What does PC stand for in CPU registers?",options:["Personal Computer","Program Counter","Process Control","Primary Cache"],answer:1},{q:"Which architecture has separate memory for code and data?",options:["Von Neumann","Harvard","CISC","RISC"],answer:1}],tools:[{name:"Architecture Visualizer",type:"interactive",description:"Explore CPU components and data flow"}]},{title:"Instruction Set Architecture (ISA)",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .microprocessor-lesson h3 { color: #764ba2; margin-top: 30px; margin-bottom: 15px; font-size: 1.4em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .highlight { background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%); padding: 2px 6px; border-radius: 4px; font-weight: 600; color: #667eea; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .info-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2); border-color: #667eea; }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; padding: 0; }\n      .microprocessor-lesson li { margin-bottom: 10px; color: #555; line-height: 1.6; }\n      .code-box { background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 10px; margin: 20px 0; font-family: \'Courier New\', monospace; overflow-x: auto; }\n      .code-comment { color: #6a9955; }\n      .code-keyword { color: #569cd6; }\n      .code-number { color: #b5cea8; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83d\udcd6</div>\n        <p>Instruction Set Architecture: The language that processors speak - the complete vocabulary of commands a CPU understands!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is ISA?</h2>\n      <p>\n        <span class="highlight">Instruction Set Architecture (ISA)</span> is the complete set of instructions that a processor can execute. Think of it as the processor\'s vocabulary - just like humans have words to communicate, processors have instructions to perform tasks!\n      </p>\n\n      <div class="info-box">\n        <strong>\ud83d\udca1 Key Concept:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">ISA is the interface between hardware and software. It defines what operations the CPU can perform, how they\'re encoded, and how they interact with memory and registers.</p>\n      </div>\n\n      <h2>\ud83d\udcda Types of Instructions</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd22</span>\n          <h4>Data Transfer</h4>\n          <p><strong>Purpose:</strong> Move data between locations<br/>\n          <strong>Examples:</strong> MOV, LOAD, STORE, PUSH, POP<br/>\n          <strong>Usage:</strong> MOV AX, 5 (Move 5 into register AX)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u2795</span>\n          <h4>Arithmetic</h4>\n          <p><strong>Purpose:</strong> Mathematical operations<br/>\n          <strong>Examples:</strong> ADD, SUB, MUL, DIV, INC, DEC<br/>\n          <strong>Usage:</strong> ADD AX, BX (Add BX to AX)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd00</span>\n          <h4>Logical</h4>\n          <p><strong>Purpose:</strong> Boolean operations<br/>\n          <strong>Examples:</strong> AND, OR, NOT, XOR, SHL, SHR<br/>\n          <strong>Usage:</strong> AND AX, 0xFF (Mask lower 8 bits)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd04</span>\n          <h4>Control Flow</h4>\n          <p><strong>Purpose:</strong> Change program execution<br/>\n          <strong>Examples:</strong> JMP, CALL, RET, JZ, JNZ<br/>\n          <strong>Usage:</strong> JMP LOOP (Jump to label LOOP)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0d</span>\n          <h4>Comparison</h4>\n          <p><strong>Purpose:</strong> Compare values<br/>\n          <strong>Examples:</strong> CMP, TEST<br/>\n          <strong>Usage:</strong> CMP AX, 10 (Compare AX with 10)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce5</span>\n          <h4>I/O Operations</h4>\n          <p><strong>Purpose:</strong> Input/Output<br/>\n          <strong>Examples:</strong> IN, OUT<br/>\n          <strong>Usage:</strong> IN AL, 60h (Read from port 60h)</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udfaf Instruction Format</h2>\n      <p>Every instruction has a specific format that tells the CPU what to do:</p>\n      <div class="info-box">\n        <strong>Basic Instruction Structure:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;"><strong>[OPCODE] [OPERAND1] [OPERAND2]</strong></p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>OPCODE:</strong> Operation code - what to do (ADD, MOV, etc.)</li>\n          <li><strong>OPERAND1:</strong> First data item (destination)</li>\n          <li><strong>OPERAND2:</strong> Second data item (source)</li>\n        </ul>\n      </div>\n\n      <h2>\ud83d\udcbb Example: x86 Instructions</h2>\n      <div class="code-box">\n        <span class="code-comment">; Data Transfer Instructions</span><br/>\n        <span class="code-keyword">MOV</span> AX, <span class="code-number">100</span>    <span class="code-comment">; Move 100 into AX register</span><br/>\n        <span class="code-keyword">MOV</span> BX, AX      <span class="code-comment">; Copy AX to BX</span><br/>\n        <br/>\n        <span class="code-comment">; Arithmetic Instructions</span><br/>\n        <span class="code-keyword">ADD</span> AX, <span class="code-number">50</span>     <span class="code-comment">; AX = AX + 50</span><br/>\n        <span class="code-keyword">SUB</span> BX, <span class="code-number">25</span>     <span class="code-comment">; BX = BX - 25</span><br/>\n        <span class="code-keyword">MUL</span> CX          <span class="code-comment">; AX = AX * CX</span><br/>\n        <br/>\n        <span class="code-comment">; Logical Instructions</span><br/>\n        <span class="code-keyword">AND</span> AX, <span class="code-number">0x00FF</span> <span class="code-comment">; Keep only lower 8 bits</span><br/>\n        <span class="code-keyword">OR</span>  BX, <span class="code-number">0x8000</span> <span class="code-comment">; Set highest bit</span><br/>\n        <br/>\n        <span class="code-comment">; Control Flow</span><br/>\n        <span class="code-keyword">CMP</span> AX, <span class="code-number">0</span>      <span class="code-comment">; Compare AX with 0</span><br/>\n        <span class="code-keyword">JZ</span>  ZERO_LABEL  <span class="code-comment">; Jump if Zero flag is set</span><br/>\n        <span class="code-keyword">CALL</span> FUNCTION   <span class="code-comment">; Call a subroutine</span><br/>\n        <span class="code-keyword">RET</span>             <span class="code-comment">; Return from subroutine</span>\n      </div>\n\n      <h2>\ud83c\udfd7\ufe0f Instruction Encoding</h2>\n      <p>Instructions are encoded as binary numbers in memory. For example:</p>\n      <div class="info-box">\n        <strong>Example: ADD AX, BX in x86</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">\n        <strong>Assembly:</strong> ADD AX, BX<br/>\n        <strong>Machine Code:</strong> 01 D8 (in hexadecimal)<br/>\n        <strong>Binary:</strong> 00000001 11011000\n        </p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>01:</strong> Opcode for ADD</li>\n          <li><strong>D8:</strong> Specifies AX and BX registers</li>\n        </ul>\n      </div>\n\n      <h2>\ud83d\udcca Operand Types</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfaf</span>\n          <h4>Immediate</h4>\n          <p>Constant value in instruction<br/>\n          <strong>Example:</strong> MOV AX, 100<br/>\n          (100 is immediate value)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce6</span>\n          <h4>Register</h4>\n          <p>Data in CPU register<br/>\n          <strong>Example:</strong> ADD AX, BX<br/>\n          (AX and BX are registers)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccd</span>\n          <h4>Direct</h4>\n          <p>Memory address specified<br/>\n          <strong>Example:</strong> MOV AX, [1000h]<br/>\n          (Read from address 1000h)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd17</span>\n          <h4>Indirect</h4>\n          <p>Address in register<br/>\n          <strong>Example:</strong> MOV AX, [BX]<br/>\n          (BX contains the address)</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udf1f Popular ISA Families</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbb</span>\n          <h4>x86/x86-64</h4>\n          <p><strong>Type:</strong> CISC<br/>\n          <strong>Used in:</strong> Intel, AMD processors<br/>\n          <strong>Bits:</strong> 32-bit (x86), 64-bit (x86-64)<br/>\n          <strong>Market:</strong> Desktop, laptop, server</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcf1</span>\n          <h4>ARM</h4>\n          <p><strong>Type:</strong> RISC<br/>\n          <strong>Used in:</strong> Smartphones, tablets, Apple M-series<br/>\n          <strong>Bits:</strong> 32-bit (ARMv7), 64-bit (ARMv8)<br/>\n          <strong>Market:</strong> Mobile, embedded, now PCs</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfae</span>\n          <h4>MIPS</h4>\n          <p><strong>Type:</strong> RISC<br/>\n          <strong>Used in:</strong> Routers, game consoles<br/>\n          <strong>Bits:</strong> 32-bit, 64-bit<br/>\n          <strong>Market:</strong> Embedded systems</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udd93</span>\n          <h4>RISC-V</h4>\n          <p><strong>Type:</strong> RISC<br/>\n          <strong>Used in:</strong> New designs, research<br/>\n          <strong>Bits:</strong> 32, 64, 128-bit<br/>\n          <strong>Market:</strong> Open-source, growing!</p>\n        </div>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">The x86 ISA is over 40 years old! Modern Intel processors still support instructions from the original 8086 (1978), ensuring backward compatibility. Your latest gaming PC can still run programs from the 1980s!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> What does ISA stand for?</p>\n        <ul>\n          <li>A) Integrated System Architecture</li>\n          <li>B) Instruction Set Architecture \u2713</li>\n          <li>C) Internal Storage Array</li>\n          <li>D) Input System Adapter</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Instruction Set Architecture!</em></p>\n\n        <p style="margin-top: 20px;"><strong>Question 2:</strong> Which instruction type moves data?</p>\n        <ul>\n          <li>A) ADD</li>\n          <li>B) JMP</li>\n          <li>C) MOV \u2713</li>\n          <li>D) CMP</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: C - MOV is a data transfer instruction!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What does ISA stand for?",options:["Integrated System Architecture","Instruction Set Architecture","Internal Storage Array","Input System Adapter"],answer:1},{q:"Which instruction type moves data?",options:["ADD","JMP","MOV","CMP"],answer:2},{q:"Which ISA is used in most smartphones?",options:["x86","ARM","MIPS","PowerPC"],answer:1}],tools:[{name:"Instruction Simulator",type:"interactive",description:"Execute assembly instructions step-by-step"}]},{title:"Memory Organization",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .info-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2); }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; }\n      .microprocessor-lesson li { margin-bottom: 10px; color: #555; line-height: 1.6; }\n      .highlight { background: linear-gradient(120deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%); padding: 2px 6px; border-radius: 4px; font-weight: 600; color: #667eea; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .memory-pyramid { text-align: center; margin: 30px 0; }\n      .memory-level { margin: 10px auto; padding: 15px; border-radius: 8px; max-width: 600px; }\n      .level-1 { background: #ff6b6b; color: white; max-width: 200px; }\n      .level-2 { background: #ffa500; color: white; max-width: 300px; }\n      .level-3 { background: #ffd700; max-width: 400px; }\n      .level-4 { background: #90ee90; max-width: 500px; }\n      .level-5 { background: #87ceeb; max-width: 600px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83d\udcbe</div>\n        <p>Memory Organization: Understanding how data is stored, accessed, and managed in computer systems!</p>\n      </div>\n\n      <h2>\ud83d\udd0d Memory Hierarchy</h2>\n      <p>Computer memory is organized in a hierarchy from fastest/smallest to slowest/largest:</p>\n      \n      <div class="memory-pyramid">\n        <div class="memory-level level-1"><strong>Registers</strong><br/>Fastest \u2022 Smallest \u2022 Most Expensive</div>\n        <div class="memory-level level-2"><strong>Cache (L1, L2, L3)</strong><br/>Very Fast \u2022 Small</div>\n        <div class="memory-level level-3"><strong>Main Memory (RAM)</strong><br/>Fast \u2022 Medium Size</div>\n        <div class="memory-level level-4"><strong>Secondary Storage (SSD)</strong><br/>Moderate Speed \u2022 Large</div>\n        <div class="memory-level level-5"><strong>Tertiary Storage (HDD, Cloud)</strong><br/>Slowest \u2022 Largest \u2022 Cheapest</div>\n      </div>\n\n      <h2>\ud83d\udcca Types of Memory</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>RAM (Random Access)</h4>\n          <p><strong>Type:</strong> Volatile (loses data when power off)<br/>\n          <strong>Speed:</strong> Fast (nanoseconds)<br/>\n          <strong>Use:</strong> Active programs & data<br/>\n          <strong>Size:</strong> 4GB - 128GB typical</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbf</span>\n          <h4>ROM (Read Only)</h4>\n          <p><strong>Type:</strong> Non-volatile (keeps data)<br/>\n          <strong>Speed:</strong> Fast<br/>\n          <strong>Use:</strong> BIOS, firmware<br/>\n          <strong>Variants:</strong> PROM, EPROM, EEPROM</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\ude80</span>\n          <h4>Cache Memory</h4>\n          <p><strong>Type:</strong> Volatile, SRAM-based<br/>\n          <strong>Speed:</strong> Extremely fast<br/>\n          <strong>Use:</strong> Frequently accessed data<br/>\n          <strong>Levels:</strong> L1 (fastest), L2, L3</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbd</span>\n          <h4>Virtual Memory</h4>\n          <p><strong>Type:</strong> Uses disk as RAM extension<br/>\n          <strong>Speed:</strong> Slow<br/>\n          <strong>Use:</strong> When RAM is full<br/>\n          <strong>Technique:</strong> Paging & swapping</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udfaf Memory Addressing</h2>\n      <div class="info-box">\n        <strong>\ud83d\udca1 Address Space:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">The address space is the range of memory addresses a processor can access:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>8-bit address:</strong> 2^8 = 256 bytes</li>\n          <li><strong>16-bit address:</strong> 2^16 = 64 KB</li>\n          <li><strong>32-bit address:</strong> 2^32 = 4 GB</li>\n          <li><strong>64-bit address:</strong> 2^64 = 16 Exabytes!</li>\n        </ul>\n      </div>\n\n      <h2>\ud83d\udd04 Memory Access Methods</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfaf</span>\n          <h4>Random Access</h4>\n          <p>Any location accessed in constant time. RAM, cache, registers use this.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u27a1\ufe0f</span>\n          <h4>Sequential Access</h4>\n          <p>Must access in order. Magnetic tapes use this method.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0d</span>\n          <h4>Direct Access</h4>\n          <p>Jump to vicinity, then search. Hard drives use this.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd17</span>\n          <h4>Associative Access</h4>\n          <p>Search by content, not address. Cache uses this.</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udce6 Memory Segmentation</h2>\n      <p>Memory is divided into logical segments:</p>\n      <ul>\n        <li>\ud83d\udcdd <strong>Code Segment:</strong> Program instructions</li>\n        <li>\ud83d\udcca <strong>Data Segment:</strong> Global and static variables</li>\n        <li>\ud83d\udcda <strong>Stack Segment:</strong> Function calls, local variables</li>\n        <li>\ud83c\udfaf <strong>Heap Segment:</strong> Dynamic memory allocation</li>\n      </ul>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Modern CPUs can access L1 cache in about 1 nanosecond, but accessing main RAM takes 100 nanoseconds - 100 times slower! That\'s why cache is so important for performance.</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question 1:</strong> Which memory is fastest?</p>\n        <ul>\n          <li>A) RAM</li>\n          <li>B) Cache \u2713</li>\n          <li>C) SSD</li>\n          <li>D) HDD</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Cache memory is the fastest!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"Which memory is fastest?",options:["RAM","Cache","SSD","HDD"],answer:1},{q:"How much memory can a 32-bit address access?",options:["256 MB","1 GB","4 GB","16 GB"],answer:2},{q:"Which memory is volatile?",options:["ROM","RAM","Flash","EPROM"],answer:1}],tools:[{name:"Memory Hierarchy Visualizer",type:"interactive",description:"Explore memory levels and access times"}]},{title:"Addressing Modes",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .info-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2); }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; }\n      .code-box { background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 10px; margin: 20px 0; font-family: \'Courier New\', monospace; }\n      .code-comment { color: #6a9955; }\n      .code-keyword { color: #569cd6; }\n      .code-number { color: #b5cea8; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83d\udccd</div>\n        <p>Addressing Modes: Different ways the CPU can access data and operands for instructions!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What are Addressing Modes?</h2>\n      <p>Addressing modes define how the processor locates the operands (data) for an instruction. It\'s like different ways to find a house - by street address, GPS coordinates, or following directions!</p>\n\n      <h2>\ud83d\udcda Common Addressing Modes</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfaf</span>\n          <h4>Immediate</h4>\n          <p><strong>Data:</strong> In the instruction itself<br/>\n          <strong>Example:</strong> MOV AX, 100<br/>\n          <strong>Use:</strong> Constants, quick values</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce6</span>\n          <h4>Register</h4>\n          <p><strong>Data:</strong> In CPU register<br/>\n          <strong>Example:</strong> MOV AX, BX<br/>\n          <strong>Use:</strong> Fastest access</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccd</span>\n          <h4>Direct</h4>\n          <p><strong>Data:</strong> At memory address<br/>\n          <strong>Example:</strong> MOV AX, [5000h]<br/>\n          <strong>Use:</strong> Global variables</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd17</span>\n          <h4>Indirect</h4>\n          <p><strong>Data:</strong> Address in register<br/>\n          <strong>Example:</strong> MOV AX, [BX]<br/>\n          <strong>Use:</strong> Pointers, arrays</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcca</span>\n          <h4>Indexed</h4>\n          <p><strong>Data:</strong> Base + Index<br/>\n          <strong>Example:</strong> MOV AX, [BX+SI]<br/>\n          <strong>Use:</strong> Array access</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd04</span>\n          <h4>Relative</h4>\n          <p><strong>Data:</strong> PC + Offset<br/>\n          <strong>Example:</strong> JMP LABEL<br/>\n          <strong>Use:</strong> Branching, loops</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udcbb Examples in Assembly</h2>\n      <div class="code-box">\n        <span class="code-comment">; Immediate Addressing</span><br/>\n        <span class="code-keyword">MOV</span> AX, <span class="code-number">100</span>      <span class="code-comment">; AX = 100 (constant)</span><br/>\n        <br/>\n        <span class="code-comment">; Register Addressing</span><br/>\n        <span class="code-keyword">MOV</span> BX, AX       <span class="code-comment">; BX = AX</span><br/>\n        <br/>\n        <span class="code-comment">; Direct Addressing</span><br/>\n        <span class="code-keyword">MOV</span> AX, [<span class="code-number">5000h</span>] <span class="code-comment">; AX = Memory[5000h]</span><br/>\n        <br/>\n        <span class="code-comment">; Indirect Addressing</span><br/>\n        <span class="code-keyword">MOV</span> BX, <span class="code-number">5000h</span>    <span class="code-comment">; BX = 5000h</span><br/>\n        <span class="code-keyword">MOV</span> AX, [BX]     <span class="code-comment">; AX = Memory[BX]</span><br/>\n        <br/>\n        <span class="code-comment">; Indexed Addressing (Array access)</span><br/>\n        <span class="code-keyword">MOV</span> BX, <span class="code-number">1000h</span>    <span class="code-comment">; Base address</span><br/>\n        <span class="code-keyword">MOV</span> SI, <span class="code-number">4</span>        <span class="code-comment">; Index (4th element)</span><br/>\n        <span class="code-keyword">MOV</span> AX, [BX+SI]  <span class="code-comment">; AX = Memory[1000h + 4]</span>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Pro Tip:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Indexed addressing is perfect for accessing arrays! If you have an array starting at address 1000h and each element is 2 bytes, you can access element \'i\' using [1000h + i*2].</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question:</strong> Which addressing mode is fastest?</p>\n        <ul>\n          <li>A) Direct</li>\n          <li>B) Register \u2713</li>\n          <li>C) Indirect</li>\n          <li>D) Indexed</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Register addressing is fastest!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"Which addressing mode is fastest?",options:["Direct","Register","Indirect","Indexed"],answer:1},{q:"In MOV AX, 100, what addressing mode is used?",options:["Immediate","Direct","Register","Indirect"],answer:0}],tools:[{name:"Addressing Mode Simulator",type:"interactive",description:"Visualize different addressing modes"}]},{title:"Assembly Language Basics",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .code-box { background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 10px; margin: 20px 0; font-family: \'Courier New\', monospace; }\n      .code-comment { color: #6a9955; }\n      .code-keyword { color: #569cd6; }\n      .code-number { color: #b5cea8; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\u2328\ufe0f</div>\n        <p>Assembly Language: The human-readable form of machine code - programming at the lowest level!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is Assembly Language?</h2>\n      <p>Assembly language is a low-level programming language that uses mnemonics (human-readable names) instead of binary machine code. It\'s one step above pure 1s and 0s!</p>\n\n      <h2>\ud83d\udcdd Basic Assembly Program Structure</h2>\n      <div class="code-box">\n        <span class="code-comment">; Simple Assembly Program</span><br/>\n        <span class="code-keyword">.MODEL</span> SMALL          <span class="code-comment">; Memory model</span><br/>\n        <span class="code-keyword">.STACK</span> <span class="code-number">100h</span>          <span class="code-comment">; Stack size</span><br/>\n        <span class="code-keyword">.DATA</span>                  <span class="code-comment">; Data segment</span><br/>\n        &nbsp;&nbsp;msg DB \'Hello!$\'     <span class="code-comment">; Define string</span><br/>\n        <br/>\n        <span class="code-keyword">.CODE</span>                  <span class="code-comment">; Code segment</span><br/>\n        MAIN PROC                <span class="code-comment">; Main procedure</span><br/>\n        &nbsp;&nbsp;<span class="code-keyword">MOV</span> AX, @DATA      <span class="code-comment">; Initialize DS</span><br/>\n        &nbsp;&nbsp;<span class="code-keyword">MOV</span> DS, AX<br/>\n        &nbsp;&nbsp;<br/>\n        &nbsp;&nbsp;<span class="code-keyword">MOV</span> AH, <span class="code-number">09h</span>        <span class="code-comment">; Display string</span><br/>\n        &nbsp;&nbsp;<span class="code-keyword">LEA</span> DX, msg<br/>\n        &nbsp;&nbsp;<span class="code-keyword">INT</span> <span class="code-number">21h</span>            <span class="code-comment">; DOS interrupt</span><br/>\n        &nbsp;&nbsp;<br/>\n        &nbsp;&nbsp;<span class="code-keyword">MOV</span> AH, <span class="code-number">4Ch</span>        <span class="code-comment">; Exit program</span><br/>\n        &nbsp;&nbsp;<span class="code-keyword">INT</span> <span class="code-number">21h</span><br/>\n        MAIN ENDP<br/>\n        <span class="code-keyword">END</span> MAIN\n      </div>\n\n      <h2>\ud83c\udfaf Common Assembly Instructions</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udce5</span>\n          <h4>Data Movement</h4>\n          <p>MOV, PUSH, POP, LEA, XCHG</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u2795</span>\n          <h4>Arithmetic</h4>\n          <p>ADD, SUB, MUL, DIV, INC, DEC</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd00</span>\n          <h4>Logical</h4>\n          <p>AND, OR, XOR, NOT, SHL, SHR</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd04</span>\n          <h4>Control Flow</h4>\n          <p>JMP, CALL, RET, JZ, JNZ, LOOP</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udca1 Example: Adding Two Numbers</h2>\n      <div class="code-box">\n        <span class="code-comment">; Add two numbers</span><br/>\n        <span class="code-keyword">MOV</span> AX, <span class="code-number">10</span>         <span class="code-comment">; AX = 10</span><br/>\n        <span class="code-keyword">MOV</span> BX, <span class="code-number">20</span>         <span class="code-comment">; BX = 20</span><br/>\n        <span class="code-keyword">ADD</span> AX, BX         <span class="code-comment">; AX = AX + BX = 30</span><br/>\n        <span class="code-keyword">MOV</span> [result], AX  <span class="code-comment">; Store result</span>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Did You Know?</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Assembly language is still used today for operating system kernels, device drivers, embedded systems, and performance-critical code where every CPU cycle matters!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question:</strong> What does MOV stand for?</p>\n        <ul>\n          <li>A) Move \u2713</li>\n          <li>B) Modify</li>\n          <li>C) Multiply</li>\n          <li>D) Monitor</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - MOV moves/copies data!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What does MOV instruction do?",options:["Moves data","Multiplies","Modifies","Monitors"],answer:0},{q:"Which is a control flow instruction?",options:["ADD","MOV","JMP","AND"],answer:2}],tools:[{name:"Assembly Code Editor",type:"interactive",description:"Write and execute assembly code"}]},{title:"Interrupts & I/O Operations",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83d\udd14</div>\n        <p>Interrupts: How the CPU responds to urgent events and communicates with external devices!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What are Interrupts?</h2>\n      <p>An interrupt is a signal that temporarily stops the CPU\'s current work to handle an urgent event. Think of it like a phone call interrupting your work - you pause, handle the call, then resume!</p>\n\n      <h2>\ud83d\udcda Types of Interrupts</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd27</span>\n          <h4>Hardware Interrupts</h4>\n          <p><strong>Source:</strong> External devices<br/>\n          <strong>Examples:</strong> Keyboard press, mouse click, timer<br/>\n          <strong>Type:</strong> Asynchronous (unpredictable)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcbb</span>\n          <h4>Software Interrupts</h4>\n          <p><strong>Source:</strong> Program instructions<br/>\n          <strong>Examples:</strong> INT 21h (DOS), system calls<br/>\n          <strong>Type:</strong> Synchronous (predictable)</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a0\ufe0f</span>\n          <h4>Exceptions</h4>\n          <p><strong>Source:</strong> Error conditions<br/>\n          <strong>Examples:</strong> Divide by zero, page fault<br/>\n          <strong>Type:</strong> Synchronous</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udea8</span>\n          <h4>Non-Maskable (NMI)</h4>\n          <p><strong>Source:</strong> Critical hardware<br/>\n          <strong>Examples:</strong> Memory errors, power failure<br/>\n          <strong>Type:</strong> Cannot be disabled</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udd04 Interrupt Handling Process</h2>\n      <div class="info-box">\n        <strong>\ud83d\udca1 The Interrupt Cycle:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">When an interrupt occurs:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>1. Save State:</strong> Push registers and flags to stack</li>\n          <li><strong>2. Identify:</strong> Determine interrupt type/number</li>\n          <li><strong>3. Vector:</strong> Jump to Interrupt Service Routine (ISR)</li>\n          <li><strong>4. Execute:</strong> Run the ISR code</li>\n          <li><strong>5. Restore:</strong> Pop registers and flags from stack</li>\n          <li><strong>6. Resume:</strong> Return to interrupted program</li>\n        </ul>\n      </div>\n\n      <h2>\ud83d\udce5 I/O Operations</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcca</span>\n          <h4>Programmed I/O</h4>\n          <p>CPU directly controls I/O. Simple but CPU waits (polling).</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd14</span>\n          <h4>Interrupt-Driven I/O</h4>\n          <p>Device signals CPU when ready. CPU can do other work!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\ude80</span>\n          <h4>DMA (Direct Memory Access)</h4>\n          <p>Device transfers data directly to memory without CPU!</p>\n        </div>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Your computer handles thousands of interrupts per second - from keyboard, mouse, network, disk, timer, and more. Modern CPUs can prioritize interrupts so critical events are handled first!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question:</strong> What is an ISR?</p>\n        <ul>\n          <li>A) Interrupt Service Routine \u2713</li>\n          <li>B) Internal System Register</li>\n          <li>C) Input Signal Receiver</li>\n          <li>D) Instruction Set Reference</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - ISR handles interrupts!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What is an ISR?",options:["Interrupt Service Routine","Internal System Register","Input Signal Receiver","Instruction Set Reference"],answer:0},{q:"Which interrupt cannot be disabled?",options:["Hardware","Software","NMI","Timer"],answer:2}],tools:[{name:"Interrupt Simulator",type:"interactive",description:"Visualize interrupt handling"}]},{title:"Pipelining & Performance",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .pipeline-stage { display: inline-block; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px 25px; margin: 5px; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\u26a1</div>\n        <p>Pipelining: Making processors faster by overlapping instruction execution - like an assembly line!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is Pipelining?</h2>\n      <p>Pipelining is a technique where multiple instructions are overlapped in execution. Think of it like a car assembly line - while one car gets painted, another gets its engine installed!</p>\n\n      <h2>\ud83c\udfed Pipeline Stages</h2>\n      <div style="text-align: center; margin: 30px 0;">\n        <div class="pipeline-stage">FETCH</div>\n        <div class="pipeline-stage">DECODE</div>\n        <div class="pipeline-stage">EXECUTE</div>\n        <div class="pipeline-stage">MEMORY</div>\n        <div class="pipeline-stage">WRITE-BACK</div>\n      </div>\n\n      <div class="info-box">\n        <strong>\ud83d\udca1 5-Stage Pipeline:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">Modern processors use a 5-stage pipeline:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>IF (Instruction Fetch):</strong> Get instruction from memory</li>\n          <li><strong>ID (Instruction Decode):</strong> Decode and read registers</li>\n          <li><strong>EX (Execute):</strong> Perform ALU operation</li>\n          <li><strong>MEM (Memory Access):</strong> Read/write memory if needed</li>\n          <li><strong>WB (Write Back):</strong> Write result to register</li>\n        </ul>\n      </div>\n\n      <h2>\u26a0\ufe0f Pipeline Hazards</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcca</span>\n          <h4>Data Hazards</h4>\n          <p>Instruction needs data from previous instruction that hasn\'t finished yet. Solution: Forwarding or stalling.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd00</span>\n          <h4>Control Hazards</h4>\n          <p>Branch instructions change program flow. Solution: Branch prediction!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfd7\ufe0f</span>\n          <h4>Structural Hazards</h4>\n          <p>Hardware resource conflict. Solution: Duplicate resources or stall.</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\ude80 Performance Improvements</h2>\n      <ul>\n        <li>\u26a1 <strong>Superscalar:</strong> Multiple pipelines working in parallel</li>\n        <li>\ud83d\udd2e <strong>Branch Prediction:</strong> Guess which way a branch will go</li>\n        <li>\ud83d\udce6 <strong>Out-of-Order Execution:</strong> Execute instructions when ready, not in order</li>\n        <li>\ud83c\udfaf <strong>Speculative Execution:</strong> Execute instructions before knowing if needed</li>\n      </ul>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Modern CPUs can have pipelines 20+ stages deep and execute 4-6 instructions per clock cycle! Some processors can have over 100 instructions in flight simultaneously!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question:</strong> What is the main benefit of pipelining?</p>\n        <ul>\n          <li>A) Reduces power consumption</li>\n          <li>B) Increases throughput \u2713</li>\n          <li>C) Simplifies design</li>\n          <li>D) Reduces cost</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Pipelining increases instruction throughput!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What is the main benefit of pipelining?",options:["Reduces power","Increases throughput","Simplifies design","Reduces cost"],answer:1},{q:"How many stages in a typical RISC pipeline?",options:["3","5","10","20"],answer:1}],tools:[{name:"Pipeline Visualizer",type:"interactive",description:"See instructions flowing through pipeline"}]},{title:"Cache Memory & Optimization",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83d\udcbe</div>\n        <p>Cache Memory: The secret weapon that makes modern processors blazingly fast!</p>\n      </div>\n\n      <h2>\ud83d\udd0d What is Cache?</h2>\n      <p>Cache is a small, ultra-fast memory that stores frequently accessed data. It\'s like keeping your most-used tools on your desk instead of in the garage!</p>\n\n      <h2>\ud83d\udcca Cache Levels</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\ude80</span>\n          <h4>L1 Cache</h4>\n          <p><strong>Size:</strong> 32-64 KB per core<br/>\n          <strong>Speed:</strong> 1-2 ns (fastest!)<br/>\n          <strong>Location:</strong> Inside each CPU core<br/>\n          <strong>Split:</strong> Separate for data & instructions</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>L2 Cache</h4>\n          <p><strong>Size:</strong> 256 KB - 1 MB per core<br/>\n          <strong>Speed:</strong> 3-10 ns<br/>\n          <strong>Location:</strong> Per core or shared<br/>\n          <strong>Purpose:</strong> Backup for L1</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udca8</span>\n          <h4>L3 Cache</h4>\n          <p><strong>Size:</strong> 8-64 MB (shared)<br/>\n          <strong>Speed:</strong> 10-20 ns<br/>\n          <strong>Location:</strong> Shared by all cores<br/>\n          <strong>Purpose:</strong> Reduce RAM access</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udfaf Cache Mapping Techniques</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udccd</span>\n          <h4>Direct Mapped</h4>\n          <p>Each memory block maps to exactly one cache line. Simple but can cause conflicts.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd04</span>\n          <h4>Fully Associative</h4>\n          <p>Any memory block can go anywhere in cache. Flexible but complex and expensive.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u2696\ufe0f</span>\n          <h4>Set Associative</h4>\n          <p>Compromise: N-way set associative. Most common in modern CPUs (4-way, 8-way).</p>\n        </div>\n      </div>\n\n      <h2>\ud83d\udcc8 Cache Performance</h2>\n      <div class="info-box">\n        <strong>\ud83d\udca1 Key Metrics:</strong>\n        <p style="margin-top: 10px; margin-bottom: 10px;">Cache performance is measured by:</p>\n        <ul style="margin-bottom: 0;">\n          <li><strong>Hit Rate:</strong> % of accesses found in cache (want high!)</li>\n          <li><strong>Miss Rate:</strong> % of accesses not in cache (want low!)</li>\n          <li><strong>Hit Time:</strong> Time to access cache</li>\n          <li><strong>Miss Penalty:</strong> Time to fetch from RAM on miss</li>\n        </ul>\n      </div>\n\n      <h2>\ud83d\udd04 Cache Replacement Policies</h2>\n      <ul>\n        <li>\ud83d\udd50 <strong>LRU (Least Recently Used):</strong> Replace least recently accessed</li>\n        <li>\ud83c\udfb2 <strong>Random:</strong> Replace random entry</li>\n        <li>\ud83d\udcca <strong>LFU (Least Frequently Used):</strong> Replace least frequently accessed</li>\n        <li>\u23f0 <strong>FIFO:</strong> Replace oldest entry</li>\n      </ul>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Amazing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">A cache hit can be 100x faster than accessing RAM! A modern CPU with 95% cache hit rate can be 20x faster than one with 75% hit rate, even with the same clock speed!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question:</strong> Which cache level is fastest?</p>\n        <ul>\n          <li>A) L1 \u2713</li>\n          <li>B) L2</li>\n          <li>C) L3</li>\n          <li>D) All same speed</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: A - L1 cache is the fastest!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"Which cache level is fastest?",options:["L1","L2","L3","All same"],answer:0},{q:"What does LRU stand for?",options:["Last Recently Used","Least Recently Used","Low Rate Usage","Long Range Update"],answer:1}],tools:[{name:"Cache Simulator",type:"interactive",description:"Visualize cache hits and misses"}]},{title:"Modern Processor Technologies",content:'\n    <style>\n      .microprocessor-lesson { padding: 0; margin: 0; }\n      .microprocessor-lesson h2 { color: #667eea; margin-top: 40px; margin-bottom: 20px; font-size: 1.8em; border-left: 5px solid #667eea; padding-left: 15px; }\n      .hero-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 15px; padding: 30px; margin: 30px 0; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); }\n      .info-box { background: #f8f9fa; border-left: 5px solid #667eea; padding: 20px; margin: 25px 0; border-radius: 8px; }\n      .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }\n      .info-card { background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); padding: 25px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.2); transition: all 0.3s ease; }\n      .card-icon { font-size: 50px; margin-bottom: 15px; display: block; }\n      .info-card h4 { color: #667eea; margin-bottom: 10px; font-size: 1.2em; }\n      .microprocessor-lesson p { color: #333; margin-bottom: 15px; font-size: 1.05em; line-height: 1.7; }\n      .microprocessor-lesson ul { margin: 15px 0 15px 25px; }\n      .quiz-box { background: #fff9e6; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #ffd700; }\n      .fun-fact { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 20px; margin: 25px 0; border-radius: 8px; }\n    </style>\n\n    <div class="microprocessor-lesson">\n      <div class="hero-box">\n        <div style="font-size: 60px; margin-bottom: 15px;">\ud83d\ude80</div>\n        <p>Modern Processor Technologies: Cutting-edge innovations powering today\'s computing revolution!</p>\n      </div>\n\n      <h2>\ud83d\udd0d Multi-Core Processors</h2>\n      <p>Modern CPUs have multiple processing cores on a single chip, allowing true parallel processing!</p>\n\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udc65</span>\n          <h4>Dual-Core</h4>\n          <p>2 cores - Basic multitasking</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfaf</span>\n          <h4>Quad-Core</h4>\n          <p>4 cores - Standard for PCs</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>Octa-Core</h4>\n          <p>8 cores - Gaming & content creation</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\ude80</span>\n          <h4>64+ Cores</h4>\n          <p>Server & workstation processors</p>\n        </div>\n      </div>\n\n      <h2>\ud83e\udde0 AI & Machine Learning Acceleration</h2>\n      <div class="info-box">\n        <strong>\ud83d\udca1 Neural Processing Units (NPUs):</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">Modern processors include specialized AI accelerators for machine learning tasks, image processing, and neural networks!</p>\n      </div>\n\n      <h2>\ud83c\udfaf Advanced Technologies</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\u26a1</span>\n          <h4>Hyper-Threading</h4>\n          <p>One physical core appears as two logical cores. Intel\'s SMT technology.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd0b</span>\n          <h4>Dynamic Frequency</h4>\n          <p>CPU adjusts clock speed based on workload to save power (Turbo Boost, Precision Boost).</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udfae</span>\n          <h4>Integrated Graphics</h4>\n          <p>GPU built into CPU chip (Intel UHD, AMD Radeon Graphics).</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcca</span>\n          <h4>SIMD Instructions</h4>\n          <p>Process multiple data with one instruction (AVX, SSE, NEON).</p>\n        </div>\n      </div>\n\n      <h2>\ud83c\udf1f Cutting-Edge Innovations</h2>\n      <ul>\n        <li>\ud83d\udd2c <strong>3nm Process:</strong> Transistors smaller than viruses!</li>\n        <li>\ud83e\uddca <strong>3D Stacking:</strong> Chiplets stacked vertically</li>\n        <li>\ud83d\udd10 <strong>Security Features:</strong> Hardware encryption, secure boot</li>\n        <li>\ud83c\udf10 <strong>Heterogeneous Computing:</strong> Big.LITTLE (performance + efficiency cores)</li>\n        <li>\ud83e\uddec <strong>Quantum Computing:</strong> The future of processing!</li>\n      </ul>\n\n      <h2>\ud83d\udcbb Modern Processor Examples</h2>\n      <div class="cards-grid">\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udc99</span>\n          <h4>Intel Core i9</h4>\n          <p>Up to 24 cores, 5.8 GHz boost. Gaming & professional workloads.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udd34</span>\n          <h4>AMD Ryzen 9</h4>\n          <p>Up to 16 cores, excellent multi-threading. Great value!</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83c\udf4e</span>\n          <h4>Apple M-Series</h4>\n          <p>ARM-based, incredible efficiency. Unified memory architecture.</p>\n        </div>\n        <div class="info-card">\n          <span class="card-icon">\ud83d\udcf1</span>\n          <h4>Qualcomm Snapdragon</h4>\n          <p>Mobile processors with 5G, AI, and graphics.</p>\n        </div>\n      </div>\n\n      <div class="fun-fact">\n        <strong>\ud83c\udf1f Mind-Blowing Fact:</strong>\n        <p style="margin-top: 10px; margin-bottom: 0;">A modern smartphone processor is more powerful than the supercomputers that guided Apollo 11 to the moon! The Apollo Guidance Computer had 2 MHz and 4KB RAM. Your phone has processors running at 3000+ MHz with 8GB+ RAM!</p>\n      </div>\n\n      <div class="quiz-box">\n        <h3>\ud83e\udde0 Test Your Knowledge!</h3>\n        <p><strong>Question:</strong> What does SMT stand for?</p>\n        <ul>\n          <li>A) Simple Multi-Threading</li>\n          <li>B) Simultaneous Multi-Threading \u2713</li>\n          <li>C) System Memory Transfer</li>\n          <li>D) Secure Mode Technology</li>\n        </ul>\n        <p style="margin-top: 15px;"><em>Answer: B - Simultaneous Multi-Threading (like Hyper-Threading)!</em></p>\n      </div>\n    </div>\n  ',questions:[{q:"What does SMT stand for?",options:["Simple Multi-Threading","Simultaneous Multi-Threading","System Memory Transfer","Secure Mode Technology"],answer:1},{q:"Which company makes M-series processors?",options:["Intel","AMD","Apple","Qualcomm"],answer:2}],tools:[{name:"Processor Comparison Tool",type:"interactive",description:"Compare modern processors"}]},{title:"\ud83c\udf89 Course Completed!",content:'\n    <style>\n      .completion-page {\n        text-align: center;\n        padding: 40px 20px;\n      }\n      \n      .trophy {\n        font-size: 120px;\n        animation: bounce 2s infinite;\n        margin: 30px 0;\n      }\n      \n      @keyframes bounce {\n        0%, 100% { transform: translateY(0); }\n        50% { transform: translateY(-20px); }\n      }\n      \n      .completion-title {\n        color: #667eea;\n        font-size: 2.5em;\n        margin: 20px 0;\n        font-weight: bold;\n      }\n      \n      .completion-message {\n        font-size: 1.3em;\n        color: #555;\n        margin: 20px 0;\n        line-height: 1.8;\n      }\n      \n      .achievement-box {\n        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);\n        border-radius: 20px;\n        padding: 40px;\n        margin: 40px auto;\n        max-width: 800px;\n        border: 3px solid #667eea;\n      }\n      \n      .skills-learned {\n        text-align: left;\n        margin: 30px auto;\n        max-width: 600px;\n      }\n      \n      .skills-learned h3 {\n        color: #667eea;\n        font-size: 1.8em;\n        margin-bottom: 20px;\n        text-align: center;\n      }\n      \n      .skills-learned ul {\n        list-style: none;\n        padding: 0;\n      }\n      \n      .skills-learned li {\n        background: white;\n        padding: 15px 20px;\n        margin: 10px 0;\n        border-radius: 10px;\n        border-left: 5px solid #667eea;\n        font-size: 1.1em;\n        box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n      }\n      \n      .skills-learned li::before {\n        content: "\u2713 ";\n        color: #4caf50;\n        font-weight: bold;\n        font-size: 1.3em;\n        margin-right: 10px;\n      }\n      \n      .next-steps {\n        background: #f8f9fa;\n        border-radius: 15px;\n        padding: 30px;\n        margin: 40px auto;\n        max-width: 700px;\n      }\n      \n      .next-steps h3 {\n        color: #764ba2;\n        margin-bottom: 20px;\n      }\n      \n      .next-steps p {\n        font-size: 1.1em;\n        line-height: 1.8;\n        color: #555;\n      }\n      \n      .celebration {\n        font-size: 50px;\n        margin: 20px 0;\n      }\n    </style>\n\n    <div class="completion-page">\n      <div class="trophy">\ud83c\udfc6</div>\n      \n      <h1 class="completion-title">Congratulations!</h1>\n      \n      <p class="completion-message">\n        You\'ve successfully completed the <strong>Microprocessor from Scratch</strong> course!<br/>\n        You\'ve mastered the fundamentals of how processors work and are ready to dive deeper into computer architecture!\n      </p>\n\n      <div class="achievement-box">\n        <div class="celebration">\ud83c\udf8a \ud83c\udf89 \ud83c\udf8a</div>\n        <h2 style="color: #667eea; margin: 20px 0;">You are now a Microprocessor Expert!</h2>\n        <p style="font-size: 1.2em; color: #555;">You\'ve gained deep knowledge of processor architecture, instruction sets, and modern computing technologies.</p>\n      </div>\n\n      <div class="skills-learned">\n        <h3>\ud83c\udfaf Skills You\'ve Mastered</h3>\n        <ul>\n          <li>Understanding microprocessor architecture and components</li>\n          <li>CPU organization: ALU, Control Unit, Registers, and Buses</li>\n          <li>Instruction Set Architecture (ISA) and instruction formats</li>\n          <li>Memory hierarchy and organization</li>\n          <li>Addressing modes and their applications</li>\n          <li>Assembly language programming basics</li>\n          <li>Interrupt handling and I/O operations</li>\n          <li>Pipelining and performance optimization</li>\n          <li>Cache memory and optimization techniques</li>\n          <li>Modern processor technologies and innovations</li>\n        </ul>\n      </div>\n\n      <div class="next-steps">\n        <h3>\ud83d\ude80 What\'s Next?</h3>\n        <p>\n          <strong>Continue Your Learning Journey:</strong><br/>\n          \u2022 Explore the <strong>Microcontroller Course</strong> to learn about embedded systems<br/>\n          \u2022 Study <strong>Computer Organization</strong> for deeper architectural knowledge<br/>\n          \u2022 Practice <strong>Assembly Language Programming</strong> with real projects<br/>\n          \u2022 Learn about <strong>Digital Logic Design</strong> to understand hardware<br/>\n          \u2022 Explore <strong>Operating Systems</strong> to see how software uses processors\n        </p>\n        <p style="margin-top: 20px;">\n          <strong>Apply Your Knowledge:</strong><br/>\n          \u2022 Build a simple CPU simulator<br/>\n          \u2022 Write assembly programs for different architectures<br/>\n          \u2022 Analyze processor specifications and compare performance<br/>\n          \u2022 Contribute to open-source processor projects like RISC-V\n        </p>\n      </div>\n\n      <div style="margin-top: 50px;">\n        <p style="font-size: 1.3em; color: #667eea; font-weight: bold;">\n          Keep Learning, Keep Growing! \ud83c\udf1f\n        </p>\n        <p style="font-size: 1.1em; color: #555; margin-top: 10px;">\n          The world of computer architecture is vast and exciting. You\'ve taken the first step on an amazing journey!\n        </p>\n      </div>\n    </div>\n  ',questions:[],tools:[]}]},microcontroller:{id:"microcontroller",title:"Microcontroller Course",description:"Learn embedded systems programming with hands-on microcontroller projects",color:"#E74C3C",icon:"\ud83c\udf9b\ufe0f",level:"Intermediate",duration:"7 hours",students:"980",sessions:[{title:"Introduction to Microcontrollers",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf9b\ufe0f</div><p>Microcontrollers: Complete computers on a single chip - the brain of embedded systems!</p></div><h2>\ud83d\udd0d What is a Microcontroller?</h2><p>A microcontroller is a compact integrated circuit designed to govern a specific operation in an embedded system. Unlike microprocessors, microcontrollers include CPU, memory, and I/O peripherals all on one chip!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83e\udde0</span><h4>CPU Core</h4><p>Processing unit (8-bit, 16-bit, 32-bit)</p></div><div class="info-card"><span class="card-icon">\ud83d\udcbe</span><h4>Memory</h4><p>Flash (program) + RAM (data) + EEPROM</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0c</span><h4>I/O Ports</h4><p>GPIO pins for interfacing with external devices</p></div><div class="info-card"><span class="card-icon">\u23f1\ufe0f</span><h4>Peripherals</h4><p>Timers, ADC, UART, SPI, I2C, PWM</p></div></div><h2>\ud83c\udfaf Popular Microcontroller Families</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd35</span><h4>Arduino (AVR/ARM)</h4><p>Beginner-friendly, huge community, easy programming</p></div><div class="info-card"><span class="card-icon">\ud83d\udfe2</span><h4>PIC</h4><p>Microchip\'s versatile MCUs, wide range of options</p></div><div class="info-card"><span class="card-icon">\ud83d\udd34</span><h4>STM32 (ARM Cortex)</h4><p>Powerful 32-bit MCUs, professional applications</p></div><div class="info-card"><span class="card-icon">\ud83d\udfe1</span><h4>ESP32</h4><p>WiFi + Bluetooth built-in, IoT applications</p></div></div><div class="fun-fact"><strong>\ud83c\udf1f Amazing Fact:</strong><p style="margin-top:10px;margin-bottom:0">Microcontrollers are everywhere! Your car has 50-100 microcontrollers controlling everything from engine management to airbags. Your home probably has 100+ microcontrollers in appliances, toys, and gadgets!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What makes a microcontroller different from a microprocessor?</p><ul><li>A) It\'s faster</li><li>B) It has everything on one chip \u2713</li><li>C) It\'s cheaper</li><li>D) It uses less power</li></ul><p style="margin-top:15px"><em>Answer: B - Microcontrollers integrate CPU, memory, and peripherals on one chip!</em></p></div></div>',questions:[{q:"What makes a microcontroller different from a microprocessor?",options:["It's faster","It has everything on one chip","It's cheaper","It uses less power"],answer:1}],tools:[{name:"MCU Explorer",type:"interactive",description:"Explore microcontroller architecture"}]},{title:"GPIO and Digital I/O",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd0c</div><p>GPIO: General Purpose Input/Output - Your microcontroller\'s connection to the physical world!</p></div><h2>\ud83d\udccd Understanding GPIO Pins</h2><p>GPIO pins are the fundamental interface between your microcontroller and external devices. Each pin can be configured as either an input or output, allowing you to read sensors or control actuators.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udce4</span><h4>Output Mode</h4><p>Drive LEDs, motors, relays - send signals OUT</p></div><div class="info-card"><span class="card-icon">\ud83d\udce5</span><h4>Input Mode</h4><p>Read buttons, switches, sensors - receive signals IN</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Digital Levels</h4><p>HIGH (3.3V/5V) or LOW (0V/GND)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Pull-up/Pull-down</h4><p>Internal resistors prevent floating inputs</p></div></div><h2>\ud83d\udca1 LED Blinking - The "Hello World" of MCUs</h2><div class="code-box">// Arduino Example - Blink LED on Pin 13<br>void setup() {<br>&nbsp;&nbsp;pinMode(13, OUTPUT); // Set pin 13 as output<br>}<br><br>void loop() {<br>&nbsp;&nbsp;digitalWrite(13, HIGH); // Turn LED on<br>&nbsp;&nbsp;delay(1000);           // Wait 1 second<br>&nbsp;&nbsp;digitalWrite(13, LOW);  // Turn LED off<br>&nbsp;&nbsp;delay(1000);           // Wait 1 second<br>}</div><h2>\ud83c\udfae Reading Button Input</h2><div class="code-box">// Reading a button with pull-up resistor<br>const int buttonPin = 2;<br>const int ledPin = 13;<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(buttonPin, INPUT_PULLUP);<br>&nbsp;&nbsp;pinMode(ledPin, OUTPUT);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;int buttonState = digitalRead(buttonPin);<br>&nbsp;&nbsp;if (buttonState == LOW) { // Button pressed<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledPin, HIGH);<br>&nbsp;&nbsp;} else {<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(ledPin, LOW);<br>&nbsp;&nbsp;}<br>}</div><div class="info-box"><strong>\u26a0\ufe0f Important Considerations:</strong><ul><li><strong>Current Limits:</strong> Most GPIO pins can source/sink 20-40mA max</li><li><strong>Voltage Levels:</strong> Match your MCU voltage (3.3V or 5V)</li><li><strong>Protection:</strong> Use current-limiting resistors for LEDs</li><li><strong>Debouncing:</strong> Mechanical switches need software/hardware debouncing</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Pro Tip:</strong><p style="margin-top:10px;margin-bottom:0">Always check your microcontroller\'s datasheet for maximum current ratings! Exceeding these limits can permanently damage your GPIO pins. When driving high-current loads, use transistors or MOSFETs as switches.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What happens when you configure a GPIO pin with INPUT_PULLUP?</p><ul><li>A) The pin outputs 5V</li><li>B) The pin is pulled to HIGH by internal resistor \u2713</li><li>C) The pin is pulled to LOW</li><li>D) The pin becomes an analog input</li></ul><p style="margin-top:15px"><em>Answer: B - INPUT_PULLUP enables an internal pull-up resistor, keeping the pin HIGH when not connected to GND!</em></p></div></div>',questions:[{q:"What happens when you configure a GPIO pin with INPUT_PULLUP?",options:["The pin outputs 5V","The pin is pulled to HIGH by internal resistor","The pin is pulled to LOW","The pin becomes an analog input"],answer:1}],tools:[{name:"GPIO Simulator",type:"interactive",description:"Simulate GPIO pin configurations"}]},{title:"Timers and Interrupts",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u23f1\ufe0f</div><p>Timers and Interrupts: Precise timing and responsive event handling!</p></div><h2>\u23f0 Hardware Timers</h2><p>Hardware timers are independent counters that run in the background, allowing precise timing without blocking your main program. Most microcontrollers have multiple timers with different capabilities.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd22</span><h4>Counter Mode</h4><p>Count external events or clock cycles</p></div><div class="info-card"><span class="card-icon">\u23f2\ufe0f</span><h4>Timer Mode</h4><p>Generate precise time delays and intervals</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>PWM Mode</h4><p>Generate pulse-width modulated signals</p></div><div class="info-card"><span class="card-icon">\ud83d\udcf8</span><h4>Capture Mode</h4><p>Measure external signal timing</p></div></div><h2>\u26a1 Interrupts - Event-Driven Programming</h2><p>Interrupts allow your microcontroller to respond immediately to important events without constantly checking (polling). When an interrupt occurs, the CPU pauses its current task, executes an interrupt service routine (ISR), then returns.</p><div class="code-box">// Timer Interrupt Example (Arduino)<br>volatile int counter = 0;<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;// Configure Timer1 for 1Hz interrupt<br>&nbsp;&nbsp;cli(); // Disable interrupts<br>&nbsp;&nbsp;TCCR1A = 0;<br>&nbsp;&nbsp;TCCR1B = 0;<br>&nbsp;&nbsp;TCNT1 = 0;<br>&nbsp;&nbsp;OCR1A = 15624; // 1Hz at 16MHz/1024 prescaler<br>&nbsp;&nbsp;TCCR1B |= (1 << WGM12); // CTC mode<br>&nbsp;&nbsp;TCCR1B |= (1 << CS12) | (1 << CS10); // 1024 prescaler<br>&nbsp;&nbsp;TIMSK1 |= (1 << OCIE1A); // Enable interrupt<br>&nbsp;&nbsp;sei(); // Enable interrupts<br>}<br><br>ISR(TIMER1_COMPA_vect) {<br>&nbsp;&nbsp;counter++;<br>&nbsp;&nbsp;Serial.println(counter);<br>}</div><h2>\ud83c\udfaf External Interrupts</h2><div class="code-box">// External Interrupt Example<br>const int buttonPin = 2; // INT0 on most Arduinos<br>volatile bool buttonPressed = false;<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(buttonPin, INPUT_PULLUP);<br>&nbsp;&nbsp;attachInterrupt(digitalPinToInterrupt(buttonPin),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonISR, FALLING);<br>}<br><br>void buttonISR() {<br>&nbsp;&nbsp;buttonPressed = true; // Set flag<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (buttonPressed) {<br>&nbsp;&nbsp;&nbsp;&nbsp;// Handle button press<br>&nbsp;&nbsp;&nbsp;&nbsp;buttonPressed = false;<br>&nbsp;&nbsp;}<br>}</div><div class="info-box"><strong>\u26a0\ufe0f ISR Best Practices:</strong><ul><li><strong>Keep it SHORT:</strong> ISRs should execute quickly</li><li><strong>No delays:</strong> Don\'t use delay() in ISRs</li><li><strong>Volatile variables:</strong> Use \'volatile\' for shared variables</li><li><strong>Minimal processing:</strong> Set flags, read values, then exit</li><li><strong>No Serial.print:</strong> Avoid in ISRs (can cause issues)</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Did You Know?</strong><p style="margin-top:10px;margin-bottom:0">Interrupts have priority levels! If multiple interrupts occur simultaneously, the CPU handles them based on priority. Some microcontrollers support nested interrupts, where higher-priority interrupts can interrupt lower-priority ISRs!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Why should you use the \'volatile\' keyword for variables shared between ISRs and main code?</p><ul><li>A) It makes the code run faster</li><li>B) It prevents compiler optimization that could cause issues \u2713</li><li>C) It\'s required for all global variables</li><li>D) It saves memory</li></ul><p style="margin-top:15px"><em>Answer: B - \'volatile\' tells the compiler the variable can change unexpectedly, preventing optimizations that assume it won\'t!</em></p></div></div>',questions:[{q:"Why should you use the 'volatile' keyword for variables shared between ISRs and main code?",options:["It makes the code run faster","It prevents compiler optimization that could cause issues","It's required for all global variables","It saves memory"],answer:1}],tools:[{name:"Timer Calculator",type:"interactive",description:"Calculate timer prescaler values"}]},{title:"Analog-to-Digital Conversion (ADC)",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udcca</div><p>ADC: Converting the analog world into digital data your MCU can process!</p></div><h2>\ud83c\udf0a Understanding ADC</h2><p>The Analog-to-Digital Converter (ADC) transforms continuous analog voltage signals into discrete digital values. This is essential for reading sensors like temperature sensors, potentiometers, light sensors, and more!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udf9a\ufe0f</span><h4>Resolution</h4><p>10-bit (0-1023), 12-bit (0-4095), 16-bit (0-65535)</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Reference Voltage</h4><p>Vref determines the input voltage range</p></div><div class="info-card"><span class="card-icon">\u23f1\ufe0f</span><h4>Sampling Rate</h4><p>How fast the ADC can take measurements</p></div><div class="info-card"><span class="card-icon">\ud83d\udccd</span><h4>Channels</h4><p>Multiple analog input pins (multiplexed)</p></div></div><h2>\ud83d\udd22 ADC Resolution Explained</h2><div class="info-box"><strong>10-bit ADC Example (Arduino Uno):</strong><ul><li><strong>Range:</strong> 0 to 1023 (2^10 = 1024 steps)</li><li><strong>Voltage Reference:</strong> 5V (default)</li><li><strong>Resolution:</strong> 5V / 1024 = 4.88mV per step</li><li><strong>Reading 2.5V:</strong> 2.5V / 4.88mV \u2248 512</li></ul></div><div class="code-box">// Reading an analog sensor (potentiometer)<br>const int sensorPin = A0;<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;// Optional: Set ADC reference voltage<br>&nbsp;&nbsp;// analogReference(DEFAULT); // 5V on Uno<br>}<br><br>void loop() {<br>&nbsp;&nbsp;int rawValue = analogRead(sensorPin); // 0-1023<br>&nbsp;&nbsp;float voltage = rawValue * (5.0 / 1023.0);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.print("Raw: ");<br>&nbsp;&nbsp;Serial.print(rawValue);<br>&nbsp;&nbsp;Serial.print(" | Voltage: ");<br>&nbsp;&nbsp;Serial.println(voltage);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;delay(500);<br>}</div><h2>\ud83c\udf21\ufe0f Practical Example: Temperature Sensor</h2><div class="code-box">// TMP36 Temperature Sensor<br>const int tempPin = A0;<br><br>void loop() {<br>&nbsp;&nbsp;int reading = analogRead(tempPin);<br>&nbsp;&nbsp;float voltage = reading * (5.0 / 1023.0);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// TMP36: 10mV per degree, 500mV offset<br>&nbsp;&nbsp;float temperatureC = (voltage - 0.5) * 100.0;<br>&nbsp;&nbsp;float temperatureF = (temperatureC * 9.0 / 5.0) + 32.0;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.print(temperatureC);<br>&nbsp;&nbsp;Serial.print("\xb0C | ");<br>&nbsp;&nbsp;Serial.print(temperatureF);<br>&nbsp;&nbsp;Serial.println("\xb0F");<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;delay(1000);<br>}</div><h2>\ud83d\udcc8 Improving ADC Accuracy</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>Averaging</h4><p>Take multiple samples and average them</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0c</span><h4>Proper Grounding</h4><p>Minimize noise with good ground connections</p></div><div class="info-card"><span class="card-icon">\u23f8\ufe0f</span><h4>Settling Time</h4><p>Allow time between channel switches</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>Calibration</h4><p>Use known references to calibrate readings</p></div></div><div class="code-box">// Averaging for better accuracy<br>int getAverageReading(int pin, int samples) {<br>&nbsp;&nbsp;long sum = 0;<br>&nbsp;&nbsp;for (int i = 0; i < samples; i++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;sum += analogRead(pin);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(10); // Small delay between samples<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;return sum / samples;<br>}<br><br>void loop() {<br>&nbsp;&nbsp;int avgValue = getAverageReading(A0, 10);<br>&nbsp;&nbsp;Serial.println(avgValue);<br>}</div><div class="fun-fact"><strong>\ud83c\udf1f Pro Tip:</strong><p style="margin-top:10px;margin-bottom:0">The first ADC reading after switching channels can be inaccurate! Always discard the first reading or add a small delay. Also, avoid reading ADC during PWM operations on the same chip - it can introduce noise!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> If you have a 10-bit ADC with 5V reference and read a value of 512, what is the input voltage?</p><ul><li>A) 1.25V</li><li>B) 2.5V \u2713</li><li>C) 5V</li><li>D) 0V</li></ul><p style="margin-top:15px"><em>Answer: B - 512 is exactly half of 1023, so the voltage is 5V / 2 = 2.5V!</em></p></div></div>',questions:[{q:"If you have a 10-bit ADC with 5V reference and read a value of 512, what is the input voltage?",options:["1.25V","2.5V","5V","0V"],answer:1}],tools:[{name:"ADC Calculator",type:"interactive",description:"Calculate ADC values and voltages"}]},{title:"PWM and Motor Control",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u2699\ufe0f</div><p>PWM: Pulse Width Modulation - Control power with digital signals!</p></div><h2>\ud83d\udd04 What is PWM?</h2><p>PWM (Pulse Width Modulation) is a technique for getting analog-like results with digital signals. By rapidly switching a digital output between HIGH and LOW, you can control the average power delivered to a device.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udccf</span><h4>Duty Cycle</h4><p>Percentage of time signal is HIGH (0-100%)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd01</span><h4>Frequency</h4><p>How fast the signal switches (Hz)</p></div><div class="info-card"><span class="card-icon">\ud83d\udca1</span><h4>LED Dimming</h4><p>Control brightness without resistors</p></div><div class="info-card"><span class="card-icon">\ud83d\ude97</span><h4>Motor Speed</h4><p>Variable speed control for DC motors</p></div></div><h2>\ud83d\udca1 LED Brightness Control</h2><div class="code-box">// Fade LED using PWM<br>const int ledPin = 9; // PWM-capable pin<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(ledPin, OUTPUT);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Fade in<br>&nbsp;&nbsp;for (int brightness = 0; brightness <= 255; brightness++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;analogWrite(ledPin, brightness);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(10);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Fade out<br>&nbsp;&nbsp;for (int brightness = 255; brightness >= 0; brightness--) {<br>&nbsp;&nbsp;&nbsp;&nbsp;analogWrite(ledPin, brightness);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(10);<br>&nbsp;&nbsp;}<br>}</div><h2>\ud83d\ude97 DC Motor Control with L298N</h2><div class="info-box"><strong>Motor Driver Basics:</strong><ul><li><strong>Why needed?</strong> MCU pins can\'t provide enough current for motors</li><li><strong>H-Bridge:</strong> Allows bidirectional motor control</li><li><strong>Popular drivers:</strong> L298N, L293D, TB6612FNG</li><li><strong>Features:</strong> Speed control (PWM) + direction control</li></ul></div><div class="code-box">// DC Motor Control with L298N<br>const int ENA = 9;  // PWM pin for speed<br>const int IN1 = 7;  // Direction pin 1<br>const int IN2 = 6;  // Direction pin 2<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(ENA, OUTPUT);<br>&nbsp;&nbsp;pinMode(IN1, OUTPUT);<br>&nbsp;&nbsp;pinMode(IN2, OUTPUT);<br>}<br><br>void motorForward(int speed) {<br>&nbsp;&nbsp;digitalWrite(IN1, HIGH);<br>&nbsp;&nbsp;digitalWrite(IN2, LOW);<br>&nbsp;&nbsp;analogWrite(ENA, speed); // 0-255<br>}<br><br>void motorBackward(int speed) {<br>&nbsp;&nbsp;digitalWrite(IN1, LOW);<br>&nbsp;&nbsp;digitalWrite(IN2, HIGH);<br>&nbsp;&nbsp;analogWrite(ENA, speed);<br>}<br><br>void motorStop() {<br>&nbsp;&nbsp;digitalWrite(IN1, LOW);<br>&nbsp;&nbsp;digitalWrite(IN2, LOW);<br>&nbsp;&nbsp;analogWrite(ENA, 0);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;motorForward(200);  // 78% speed forward<br>&nbsp;&nbsp;delay(2000);<br>&nbsp;&nbsp;motorStop();<br>&nbsp;&nbsp;delay(1000);<br>&nbsp;&nbsp;motorBackward(150); // 59% speed backward<br>&nbsp;&nbsp;delay(2000);<br>&nbsp;&nbsp;motorStop();<br>&nbsp;&nbsp;delay(1000);<br>}</div><h2>\ud83c\udfb5 Servo Motor Control</h2><div class="code-box">// Servo Motor Control<br>#include &lt;Servo.h&gt;<br><br>Servo myServo;<br>const int servoPin = 9;<br><br>void setup() {<br>&nbsp;&nbsp;myServo.attach(servoPin);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Sweep from 0 to 180 degrees<br>&nbsp;&nbsp;for (int angle = 0; angle <= 180; angle++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;myServo.write(angle);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(15);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Sweep back<br>&nbsp;&nbsp;for (int angle = 180; angle >= 0; angle--) {<br>&nbsp;&nbsp;&nbsp;&nbsp;myServo.write(angle);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(15);<br>&nbsp;&nbsp;}<br>}</div><h2>\u26a1 PWM Frequency Considerations</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udca1</span><h4>LEDs</h4><p>100Hz+ (higher = less flicker)</p></div><div class="info-card"><span class="card-icon">\ud83d\ude97</span><h4>DC Motors</h4><p>1kHz - 20kHz (higher = quieter)</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>Servos</h4><p>50Hz (20ms period, standard)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0a</span><h4>Audio</h4><p>20kHz+ (above human hearing)</p></div></div><div class="fun-fact"><strong>\ud83c\udf1f Did You Know?</strong><p style="margin-top:10px;margin-bottom:0">Servo motors don\'t actually use PWM for speed control - they use it for position! The pulse width (1-2ms) within a 20ms period determines the servo\'s angle. 1ms = 0\xb0, 1.5ms = 90\xb0, 2ms = 180\xb0!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does a 50% duty cycle PWM signal mean?</p><ul><li>A) Signal is always at 50% voltage</li><li>B) Signal is HIGH 50% of the time \u2713</li><li>C) Frequency is 50Hz</li><li>D) Signal switches 50 times per second</li></ul><p style="margin-top:15px"><em>Answer: B - 50% duty cycle means the signal is HIGH for half the period and LOW for the other half!</em></p></div></div>',questions:[{q:"What does a 50% duty cycle PWM signal mean?",options:["Signal is always at 50% voltage","Signal is HIGH 50% of the time","Frequency is 50Hz","Signal switches 50 times per second"],answer:1}],tools:[{name:"PWM Visualizer",type:"interactive",description:"Visualize PWM signals and duty cycles"}]},{title:"Serial Communication (UART)",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce1</div><p>UART: Universal Asynchronous Receiver-Transmitter - Simple serial communication!</p></div><h2>\ud83d\udd0c UART Basics</h2><p>UART is one of the most common serial communication protocols. It\'s asynchronous (no shared clock) and uses just two wires: TX (transmit) and RX (receive). Perfect for debugging, GPS modules, Bluetooth modules, and more!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udce4</span><h4>TX (Transmit)</h4><p>Sends data from MCU to device</p></div><div class="info-card"><span class="card-icon">\ud83d\udce5</span><h4>RX (Receive)</h4><p>Receives data from device to MCU</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Baud Rate</h4><p>Speed of communication (9600, 115200, etc.)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Full Duplex</h4><p>Can send and receive simultaneously</p></div></div><h2>\ud83d\udcca UART Frame Structure</h2><div class="info-box"><strong>Data Frame Components:</strong><ul><li><strong>Start Bit:</strong> 1 bit (always LOW) - signals start of transmission</li><li><strong>Data Bits:</strong> 5-9 bits (usually 8) - the actual data</li><li><strong>Parity Bit:</strong> 0-1 bit (optional) - error checking</li><li><strong>Stop Bits:</strong> 1-2 bits (HIGH) - signals end of transmission</li></ul></div><div class="code-box">// Basic Serial Communication<br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600); // Initialize at 9600 baud<br>&nbsp;&nbsp;Serial.println("Arduino Ready!");<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Send data<br>&nbsp;&nbsp;Serial.print("Sensor Value: ");<br>&nbsp;&nbsp;Serial.println(analogRead(A0));<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Receive data<br>&nbsp;&nbsp;if (Serial.available() > 0) {<br>&nbsp;&nbsp;&nbsp;&nbsp;char received = Serial.read();<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.print("Received: ");<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.println(received);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;delay(1000);<br>}</div><h2>\ud83d\udd04 String Communication</h2><div class="code-box">// Sending and receiving strings<br>String inputString = "";<br>bool stringComplete = false;<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;inputString.reserve(200);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (stringComplete) {<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.print("You sent: ");<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.println(inputString);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;// Process command<br>&nbsp;&nbsp;&nbsp;&nbsp;if (inputString == "LED ON\\n") {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(13, HIGH);<br>&nbsp;&nbsp;&nbsp;&nbsp;} else if (inputString == "LED OFF\\n") {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(13, LOW);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;inputString = "";<br>&nbsp;&nbsp;&nbsp;&nbsp;stringComplete = false;<br>&nbsp;&nbsp;}<br>}<br><br>void serialEvent() {<br>&nbsp;&nbsp;while (Serial.available()) {<br>&nbsp;&nbsp;&nbsp;&nbsp;char inChar = (char)Serial.read();<br>&nbsp;&nbsp;&nbsp;&nbsp;inputString += inChar;<br>&nbsp;&nbsp;&nbsp;&nbsp;if (inChar == \'\\n\') {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stringComplete = true;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>}</div><h2>\ud83c\udf10 Software Serial (Additional UART)</h2><div class="code-box">// Using SoftwareSerial for extra UART<br>#include &lt;SoftwareSerial.h&gt;<br><br>// RX, TX pins<br>SoftwareSerial mySerial(10, 11);<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);      // Hardware serial<br>&nbsp;&nbsp;mySerial.begin(9600);    // Software serial<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.println("Dual Serial Ready");<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Forward data between serials<br>&nbsp;&nbsp;if (Serial.available()) {<br>&nbsp;&nbsp;&nbsp;&nbsp;mySerial.write(Serial.read());<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;if (mySerial.available()) {<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.write(mySerial.read());<br>&nbsp;&nbsp;}<br>}</div><h2>\u26a0\ufe0f Common Baud Rates</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udc0c</span><h4>9600</h4><p>Standard, reliable, debugging</p></div><div class="info-card"><span class="card-icon">\ud83d\udeb6</span><h4>115200</h4><p>Fast, common for modules</p></div><div class="info-card"><span class="card-icon">\ud83c\udfc3</span><h4>230400</h4><p>Very fast, short distances</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Custom</h4><p>Match your device requirements</p></div></div><div class="fun-fact"><strong>\ud83c\udf1f Important Note:</strong><p style="margin-top:10px;margin-bottom:0">When connecting two devices via UART, remember: TX of one device connects to RX of the other, and vice versa! Also, both devices must use the same baud rate, data bits, parity, and stop bits configuration.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> How should you connect two devices using UART?</p><ul><li>A) TX to TX, RX to RX</li><li>B) TX to RX, RX to TX \u2713</li><li>C) Only TX is needed</li><li>D) Only RX is needed</li></ul><p style="margin-top:15px"><em>Answer: B - Cross-connect: TX of device A to RX of device B, and RX of device A to TX of device B!</em></p></div></div>',questions:[{q:"How should you connect two devices using UART?",options:["TX to TX, RX to RX","TX to RX, RX to TX","Only TX is needed","Only RX is needed"],answer:1}],tools:[{name:"Serial Monitor",type:"interactive",description:"Monitor serial communication"}]},{title:"I2C Communication Protocol",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd17</div><p>I2C: Inter-Integrated Circuit - Connect multiple devices with just 2 wires!</p></div><h2>\ud83c\udf10 I2C Overview</h2><p>I2C (I\xb2C or IIC) is a synchronous, multi-master, multi-slave serial communication protocol. It uses only two wires to connect multiple devices on the same bus, making it perfect for sensor networks and peripheral communication!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd50</span><h4>SCL (Clock)</h4><p>Synchronous clock signal from master</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>SDA (Data)</h4><p>Bidirectional data line</p></div><div class="info-card"><span class="card-icon">\ud83c\udff7\ufe0f</span><h4>7-bit Address</h4><p>Each device has unique address (0-127)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0c</span><h4>Multi-Device</h4><p>Up to 127 devices on one bus!</p></div></div><h2>\ud83d\udccb I2C Communication Flow</h2><div class="info-box"><strong>Basic Transaction Steps:</strong><ul><li><strong>START:</strong> Master pulls SDA LOW while SCL is HIGH</li><li><strong>ADDRESS:</strong> Master sends 7-bit slave address + R/W bit</li><li><strong>ACK:</strong> Slave acknowledges by pulling SDA LOW</li><li><strong>DATA:</strong> 8-bit data bytes transferred</li><li><strong>STOP:</strong> Master releases SDA while SCL is HIGH</li></ul></div><div class="code-box">// I2C Scanner - Find device addresses<br>#include &lt;Wire.h&gt;<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;Wire.begin();<br>&nbsp;&nbsp;Serial.println("I2C Scanner");<br>}<br><br>void loop() {<br>&nbsp;&nbsp;byte error, address;<br>&nbsp;&nbsp;int devices = 0;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.println("Scanning...");<br>&nbsp;&nbsp;for(address = 1; address < 127; address++) {<br>&nbsp;&nbsp;&nbsp;&nbsp;Wire.beginTransmission(address);<br>&nbsp;&nbsp;&nbsp;&nbsp;error = Wire.endTransmission();<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;if (error == 0) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.print("Device at 0x");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.println(address, HEX);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;devices++;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.print("Found ");<br>&nbsp;&nbsp;Serial.print(devices);<br>&nbsp;&nbsp;Serial.println(" devices");<br>&nbsp;&nbsp;delay(5000);<br>}</div><h2>\ud83c\udf21\ufe0f Reading I2C Temperature Sensor (BMP280)</h2><div class="code-box">// BMP280 Temperature/Pressure Sensor<br>#include &lt;Wire.h&gt;<br>#include &lt;Adafruit_BMP280.h&gt;<br><br>Adafruit_BMP280 bmp; // I2C<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;if (!bmp.begin(0x76)) { // I2C address<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("BMP280 not found!");<br>&nbsp;&nbsp;&nbsp;&nbsp;while (1);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.println("BMP280 Ready");<br>}<br><br>void loop() {<br>&nbsp;&nbsp;float temp = bmp.readTemperature();<br>&nbsp;&nbsp;float pressure = bmp.readPressure() / 100.0;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.print("Temp: ");<br>&nbsp;&nbsp;Serial.print(temp);<br>&nbsp;&nbsp;Serial.print("\xb0C | Pressure: ");<br>&nbsp;&nbsp;Serial.print(pressure);<br>&nbsp;&nbsp;Serial.println(" hPa");<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;delay(2000);<br>}</div><h2>\ud83d\udcfa I2C LCD Display</h2><div class="code-box">// 16x2 LCD with I2C adapter<br>#include &lt;Wire.h&gt;<br>#include &lt;LiquidCrystal_I2C.h&gt;<br><br>// Address 0x27, 16 columns, 2 rows<br>LiquidCrystal_I2C lcd(0x27, 16, 2);<br><br>void setup() {<br>&nbsp;&nbsp;lcd.init();<br>&nbsp;&nbsp;lcd.backlight();<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;lcd.setCursor(0, 0);<br>&nbsp;&nbsp;lcd.print("Hello, I2C!");<br>&nbsp;&nbsp;lcd.setCursor(0, 1);<br>&nbsp;&nbsp;lcd.print("Arduino Rocks!");<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Update display with sensor data<br>&nbsp;&nbsp;lcd.setCursor(0, 1);<br>&nbsp;&nbsp;lcd.print("Count: ");<br>&nbsp;&nbsp;lcd.print(millis() / 1000);<br>&nbsp;&nbsp;delay(1000);<br>}</div><h2>\u26a1 I2C Speed Modes</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udc0c</span><h4>Standard</h4><p>100 kHz - Most common</p></div><div class="info-card"><span class="card-icon">\ud83d\udeb6</span><h4>Fast Mode</h4><p>400 kHz - Higher speed</p></div><div class="info-card"><span class="card-icon">\ud83c\udfc3</span><h4>Fast Mode+</h4><p>1 MHz - Advanced devices</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>High Speed</h4><p>3.4 MHz - Specialized apps</p></div></div><div class="info-box"><strong>\u26a0\ufe0f I2C Best Practices:</strong><ul><li><strong>Pull-up resistors:</strong> Required on SDA and SCL (typically 4.7k\u03a9)</li><li><strong>Wire length:</strong> Keep short for reliability (< 1 meter)</li><li><strong>Address conflicts:</strong> Each device needs unique address</li><li><strong>Bus capacitance:</strong> Limit number of devices for stability</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Pro Tip:</strong><p style="margin-top:10px;margin-bottom:0">Many I2C devices have configurable addresses (via hardware pins). This allows you to use multiple identical sensors on the same bus! For example, you could have 8 BMP280 sensors on one I2C bus by setting different addresses.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> How many wires does I2C need to connect multiple devices?</p><ul><li>A) 1 wire per device</li><li>B) 2 wires total (SDA + SCL) \u2713</li><li>C) 3 wires (SDA, SCL, GND)</li><li>D) 4 wires</li></ul><p style="margin-top:15px"><em>Answer: B - I2C uses only 2 wires (SDA and SCL) shared by all devices! (Plus power and ground, of course)</em></p></div></div>',questions:[{q:"How many wires does I2C need to connect multiple devices?",options:["1 wire per device","2 wires total (SDA + SCL)","3 wires (SDA, SCL, GND)","4 wires"],answer:1}],tools:[{name:"I2C Analyzer",type:"interactive",description:"Analyze I2C communication"}]},{title:"SPI Communication Protocol",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u26a1</div><p>SPI: Serial Peripheral Interface - High-speed synchronous communication!</p></div><h2>\ud83d\ude80 SPI Overview</h2><p>SPI is a synchronous serial communication protocol designed for high-speed data transfer. It\'s faster than I2C and UART, making it perfect for displays, SD cards, sensors, and other peripherals that need rapid data exchange.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd50</span><h4>SCK (Clock)</h4><p>Clock signal from master</p></div><div class="info-card"><span class="card-icon">\ud83d\udce4</span><h4>MOSI</h4><p>Master Out Slave In - data from master</p></div><div class="info-card"><span class="card-icon">\ud83d\udce5</span><h4>MISO</h4><p>Master In Slave Out - data to master</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>SS/CS</h4><p>Slave Select / Chip Select - device selection</p></div></div><h2>\u2699\ufe0f SPI vs I2C</h2><div class="info-box"><strong>Key Differences:</strong><ul><li><strong>Speed:</strong> SPI is much faster (MHz vs kHz)</li><li><strong>Wires:</strong> SPI needs 4+ wires, I2C needs 2</li><li><strong>Addressing:</strong> SPI uses CS pins, I2C uses addresses</li><li><strong>Full Duplex:</strong> SPI can send/receive simultaneously</li><li><strong>Complexity:</strong> I2C is simpler, SPI is faster</li></ul></div><div class="code-box">// Basic SPI Setup<br>#include &lt;SPI.h&gt;<br><br>const int CS_PIN = 10;<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(CS_PIN, OUTPUT);<br>&nbsp;&nbsp;digitalWrite(CS_PIN, HIGH); // Deselect device<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;SPI.begin();<br>&nbsp;&nbsp;SPI.setClockDivider(SPI_CLOCK_DIV16); // 1MHz<br>&nbsp;&nbsp;SPI.setDataMode(SPI_MODE0);<br>&nbsp;&nbsp;SPI.setBitOrder(MSBFIRST);<br>}<br><br>byte spiTransfer(byte data) {<br>&nbsp;&nbsp;digitalWrite(CS_PIN, LOW);  // Select device<br>&nbsp;&nbsp;byte result = SPI.transfer(data);<br>&nbsp;&nbsp;digitalWrite(CS_PIN, HIGH); // Deselect device<br>&nbsp;&nbsp;return result;<br>}</div><h2>\ud83d\udcbe SD Card with SPI</h2><div class="code-box">// SD Card Reader<br>#include &lt;SPI.h&gt;<br>#include &lt;SD.h&gt;<br><br>const int chipSelect = 10;<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;if (!SD.begin(chipSelect)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("SD card failed!");<br>&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;Serial.println("SD card ready");<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Write to file<br>&nbsp;&nbsp;File dataFile = SD.open("data.txt", FILE_WRITE);<br>&nbsp;&nbsp;if (dataFile) {<br>&nbsp;&nbsp;&nbsp;&nbsp;dataFile.println("Hello, SD Card!");<br>&nbsp;&nbsp;&nbsp;&nbsp;dataFile.close();<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Read from file<br>&nbsp;&nbsp;dataFile = SD.open("data.txt");<br>&nbsp;&nbsp;if (dataFile) {<br>&nbsp;&nbsp;&nbsp;&nbsp;while (dataFile.available()) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.write(dataFile.read());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;dataFile.close();<br>&nbsp;&nbsp;}<br>}</div><h2>\ud83d\udcfa TFT Display with SPI</h2><div class="code-box">// 1.8" TFT Display (ST7735)<br>#include &lt;SPI.h&gt;<br>#include &lt;Adafruit_GFX.h&gt;<br>#include &lt;Adafruit_ST7735.h&gt;<br><br>#define TFT_CS   10<br>#define TFT_RST  9<br>#define TFT_DC   8<br><br>Adafruit_ST7735 tft = Adafruit_ST7735(TFT_CS, TFT_DC, TFT_RST);<br><br>void setup() {<br>&nbsp;&nbsp;tft.initR(INITR_BLACKTAB);<br>&nbsp;&nbsp;tft.fillScreen(ST77XX_BLACK);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Draw text<br>&nbsp;&nbsp;tft.setTextColor(ST77XX_WHITE);<br>&nbsp;&nbsp;tft.setTextSize(2);<br>&nbsp;&nbsp;tft.setCursor(10, 10);<br>&nbsp;&nbsp;tft.println("SPI Display!");<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Draw shapes<br>&nbsp;&nbsp;tft.drawCircle(64, 80, 30, ST77XX_RED);<br>&nbsp;&nbsp;tft.fillRect(20, 120, 40, 20, ST77XX_BLUE);<br>}</div><h2>\ud83c\udf9b\ufe0f SPI Modes</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">0\ufe0f\u20e3</span><h4>Mode 0</h4><p>CPOL=0, CPHA=0 (Most common)</p></div><div class="info-card"><span class="card-icon">1\ufe0f\u20e3</span><h4>Mode 1</h4><p>CPOL=0, CPHA=1</p></div><div class="info-card"><span class="card-icon">2\ufe0f\u20e3</span><h4>Mode 2</h4><p>CPOL=1, CPHA=0</p></div><div class="info-card"><span class="card-icon">3\ufe0f\u20e3</span><h4>Mode 3</h4><p>CPOL=1, CPHA=1</p></div></div><div class="info-box"><strong>\u26a0\ufe0f SPI Best Practices:</strong><ul><li><strong>CS Management:</strong> Always control CS properly (LOW = active)</li><li><strong>Speed:</strong> Start slow, increase speed after testing</li><li><strong>Mode:</strong> Check device datasheet for correct SPI mode</li><li><strong>Wire Length:</strong> Keep wires short for high-speed operation</li><li><strong>Multiple Devices:</strong> Each needs its own CS pin</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Speed Comparison:</strong><p style="margin-top:10px;margin-bottom:0">SPI can reach speeds of 10+ MHz on Arduino, while I2C typically maxes out at 400 kHz. That\'s 25x faster! This makes SPI ideal for high-bandwidth applications like displays and high-speed sensors.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the CS (Chip Select) pin do in SPI?</p><ul><li>A) Provides clock signal</li><li>B) Transfers data</li><li>C) Selects which device to communicate with \u2713</li><li>D) Provides power</li></ul><p style="margin-top:15px"><em>Answer: C - CS pin selects which slave device the master wants to communicate with!</em></p></div></div>',questions:[{q:"What does the CS (Chip Select) pin do in SPI?",options:["Provides clock signal","Transfers data","Selects which device to communicate with","Provides power"],answer:2}],tools:[{name:"SPI Debugger",type:"interactive",description:"Debug SPI communication"}]},{title:"Power Management and Sleep Modes",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd0b</div><p>Power Management: Maximize battery life with smart sleep modes!</p></div><h2>\u26a1 Why Power Management Matters</h2><p>For battery-powered projects, power consumption is critical. A microcontroller running at full speed can drain a battery in hours, but with proper sleep modes, the same battery can last months or even years!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd0c</span><h4>Active Mode</h4><p>Full power: 20-50mA typical</p></div><div class="info-card"><span class="card-icon">\ud83d\ude34</span><h4>Idle Mode</h4><p>CPU stopped: 5-15mA</p></div><div class="info-card"><span class="card-icon">\ud83d\udca4</span><h4>Power-Down</h4><p>Deep sleep: 0.1-1mA</p></div><div class="info-card"><span class="card-icon">\ud83c\udf19</span><h4>Ultra Low Power</h4><p>Minimal: <0.1mA (\xb5A range!)</p></div></div><h2>\ud83d\ude34 AVR Sleep Modes (Arduino)</h2><div class="info-box"><strong>Available Sleep Modes:</strong><ul><li><strong>IDLE:</strong> CPU stopped, peripherals running</li><li><strong>ADC Noise Reduction:</strong> For accurate ADC readings</li><li><strong>Power-Down:</strong> Most peripherals off, wake on interrupt</li><li><strong>Power-Save:</strong> Like power-down but Timer2 runs</li><li><strong>Standby:</strong> Like power-down but faster wake-up</li><li><strong>Extended Standby:</strong> Standby + Timer2 running</li></ul></div><div class="code-box">// Basic Sleep Mode Example<br>#include &lt;avr/sleep.h&gt;<br>#include &lt;avr/power.h&gt;<br><br>const int wakePin = 2; // INT0<br>volatile bool wakeUp = false;<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(wakePin, INPUT_PULLUP);<br>&nbsp;&nbsp;pinMode(LED_BUILTIN, OUTPUT);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Attach interrupt<br>&nbsp;&nbsp;attachInterrupt(digitalPinToInterrupt(wakePin),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wakeUpNow, FALLING);<br>}<br><br>void wakeUpNow() {<br>&nbsp;&nbsp;wakeUp = true;<br>}<br><br>void goToSleep() {<br>&nbsp;&nbsp;set_sleep_mode(SLEEP_MODE_PWR_DOWN);<br>&nbsp;&nbsp;sleep_enable();<br>&nbsp;&nbsp;sleep_mode(); // Sleep here<br>&nbsp;&nbsp;// --- Wake up here ---<br>&nbsp;&nbsp;sleep_disable();<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (wakeUp) {<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, HIGH);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(1000);<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, LOW);<br>&nbsp;&nbsp;&nbsp;&nbsp;wakeUp = false;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;goToSleep(); // Sleep until interrupt<br>}</div><h2>\ud83d\udd0b Advanced Power Saving</h2><div class="code-box">// Disable unused peripherals<br>#include &lt;avr/sleep.h&gt;<br>#include &lt;avr/power.h&gt;<br><br>void setup() {<br>&nbsp;&nbsp;// Disable ADC<br>&nbsp;&nbsp;ADCSRA &= ~(1 << ADEN);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Disable unused peripherals<br>&nbsp;&nbsp;power_adc_disable();<br>&nbsp;&nbsp;power_spi_disable();<br>&nbsp;&nbsp;power_twi_disable();<br>&nbsp;&nbsp;power_timer1_disable();<br>&nbsp;&nbsp;power_timer2_disable();<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Only keep what you need!<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Your code here<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Re-enable if needed<br>&nbsp;&nbsp;power_adc_enable();<br>&nbsp;&nbsp;// Use ADC<br>&nbsp;&nbsp;power_adc_disable();<br>}</div><h2>\u23f0 Watchdog Timer for Periodic Wake</h2><div class="code-box">// Wake up periodically with watchdog<br>#include &lt;avr/sleep.h&gt;<br>#include &lt;avr/wdt.h&gt;<br><br>volatile int wdtCounter = 0;<br><br>ISR(WDT_vect) {<br>&nbsp;&nbsp;wdtCounter++;<br>}<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(LED_BUILTIN, OUTPUT);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Setup watchdog for 8 second interval<br>&nbsp;&nbsp;WDTCSR |= (1<<WDCE) | (1<<WDE);<br>&nbsp;&nbsp;WDTCSR = (1<<WDIE) | (1<<WDP3) | (1<<WDP0);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (wdtCounter >= 10) { // 80 seconds<br>&nbsp;&nbsp;&nbsp;&nbsp;// Do something<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, HIGH);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, LOW);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;wdtCounter = 0;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Sleep<br>&nbsp;&nbsp;set_sleep_mode(SLEEP_MODE_PWR_DOWN);<br>&nbsp;&nbsp;sleep_enable();<br>&nbsp;&nbsp;sleep_mode();<br>&nbsp;&nbsp;sleep_disable();<br>}</div><h2>\ud83d\udca1 Power Optimization Tips</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd3d</span><h4>Lower Clock Speed</h4><p>Run at 8MHz or 1MHz instead of 16MHz</p></div><div class="info-card"><span class="card-icon">\ud83d\udca1</span><h4>Disable LEDs</h4><p>Power LED can waste 10-20mA!</p></div><div class="info-card"><span class="card-icon">\ud83d\udcc9</span><h4>Lower Voltage</h4><p>3.3V uses less power than 5V</p></div><div class="info-card"><span class="card-icon">\u23f1\ufe0f</span><h4>Minimize Active Time</h4><p>Do work quickly, sleep longer</p></div></div><div class="info-box"><strong>\u26a0\ufe0f Battery Life Calculation:</strong><ul><li><strong>Battery:</strong> 2000mAh (typical AA)</li><li><strong>Active mode (20mA):</strong> 2000/20 = 100 hours (4 days)</li><li><strong>Sleep mode (0.1mA):</strong> 2000/0.1 = 20,000 hours (833 days!)</li><li><strong>Mixed (1% active):</strong> ~1 year battery life</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Real-World Example:</strong><p style="margin-top:10px;margin-bottom:0">A weather station that reads sensors every 10 minutes can run for over a year on a single CR2032 coin cell (220mAh) by using deep sleep between readings. Without sleep modes, it would last less than a week!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What\'s the most effective way to extend battery life?</p><ul><li>A) Use a bigger battery</li><li>B) Lower the clock speed</li><li>C) Use sleep modes between tasks \u2713</li><li>D) Turn off the LED</li></ul><p style="margin-top:15px"><em>Answer: C - Sleep modes can reduce power consumption by 100-1000x, far more than any other technique!</em></p></div></div>',questions:[{q:"What's the most effective way to extend battery life?",options:["Use a bigger battery","Lower the clock speed","Use sleep modes between tasks","Turn off the LED"],answer:2}],tools:[{name:"Power Calculator",type:"interactive",description:"Calculate battery life"}]},{title:"Real-Time Operating Systems (RTOS)",content:'<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u2699\ufe0f</div><p>RTOS: Real-Time Operating Systems - Multitasking for microcontrollers!</p></div><h2>\ud83c\udfaf What is an RTOS?</h2><p>A Real-Time Operating System (RTOS) allows your microcontroller to run multiple tasks concurrently with guaranteed timing. Instead of a single loop(), you can have multiple tasks running "simultaneously" with precise scheduling!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Multitasking</h4><p>Run multiple tasks concurrently</p></div><div class="info-card"><span class="card-icon">\u23f1\ufe0f</span><h4>Deterministic</h4><p>Guaranteed response times</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>Priority-Based</h4><p>High-priority tasks run first</p></div><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Resource Management</h4><p>Semaphores, mutexes, queues</p></div></div><h2>\ud83c\udd9a RTOS vs Bare Metal</h2><div class="info-box"><strong>Bare Metal (Traditional Arduino):</strong><ul><li>Single loop() function</li><li>Manual task scheduling</li><li>Simple but limited</li><li>Good for simple projects</li></ul><strong>RTOS:</strong><ul><li>Multiple concurrent tasks</li><li>Automatic scheduling</li><li>More complex but powerful</li><li>Better for complex projects</li></ul></div><div class="code-box">// FreeRTOS Example - Multiple Tasks<br>#include &lt;Arduino_FreeRTOS.h&gt;<br><br>void TaskBlink(void *pvParameters);<br>void TaskSerial(void *pvParameters);<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Create tasks<br>&nbsp;&nbsp;xTaskCreate(<br>&nbsp;&nbsp;&nbsp;&nbsp;TaskBlink,   // Function<br>&nbsp;&nbsp;&nbsp;&nbsp;"Blink",     // Name<br>&nbsp;&nbsp;&nbsp;&nbsp;128,         // Stack size<br>&nbsp;&nbsp;&nbsp;&nbsp;NULL,        // Parameters<br>&nbsp;&nbsp;&nbsp;&nbsp;2,           // Priority<br>&nbsp;&nbsp;&nbsp;&nbsp;NULL);       // Task handle<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;xTaskCreate(<br>&nbsp;&nbsp;&nbsp;&nbsp;TaskSerial,<br>&nbsp;&nbsp;&nbsp;&nbsp;"Serial",<br>&nbsp;&nbsp;&nbsp;&nbsp;128,<br>&nbsp;&nbsp;&nbsp;&nbsp;NULL,<br>&nbsp;&nbsp;&nbsp;&nbsp;1,           // Lower priority<br>&nbsp;&nbsp;&nbsp;&nbsp;NULL);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Empty - tasks run automatically<br>}<br><br>void TaskBlink(void *pvParameters) {<br>&nbsp;&nbsp;pinMode(LED_BUILTIN, OUTPUT);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;for (;;) { // Infinite loop<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, HIGH);<br>&nbsp;&nbsp;&nbsp;&nbsp;vTaskDelay(500 / portTICK_PERIOD_MS);<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, LOW);<br>&nbsp;&nbsp;&nbsp;&nbsp;vTaskDelay(500 / portTICK_PERIOD_MS);<br>&nbsp;&nbsp;}<br>}<br><br>void TaskSerial(void *pvParameters) {<br>&nbsp;&nbsp;for (;;) {<br>&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("Task running...");<br>&nbsp;&nbsp;&nbsp;&nbsp;vTaskDelay(1000 / portTICK_PERIOD_MS);<br>&nbsp;&nbsp;}<br>}</div><h2>\ud83d\udcec Inter-Task Communication</h2><div class="code-box">// Queue Example - Pass data between tasks<br>#include &lt;Arduino_FreeRTOS.h&gt;<br>#include &lt;queue.h&gt;<br><br>QueueHandle_t sensorQueue;<br><br>void TaskReadSensor(void *pvParameters) {<br>&nbsp;&nbsp;for (;;) {<br>&nbsp;&nbsp;&nbsp;&nbsp;int sensorValue = analogRead(A0);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;// Send to queue<br>&nbsp;&nbsp;&nbsp;&nbsp;xQueueSend(sensorQueue, &sensorValue, portMAX_DELAY);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;vTaskDelay(100 / portTICK_PERIOD_MS);<br>&nbsp;&nbsp;}<br>}<br><br>void TaskProcessData(void *pvParameters) {<br>&nbsp;&nbsp;int receivedValue;<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;for (;;) {<br>&nbsp;&nbsp;&nbsp;&nbsp;// Receive from queue<br>&nbsp;&nbsp;&nbsp;&nbsp;if (xQueueReceive(sensorQueue, &receivedValue,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;portMAX_DELAY) == pdPASS) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.print("Processed: ");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.println(receivedValue);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>}<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Create queue (10 items, int size)<br>&nbsp;&nbsp;sensorQueue = xQueueCreate(10, sizeof(int));<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;xTaskCreate(TaskReadSensor, "Read", 128, NULL, 2, NULL);<br>&nbsp;&nbsp;xTaskCreate(TaskProcessData, "Process", 128, NULL, 1, NULL);<br>}</div><h2>\ud83d\udd12 Semaphores and Mutexes</h2><div class="code-box">// Mutex Example - Protect shared resource<br>#include &lt;Arduino_FreeRTOS.h&gt;<br>#include &lt;semphr.h&gt;<br><br>SemaphoreHandle_t serialMutex;<br><br>void TaskA(void *pvParameters) {<br>&nbsp;&nbsp;for (;;) {<br>&nbsp;&nbsp;&nbsp;&nbsp;// Take mutex<br>&nbsp;&nbsp;&nbsp;&nbsp;if (xSemaphoreTake(serialMutex, portMAX_DELAY)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("Task A writing...");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Give mutex back<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xSemaphoreGive(serialMutex);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;vTaskDelay(500 / portTICK_PERIOD_MS);<br>&nbsp;&nbsp;}<br>}<br><br>void TaskB(void *pvParameters) {<br>&nbsp;&nbsp;for (;;) {<br>&nbsp;&nbsp;&nbsp;&nbsp;if (xSemaphoreTake(serialMutex, portMAX_DELAY)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("Task B writing...");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xSemaphoreGive(serialMutex);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;vTaskDelay(500 / portTICK_PERIOD_MS);<br>&nbsp;&nbsp;}<br>}<br><br>void setup() {<br>&nbsp;&nbsp;Serial.begin(9600);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Create mutex<br>&nbsp;&nbsp;serialMutex = xSemaphoreCreateMutex();<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;xTaskCreate(TaskA, "A", 128, NULL, 1, NULL);<br>&nbsp;&nbsp;xTaskCreate(TaskB, "B", 128, NULL, 1, NULL);<br>}</div><h2>\ud83c\udfaf Popular RTOS Options</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udd93</span><h4>FreeRTOS</h4><p>Most popular, open-source, well-documented</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Zephyr</h4><p>Modern, Linux Foundation, IoT-focused</p></div><div class="info-card"><span class="card-icon">\ud83d\udd27</span><h4>RIOT</h4><p>Lightweight, IoT-oriented, modular</p></div><div class="info-card"><span class="card-icon">\ud83c\udfe2</span><h4>ThreadX</h4><p>Commercial, certified, safety-critical</p></div></div><div class="info-box"><strong>\u26a0\ufe0f When to Use RTOS:</strong><ul><li><strong>Complex timing:</strong> Multiple tasks with different schedules</li><li><strong>Real-time requirements:</strong> Guaranteed response times needed</li><li><strong>Resource sharing:</strong> Multiple tasks accessing shared resources</li><li><strong>Scalability:</strong> Project will grow in complexity</li></ul><strong>When NOT to use RTOS:</strong><ul><li>Simple projects with one main loop</li><li>Limited RAM (RTOS adds overhead)</li><li>Learning basics (start simple first!)</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Industry Usage:</strong><p style="margin-top:10px;margin-bottom:0">RTOS is used in critical systems everywhere: automotive (engine control), aerospace (flight computers), medical devices (pacemakers), and industrial automation. FreeRTOS alone powers over 40 microcontroller architectures!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is the main advantage of using an RTOS?</p><ul><li>A) Faster code execution</li><li>B) Less memory usage</li><li>C) Concurrent tasks with guaranteed timing \u2713</li><li>D) Easier to learn</li></ul><p style="margin-top:15px"><em>Answer: C - RTOS enables multitasking with deterministic, guaranteed response times!</em></p></div></div>',questions:[{q:"What is the main advantage of using an RTOS?",options:["Faster code execution","Less memory usage","Concurrent tasks with guaranteed timing","Easier to learn"],answer:2}],tools:[{name:"RTOS Scheduler",type:"interactive",description:"Visualize task scheduling"}]},{title:"\ud83c\udf89 Course Completed!",content:'\n    <style>\n      .completion-page { text-align: center; padding: 40px 20px; }\n      .trophy { font-size: 120px; animation: bounce 2s infinite; margin: 30px 0; }\n      @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }\n      .completion-title { color: #667eea; font-size: 2.5em; margin: 20px 0; font-weight: bold; }\n      .completion-message { font-size: 1.3em; color: #555; margin: 20px 0; line-height: 1.8; }\n      .achievement-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 20px; padding: 40px; margin: 40px auto; max-width: 800px; border: 3px solid #667eea; }\n      .skills-learned { text-align: left; margin: 30px auto; max-width: 600px; }\n      .skills-learned h3 { color: #667eea; font-size: 1.8em; margin-bottom: 20px; text-align: center; }\n      .skills-learned ul { list-style: none; padding: 0; }\n      .skills-learned li { background: white; padding: 15px 20px; margin: 10px 0; border-radius: 10px; border-left: 5px solid #667eea; font-size: 1.1em; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }\n      .skills-learned li::before { content: "\u2713 "; color: #4caf50; font-weight: bold; font-size: 1.3em; margin-right: 10px; }\n    </style>\n\n    <div class="completion-page">\n      <div class="trophy">\ud83c\udfc6</div>\n      <h1 class="completion-title">Congratulations!</h1>\n      <p class="completion-message">You\'ve successfully completed the <strong>Microcontroller Course</strong>!<br/>You\'re now ready to build amazing embedded systems and IoT projects!</p>\n\n      <div class="achievement-box">\n        <div style="font-size:50px;margin:20px 0">\ud83c\udf8a \ud83c\udf89 \ud83c\udf8a</div>\n        <h2 style="color: #667eea; margin: 20px 0;">You are now a Microcontroller Expert!</h2>\n        <p style="font-size: 1.2em; color: #555;">You\'ve mastered embedded systems programming and hardware interfacing!</p>\n      </div>\n\n      <div class="skills-learned">\n        <h3>\ud83c\udfaf Skills You\'ve Mastered</h3>\n        <ul>\n          <li>GPIO and digital I/O control</li>\n          <li>Timers, counters, and PWM</li>\n          <li>Interrupt handling and event-driven programming</li>\n          <li>ADC for analog sensor reading</li>\n          <li>Serial communication (UART, SPI, I2C)</li>\n          <li>Motor control and servo positioning</li>\n          <li>Embedded C programming</li>\n          <li>Real-world project development</li>\n        </ul>\n      </div>\n\n      <div style="margin-top: 50px;">\n        <p style="font-size: 1.3em; color: #667eea; font-weight: bold;">Start Building Amazing Projects! \ud83c\udf1f</p>\n        <p style="font-size: 1.1em; color: #555; margin-top: 10px;">The world of embedded systems awaits you. Go create something incredible!</p>\n      </div>\n    </div>\n  ',questions:[],tools:[]}]},networking:{id:"networking",title:"Networking Course",description:"Master computer networks from fundamentals to advanced concepts",color:"#27AE60",icon:"\ud83c\udf10",level:"Intermediate",duration:"9 hours",students:"1,580",sessions:[{title:"Introduction to Computer Networks",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf10</div><p>Computer Networks: Connecting the world, one packet at a time!</p></div><h2>\ud83d\udd0d What is a Computer Network?</h2><p>A computer network is a collection of interconnected devices that can communicate and share resources. From your home WiFi to the global Internet, networks are the backbone of modern digital communication!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcbb</span><h4>Devices (Nodes)</h4><p>Computers, phones, servers, IoT devices</p></div><div class="info-card"><span class="card-icon">\ud83d\udd17</span><h4>Links</h4><p>Wired (Ethernet) or wireless (WiFi, cellular)</p></div><div class="info-card"><span class="card-icon">\ud83d\udce1</span><h4>Protocols</h4><p>Rules for communication (TCP/IP, HTTP, etc.)</p></div><div class="info-card"><span class="card-icon">\ud83c\udf0d</span><h4>Internet</h4><p>Global network of networks</p></div></div><h2>\ud83d\udcca Network Types by Size</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udfe0</span><h4>PAN</h4><p>Personal Area Network - Bluetooth, USB (< 10m)</p></div><div class="info-card"><span class="card-icon">\ud83c\udfe2</span><h4>LAN</h4><p>Local Area Network - Home/office (< 1km)</p></div><div class="info-card"><span class="card-icon">\ud83c\udfd9\ufe0f</span><h4>MAN</h4><p>Metropolitan Area Network - City-wide</p></div><div class="info-card"><span class="card-icon">\ud83c\udf0d</span><h4>WAN</h4><p>Wide Area Network - Global (Internet)</p></div></div><h2>\ud83c\udfaf Network Topologies</h2><div class="info-box"><strong>Common Network Layouts:</strong><ul><li><strong>Bus:</strong> All devices on single cable (simple but unreliable)</li><li><strong>Star:</strong> All devices connect to central hub (most common)</li><li><strong>Ring:</strong> Devices in circular chain (token passing)</li><li><strong>Mesh:</strong> Every device connects to every other (redundant, reliable)</li><li><strong>Hybrid:</strong> Combination of topologies</li></ul></div><h2>\ud83d\udcda OSI Model - 7 Layers</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">7\ufe0f\u20e3</span><h4>Application</h4><p>User interfaces (HTTP, FTP, SMTP)</p></div><div class="info-card"><span class="card-icon">6\ufe0f\u20e3</span><h4>Presentation</h4><p>Data formatting, encryption</p></div><div class="info-card"><span class="card-icon">5\ufe0f\u20e3</span><h4>Session</h4><p>Connection management</p></div><div class="info-card"><span class="card-icon">4\ufe0f\u20e3</span><h4>Transport</h4><p>End-to-end delivery (TCP, UDP)</p></div><div class="info-card"><span class="card-icon">3\ufe0f\u20e3</span><h4>Network</h4><p>Routing, IP addressing</p></div><div class="info-card"><span class="card-icon">2\ufe0f\u20e3</span><h4>Data Link</h4><p>MAC addressing, frames</p></div><div class="info-card"><span class="card-icon">1\ufe0f\u20e3</span><h4>Physical</h4><p>Cables, signals, bits</p></div></div><div class="info-box"><strong>\ud83d\udca1 Remember OSI Layers:</strong><p style="margin-top:10px">"<strong>A</strong>ll <strong>P</strong>eople <strong>S</strong>eem <strong>T</strong>o <strong>N</strong>eed <strong>D</strong>ata <strong>P</strong>rocessing"</p><p>Application \u2192 Presentation \u2192 Session \u2192 Transport \u2192 Network \u2192 Data Link \u2192 Physical</p></div><div class="fun-fact"><strong>\ud83c\udf1f Amazing Fact:</strong><p style="margin-top:10px;margin-bottom:0">The Internet connects over 5 billion people worldwide! Every second, millions of packets travel across continents through undersea cables, satellites, and fiber optics at nearly the speed of light!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which OSI layer is responsible for routing and IP addressing?</p><ul><li>A) Transport Layer</li><li>B) Network Layer \u2713</li><li>C) Data Link Layer</li><li>D) Application Layer</li></ul><p style="margin-top:15px"><em>Answer: B - The Network Layer (Layer 3) handles routing and IP addressing!</em></p></div></div>',questions:[{q:"Which OSI layer is responsible for routing and IP addressing?",options:["Transport Layer","Network Layer","Data Link Layer","Application Layer"],answer:1}],tools:[{name:"Network Visualizer",type:"interactive",description:"Visualize network topologies"}]},{title:"IP Addressing and Subnetting",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udff7\ufe0f</div><p>IP Addressing: Every device needs a unique address on the network!</p></div><h2>\ud83d\udccd IPv4 Addresses</h2><p>An IPv4 address is a 32-bit number written as four octets (0-255) separated by dots. It uniquely identifies a device on a network.</p><div class="info-box"><strong>IPv4 Address Structure:</strong><p style="margin-top:10px"><strong>Example:</strong> 192.168.1.100</p><ul><li><strong>Binary:</strong> 11000000.10101000.00000001.01100100</li><li><strong>Network Part:</strong> Identifies the network</li><li><strong>Host Part:</strong> Identifies the device on that network</li><li><strong>Total Addresses:</strong> 2^32 = ~4.3 billion</li></ul></div><h2>\ud83c\udfaf IP Address Classes</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udd70\ufe0f</span><h4>Class A</h4><p>1.0.0.0 - 126.255.255.255<br>Large networks (16M hosts)</p></div><div class="info-card"><span class="card-icon">\ud83c\udd71\ufe0f</span><h4>Class B</h4><p>128.0.0.0 - 191.255.255.255<br>Medium networks (65K hosts)</p></div><div class="info-card"><span class="card-icon">\xa9\ufe0f</span><h4>Class C</h4><p>192.0.0.0 - 223.255.255.255<br>Small networks (254 hosts)</p></div><div class="info-card"><span class="card-icon">\ud83c\udfe0</span><h4>Private Ranges</h4><p>10.x.x.x, 172.16-31.x.x, 192.168.x.x</p></div></div><h2>\ud83d\udd22 Subnet Masks</h2><p>A subnet mask separates the network portion from the host portion of an IP address. It\'s also written in dotted decimal notation.</p><div class="code-box">IP Address:    192.168.1.100<br>Subnet Mask:   255.255.255.0<br>               \u2193<br>Network:       192.168.1.0<br>Broadcast:     192.168.1.255<br>Usable Hosts:  192.168.1.1 - 192.168.1.254 (254 hosts)</div><h2>\ud83d\udcca CIDR Notation</h2><div class="info-box"><strong>Classless Inter-Domain Routing (CIDR):</strong><p style="margin-top:10px">Modern way to represent subnet masks using /prefix notation</p><ul><li><strong>/8</strong> = 255.0.0.0 (16,777,214 hosts)</li><li><strong>/16</strong> = 255.255.0.0 (65,534 hosts)</li><li><strong>/24</strong> = 255.255.255.0 (254 hosts)</li><li><strong>/30</strong> = 255.255.255.252 (2 hosts - point-to-point links)</li></ul><p style="margin-top:10px"><strong>Example:</strong> 192.168.1.0/24 means network 192.168.1.0 with mask 255.255.255.0</p></div><h2>\ud83e\uddee Subnetting Example</h2><div class="code-box">Given: 192.168.1.0/24<br>Need: 4 subnets<br><br>Solution: Borrow 2 bits (2^2 = 4 subnets)<br>New mask: /26 (255.255.255.192)<br>Hosts per subnet: 2^6 - 2 = 62<br><br>Subnet 1: 192.168.1.0/26   (hosts: .1 - .62)<br>Subnet 2: 192.168.1.64/26  (hosts: .65 - .126)<br>Subnet 3: 192.168.1.128/26 (hosts: .129 - .190)<br>Subnet 4: 192.168.1.192/26 (hosts: .193 - .254)</div><h2>\ud83c\udf10 IPv6 Addresses</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udccf</span><h4>128-bit</h4><p>8 groups of 4 hex digits</p></div><div class="info-card"><span class="card-icon">\u267e\ufe0f</span><h4>Huge Space</h4><p>340 undecillion addresses!</p></div><div class="info-card"><span class="card-icon">\ud83d\udcdd</span><h4>Example</h4><p>2001:0db8:85a3::8a2e:0370:7334</p></div><div class="info-card"><span class="card-icon">\u2728</span><h4>Features</h4><p>No NAT needed, built-in security</p></div></div><div class="info-box"><strong>\u26a0\ufe0f Special IP Addresses:</strong><ul><li><strong>127.0.0.1:</strong> Localhost (loopback)</li><li><strong>0.0.0.0:</strong> Default route / any address</li><li><strong>255.255.255.255:</strong> Broadcast to all</li><li><strong>169.254.x.x:</strong> APIPA (auto-config when DHCP fails)</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Did You Know?</strong><p style="margin-top:10px;margin-bottom:0">We ran out of IPv4 addresses! That\'s why IPv6 was created. With IPv6, we could assign 100 addresses to every atom on Earth\'s surface and still have addresses left over!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> How many usable host addresses are in a /24 network?</p><ul><li>A) 256</li><li>B) 254 \u2713</li><li>C) 255</li><li>D) 253</li></ul><p style="margin-top:15px"><em>Answer: B - 2^8 = 256 total, minus 2 (network and broadcast) = 254 usable hosts!</em></p></div></div>',questions:[{q:"How many usable host addresses are in a /24 network?",options:["256","254","255","253"],answer:1}],tools:[{name:"Subnet Calculator",type:"interactive",description:"Calculate subnets and IP ranges"}]},{title:"TCP and UDP Protocols",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce6</div><p>Transport Layer: TCP and UDP - Delivering your data reliably (or quickly)!</p></div><h2>\ud83d\udd04 TCP - Transmission Control Protocol</h2><p>TCP is a connection-oriented, reliable protocol that guarantees delivery of data in the correct order. It\'s like sending a registered letter - you get confirmation it arrived!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83e\udd1d</span><h4>Connection-Oriented</h4><p>3-way handshake establishes connection</p></div><div class="info-card"><span class="card-icon">\u2705</span><h4>Reliable</h4><p>Guarantees delivery with ACKs</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>Ordered</h4><p>Data arrives in correct sequence</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Flow Control</h4><p>Prevents overwhelming receiver</p></div></div><h2>\ud83e\udd1d TCP Three-Way Handshake</h2><div class="code-box">Client                    Server<br>  |                          |<br>  |-------- SYN -----------\x3e|  1. Client initiates<br>  |                          |<br>  |<------- SYN-ACK --------|  2. Server acknowledges<br>  |                          |<br>  |-------- ACK -----------\x3e|  3. Client confirms<br>  |                          |<br>  |   CONNECTION ESTABLISHED |<br>  |                          |</div><h2>\u26a1 UDP - User Datagram Protocol</h2><p>UDP is connectionless and unreliable (in a good way!). It\'s fast because it doesn\'t wait for confirmations. Perfect for real-time applications where speed matters more than perfect delivery.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\ude80</span><h4>Connectionless</h4><p>No handshake, just send!</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Fast</h4><p>Low overhead, minimal delay</p></div><div class="info-card"><span class="card-icon">\ud83d\udce1</span><h4>No Guarantees</h4><p>Best-effort delivery</p></div><div class="info-card"><span class="card-icon">\ud83c\udfae</span><h4>Real-Time</h4><p>Gaming, streaming, VoIP</p></div></div><h2>\u2696\ufe0f TCP vs UDP Comparison</h2><div class="info-box"><strong>When to Use TCP:</strong><ul><li><strong>Web browsing (HTTP/HTTPS):</strong> Need complete pages</li><li><strong>Email (SMTP, IMAP):</strong> Can\'t lose messages</li><li><strong>File transfer (FTP):</strong> Files must be complete</li><li><strong>Remote access (SSH):</strong> Commands must arrive</li></ul><strong>When to Use UDP:</strong><ul><li><strong>Live streaming:</strong> Old frames don\'t matter</li><li><strong>Online gaming:</strong> Speed > perfection</li><li><strong>VoIP calls:</strong> Real-time audio</li><li><strong>DNS queries:</strong> Small, can retry</li></ul></div><h2>\ud83d\udd22 Port Numbers</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Well-Known</h4><p>0-1023: HTTP(80), HTTPS(443), SSH(22)</p></div><div class="info-card"><span class="card-icon">\ud83d\udcdd</span><h4>Registered</h4><p>1024-49151: App-specific ports</p></div><div class="info-card"><span class="card-icon">\ud83d\udd13</span><h4>Dynamic</h4><p>49152-65535: Temporary client ports</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>Socket</h4><p>IP + Port = Unique endpoint</p></div></div><div class="code-box">Common Port Numbers:<br><br>TCP Ports:<br>  20/21  - FTP (File Transfer)<br>  22     - SSH (Secure Shell)<br>  23     - Telnet<br>  25     - SMTP (Email sending)<br>  80     - HTTP (Web)<br>  443    - HTTPS (Secure Web)<br>  3306   - MySQL Database<br>  3389   - RDP (Remote Desktop)<br><br>UDP Ports:<br>  53     - DNS (Domain Name System)<br>  67/68  - DHCP (IP assignment)<br>  69     - TFTP (Trivial FTP)<br>  161    - SNMP (Network Management)</div><h2>\ud83d\udcca TCP Segment Structure</h2><div class="info-box"><strong>TCP Header Fields:</strong><ul><li><strong>Source/Dest Port:</strong> 16 bits each</li><li><strong>Sequence Number:</strong> Tracks byte order</li><li><strong>Acknowledgment:</strong> Confirms received data</li><li><strong>Flags:</strong> SYN, ACK, FIN, RST, PSH, URG</li><li><strong>Window Size:</strong> Flow control</li><li><strong>Checksum:</strong> Error detection</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Interesting Fact:</strong><p style="margin-top:10px;margin-bottom:0">Netflix uses TCP for streaming, not UDP! While UDP seems perfect for video, TCP\'s reliability ensures better quality. Modern TCP implementations are fast enough that the slight delay is worth the guaranteed delivery.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which protocol would be best for a live video game?</p><ul><li>A) TCP - for reliability</li><li>B) UDP - for speed \u2713</li><li>C) Both equally</li><li>D) Neither</li></ul><p style="margin-top:15px"><em>Answer: B - UDP is better for gaming because low latency is more important than perfect delivery!</em></p></div></div>',questions:[{q:"Which protocol would be best for a live video game?",options:["TCP - for reliability","UDP - for speed","Both equally","Neither"],answer:1}],tools:[{name:"Packet Analyzer",type:"interactive",description:"Analyze TCP/UDP packets"}]},{title:"DNS and Domain Names",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf10</div><p>DNS: The Internet\'s phonebook - translating names to numbers!</p></div><h2>\ud83d\udcd6 What is DNS?</h2><p>The Domain Name System (DNS) translates human-friendly domain names (like google.com) into IP addresses (like 142.250.185.46) that computers use to communicate. Without DNS, you\'d have to memorize IP addresses for every website!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd24</span><h4>Domain Names</h4><p>Human-readable addresses</p></div><div class="info-card"><span class="card-icon">\ud83d\udd22</span><h4>IP Addresses</h4><p>Machine-readable numbers</p></div><div class="info-card"><span class="card-icon">\ud83d\uddc4\ufe0f</span><h4>DNS Servers</h4><p>Distributed database system</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Caching</h4><p>Fast lookups via local cache</p></div></div><h2>\ud83c\udfd7\ufe0f Domain Name Hierarchy</h2><div class="code-box">www.example.com.<br> |    |      |   |<br> |    |      |   \u2514\u2500 Root (implicit)<br> |    |      \u2514\u2500\u2500\u2500\u2500\u2500 Top-Level Domain (TLD)<br> |    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Second-Level Domain<br> \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Subdomain (host)<br><br>Read from RIGHT to LEFT!<br>. (root) \u2192 .com \u2192 example \u2192 www</div><h2>\ud83c\udfaf DNS Record Types</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udd70\ufe0f</span><h4>A Record</h4><p>Maps domain to IPv4 address</p></div><div class="info-card"><span class="card-icon">4\ufe0f\u20e3</span><h4>AAAA Record</h4><p>Maps domain to IPv6 address</p></div><div class="info-card"><span class="card-icon">\ud83d\udce7</span><h4>MX Record</h4><p>Mail server for domain</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>CNAME</h4><p>Alias to another domain</p></div><div class="info-card"><span class="card-icon">\ud83d\udcdd</span><h4>TXT Record</h4><p>Text info (SPF, verification)</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>NS Record</h4><p>Nameserver for domain</p></div></div><h2>\ud83d\udd0d DNS Resolution Process</h2><div class="code-box">1. User types: www.example.com<br><br>2. Browser checks local cache<br>   \u2514\u2500 If found \u2192 Done!<br><br>3. Query local DNS resolver (ISP)<br>   \u2514\u2500 Check cache \u2192 If found, return<br><br>4. Recursive query starts:<br>   a) Root server: "Ask .com server"<br>   b) TLD server: "Ask example.com server"<br>   c) Authoritative server: "Here\'s the IP!"<br><br>5. IP returned: 93.184.216.34<br><br>6. Browser connects to IP address<br><br>Total time: Usually 20-120ms</div><h2>\ud83d\uddc4\ufe0f DNS Server Types</h2><div class="info-box"><strong>DNS Server Hierarchy:</strong><ul><li><strong>Root Servers:</strong> 13 worldwide (actually hundreds via anycast)</li><li><strong>TLD Servers:</strong> Handle .com, .org, .net, country codes</li><li><strong>Authoritative Servers:</strong> Hold actual domain records</li><li><strong>Recursive Resolvers:</strong> Your ISP\'s DNS (8.8.8.8, 1.1.1.1)</li></ul></div><h2>\u26a1 Popular Public DNS Servers</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd35</span><h4>Google DNS</h4><p>8.8.8.8 / 8.8.4.4</p></div><div class="info-card"><span class="card-icon">\u2601\ufe0f</span><h4>Cloudflare</h4><p>1.1.1.1 / 1.0.0.1</p></div><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Quad9</h4><p>9.9.9.9 (blocks malware)</p></div><div class="info-card"><span class="card-icon">\ud83c\udfe2</span><h4>OpenDNS</h4><p>208.67.222.222</p></div></div><div class="code-box">// DNS Lookup Commands<br><br>Windows:<br>  nslookup example.com<br>  nslookup example.com 8.8.8.8<br><br>Linux/Mac:<br>  dig example.com<br>  dig example.com @8.8.8.8<br>  host example.com<br><br>// Clear DNS cache<br>Windows: ipconfig /flushdns<br>Linux:   sudo systemd-resolve --flush-caches<br>Mac:     sudo dscacheutil -flushcache</div><h2>\ud83d\udd12 DNS Security</h2><div class="info-box"><strong>DNS Vulnerabilities & Solutions:</strong><ul><li><strong>DNS Spoofing:</strong> Fake DNS responses \u2192 Use DNSSEC</li><li><strong>DNS Hijacking:</strong> Redirect to malicious sites \u2192 Secure DNS</li><li><strong>DDoS Attacks:</strong> Overwhelm DNS servers \u2192 Anycast, rate limiting</li><li><strong>Privacy:</strong> ISP sees all queries \u2192 DNS over HTTPS (DoH)</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Amazing Fact:</strong><p style="margin-top:10px;margin-bottom:0">DNS handles over 2 trillion queries per day! The root DNS servers answer about 1,000 queries per second each. Despite this massive load, DNS lookups typically complete in under 100 milliseconds!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which DNS record type maps a domain name to an IPv4 address?</p><ul><li>A) AAAA Record</li><li>B) CNAME Record</li><li>C) A Record \u2713</li><li>D) MX Record</li></ul><p style="margin-top:15px"><em>Answer: C - A Record maps a domain to an IPv4 address (AAAA is for IPv6)!</em></p></div></div>',questions:[{q:"Which DNS record type maps a domain name to an IPv4 address?",options:["AAAA Record","CNAME Record","A Record","MX Record"],answer:2}],tools:[{name:"DNS Lookup Tool",type:"interactive",description:"Perform DNS queries"}]},{title:"HTTP and Web Technologies",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf0d</div><p>HTTP: HyperText Transfer Protocol - The foundation of the World Wide Web!</p></div><h2>\ud83d\udce1 What is HTTP?</h2><p>HTTP (HyperText Transfer Protocol) is the application-layer protocol used for transmitting web pages, images, videos, and other resources over the Internet. It\'s a request-response protocol between clients (browsers) and servers.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udce4</span><h4>Request</h4><p>Client asks for resource</p></div><div class="info-card"><span class="card-icon">\ud83d\udce5</span><h4>Response</h4><p>Server sends resource</p></div><div class="info-card"><span class="card-icon">\ud83d\udd13</span><h4>Stateless</h4><p>Each request is independent</p></div><div class="info-card"><span class="card-icon">\ud83d\udcdd</span><h4>Text-Based</h4><p>Human-readable format</p></div></div><h2>\ud83c\udfaf HTTP Methods</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcd6</span><h4>GET</h4><p>Retrieve data (read-only)</p></div><div class="info-card"><span class="card-icon">\ud83d\udcee</span><h4>POST</h4><p>Submit data (create)</p></div><div class="info-card"><span class="card-icon">\u270f\ufe0f</span><h4>PUT</h4><p>Update entire resource</p></div><div class="info-card"><span class="card-icon">\ud83d\udd27</span><h4>PATCH</h4><p>Partial update</p></div><div class="info-card"><span class="card-icon">\ud83d\uddd1\ufe0f</span><h4>DELETE</h4><p>Remove resource</p></div><div class="info-card"><span class="card-icon">\ud83d\udccb</span><h4>HEAD</h4><p>Get headers only</p></div></div><h2>\ud83d\udcca HTTP Request Structure</h2><div class="code-box">GET /index.html HTTP/1.1<br>Host: www.example.com<br>User-Agent: Mozilla/5.0<br>Accept: text/html,application/xhtml+xml<br>Accept-Language: en-US,en;q=0.9<br>Connection: keep-alive<br><br>[Optional Request Body]</div><h2>\ud83d\udce8 HTTP Response Structure</h2><div class="code-box">HTTP/1.1 200 OK<br>Date: Mon, 23 May 2024 12:00:00 GMT<br>Server: Apache/2.4.1<br>Content-Type: text/html; charset=UTF-8<br>Content-Length: 1234<br>Connection: keep-alive<br><br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;&lt;title&gt;Example&lt;/title&gt;&lt;/head&gt;<br>&lt;body&gt;Hello World!&lt;/body&gt;<br>&lt;/html&gt;</div><h2>\ud83d\udd22 HTTP Status Codes</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\u2705</span><h4>2xx Success</h4><p>200 OK, 201 Created, 204 No Content</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>3xx Redirect</h4><p>301 Moved, 302 Found, 304 Not Modified</p></div><div class="info-card"><span class="card-icon">\u274c</span><h4>4xx Client Error</h4><p>400 Bad Request, 404 Not Found, 403 Forbidden</p></div><div class="info-card"><span class="card-icon">\ud83d\udca5</span><h4>5xx Server Error</h4><p>500 Internal Error, 502 Bad Gateway, 503 Unavailable</p></div></div><h2>\ud83d\udd12 HTTPS - Secure HTTP</h2><div class="info-box"><strong>HTTPS = HTTP + TLS/SSL Encryption</strong><ul><li><strong>Encryption:</strong> Data encrypted in transit</li><li><strong>Authentication:</strong> Verify server identity via certificates</li><li><strong>Integrity:</strong> Detect tampering</li><li><strong>Port:</strong> 443 (vs HTTP\'s 80)</li><li><strong>Padlock:</strong> Browser shows secure indicator</li></ul></div><h2>\ud83c\udf6a Cookies and Sessions</h2><div class="code-box">// HTTP is stateless, so we use cookies!<br><br>// Server sets cookie:<br>Set-Cookie: sessionId=abc123; Path=/; HttpOnly; Secure<br><br>// Browser sends cookie with requests:<br>Cookie: sessionId=abc123<br><br>// Cookie attributes:<br>- Domain: Which domain can access<br>- Path: Which paths can access<br>- Expires: When cookie expires<br>- HttpOnly: Not accessible via JavaScript<br>- Secure: Only sent over HTTPS<br>- SameSite: CSRF protection</div><h2>\u26a1 HTTP/2 and HTTP/3</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">1\ufe0f\u20e3</span><h4>HTTP/1.1</h4><p>Text-based, one request per connection</p></div><div class="info-card"><span class="card-icon">2\ufe0f\u20e3</span><h4>HTTP/2</h4><p>Binary, multiplexing, server push</p></div><div class="info-card"><span class="card-icon">3\ufe0f\u20e3</span><h4>HTTP/3</h4><p>QUIC protocol, UDP-based, faster</p></div><div class="info-card"><span class="card-icon">\ud83d\ude80</span><h4>Benefits</h4><p>Faster page loads, better performance</p></div></div><div class="info-box"><strong>\u26a0\ufe0f Common HTTP Headers:</strong><ul><li><strong>Content-Type:</strong> MIME type of body (text/html, application/json)</li><li><strong>Content-Length:</strong> Size of body in bytes</li><li><strong>Cache-Control:</strong> Caching directives</li><li><strong>Authorization:</strong> Authentication credentials</li><li><strong>User-Agent:</strong> Client software info</li><li><strong>Referer:</strong> Previous page URL</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Web Scale:</strong><p style="margin-top:10px;margin-bottom:0">Over 400 million websites use HTTPS! Google Chrome processes billions of HTTP requests daily. The average web page makes 70+ HTTP requests to load all resources (HTML, CSS, JS, images, fonts)!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which HTTP status code indicates a successful request?</p><ul><li>A) 404</li><li>B) 301</li><li>C) 200 \u2713</li><li>D) 500</li></ul><p style="margin-top:15px"><em>Answer: C - 200 OK indicates the request was successful!</em></p></div></div>',questions:[{q:"Which HTTP status code indicates a successful request?",options:["404","301","200","500"],answer:2}],tools:[{name:"HTTP Inspector",type:"interactive",description:"Inspect HTTP requests and responses"}]},{title:"Routing and Switching",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd00</div><p>Routing & Switching: Directing traffic across networks!</p></div><h2>\ud83d\udd04 Switches - Layer 2 Devices</h2><p>Switches operate at the Data Link layer (Layer 2) and forward frames based on MAC addresses. They create a network within a single broadcast domain, connecting devices in a LAN.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udff7\ufe0f</span><h4>MAC Addresses</h4><p>48-bit hardware addresses (AA:BB:CC:DD:EE:FF)</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>MAC Table</h4><p>Learns which MAC is on which port</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Fast Forwarding</h4><p>Hardware-based switching (wire speed)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd07</span><h4>Collision Domains</h4><p>Each port is separate collision domain</p></div></div><h2>\ud83d\udccb How Switches Learn</h2><div class="code-box">1. Switch starts with empty MAC table<br><br>2. Frame arrives on Port 1<br>   Source MAC: AA:BB:CC:DD:EE:01<br>   \u2514\u2500 Learn: MAC 01 is on Port 1<br><br>3. Destination MAC: AA:BB:CC:DD:EE:02<br>   \u2514\u2500 Not in table \u2192 FLOOD to all ports<br><br>4. Device 02 replies on Port 3<br>   \u2514\u2500 Learn: MAC 02 is on Port 3<br><br>5. Future frames between 01 and 02<br>   \u2514\u2500 Forward directly (no flooding)<br><br>MAC Table:<br>Port 1: AA:BB:CC:DD:EE:01<br>Port 3: AA:BB:CC:DD:EE:02</div><h2>\ud83d\uddfa\ufe0f Routers - Layer 3 Devices</h2><p>Routers operate at the Network layer (Layer 3) and forward packets based on IP addresses. They connect different networks and make intelligent path decisions.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>IP Routing</h4><p>Forward based on IP addresses</p></div><div class="info-card"><span class="card-icon">\ud83d\uddfa\ufe0f</span><h4>Routing Table</h4><p>Best path to each network</p></div><div class="info-card"><span class="card-icon">\ud83d\udea7</span><h4>Broadcast Boundary</h4><p>Separate broadcast domains</p></div><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Security</h4><p>ACLs, firewall capabilities</p></div></div><h2>\ud83d\udcca Routing Table Example</h2><div class="code-box">Destination      Gateway         Interface   Metric<br>0.0.0.0/0        192.168.1.1     eth0        10   (Default)<br>192.168.1.0/24   0.0.0.0         eth0        0    (Direct)<br>10.0.0.0/8       192.168.1.254   eth0        20   (Static)<br>172.16.0.0/16    192.168.1.253   eth0        15   (RIP)<br><br>Routing Decision:<br>1. Most specific match wins<br>2. If tie, lowest metric wins<br>3. Default route (0.0.0.0/0) is last resort</div><h2>\ud83c\udfaf Routing Protocols</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udccf</span><h4>RIP</h4><p>Distance Vector - hop count (max 15)</p></div><div class="info-card"><span class="card-icon">\ud83d\udd17</span><h4>OSPF</h4><p>Link State - fastest path, scalable</p></div><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>BGP</h4><p>Path Vector - Internet backbone</p></div><div class="info-card"><span class="card-icon">\ud83c\udfe2</span><h4>EIGRP</h4><p>Hybrid - Cisco proprietary, efficient</p></div></div><h2>\u2696\ufe0f Switch vs Router</h2><div class="info-box"><strong>Switch (Layer 2):</strong><ul><li>Forwards based on MAC addresses</li><li>Operates within single network</li><li>Fast hardware-based forwarding</li><li>All ports in same broadcast domain</li><li>Example: Connect computers in office</li></ul><strong>Router (Layer 3):</strong><ul><li>Forwards based on IP addresses</li><li>Connects different networks</li><li>Makes intelligent path decisions</li><li>Separates broadcast domains</li><li>Example: Connect office to Internet</li></ul></div><h2>\ud83d\udd00 Static vs Dynamic Routing</h2><div class="code-box">// Static Route (Manual configuration)<br>ip route 10.0.0.0 255.0.0.0 192.168.1.254<br><br>Pros: Simple, predictable, no overhead<br>Cons: Manual updates, doesn\'t adapt<br><br>// Dynamic Routing (Automatic)<br>router ospf 1<br>  network 192.168.1.0 0.0.0.255 area 0<br><br>Pros: Automatic updates, adapts to changes<br>Cons: More complex, uses bandwidth</div><h2>\ud83c\udfd7\ufe0f VLANs - Virtual LANs</h2><div class="info-box"><strong>VLANs on Switches:</strong><ul><li><strong>Purpose:</strong> Logically segment network</li><li><strong>Benefits:</strong> Security, performance, organization</li><li><strong>Trunking:</strong> Carry multiple VLANs on one link</li><li><strong>802.1Q:</strong> VLAN tagging standard</li><li><strong>Example:</strong> VLAN 10 = Sales, VLAN 20 = IT</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Internet Routing:</strong><p style="margin-top:10px;margin-bottom:0">The Internet has over 900,000 routes in the global BGP routing table! Your packet might hop through 10-20 routers to reach its destination, with each router making a forwarding decision in microseconds!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What address does a switch use to forward frames?</p><ul><li>A) IP address</li><li>B) MAC address \u2713</li><li>C) Port number</li><li>D) Domain name</li></ul><p style="margin-top:15px"><em>Answer: B - Switches forward frames based on MAC addresses (Layer 2)!</em></p></div></div>',questions:[{q:"What address does a switch use to forward frames?",options:["IP address","MAC address","Port number","Domain name"],answer:1}],tools:[{name:"Routing Simulator",type:"interactive",description:"Simulate routing decisions"}]},{title:"Wireless Networks (WiFi)",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce1</div><p>WiFi: Wireless networking - freedom from cables!</p></div><h2>\ud83d\udcf6 WiFi Standards (802.11)</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcfb</span><h4>802.11b/g</h4><p>2.4GHz, 54Mbps (legacy)</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>802.11n (WiFi 4)</h4><p>2.4/5GHz, 600Mbps, MIMO</p></div><div class="info-card"><span class="card-icon">\ud83d\ude80</span><h4>802.11ac (WiFi 5)</h4><p>5GHz, 3.5Gbps, MU-MIMO</p></div><div class="info-card"><span class="card-icon">\u2728</span><h4>802.11ax (WiFi 6/6E)</h4><p>2.4/5/6GHz, 9.6Gbps, OFDMA</p></div></div><h2>\ud83d\udcca Frequency Bands</h2><div class="info-box"><strong>2.4 GHz Band:</strong><ul><li><strong>Channels:</strong> 1-11 (US), 1-13 (Europe)</li><li><strong>Range:</strong> Better penetration, longer range</li><li><strong>Speed:</strong> Slower (more interference)</li><li><strong>Interference:</strong> Bluetooth, microwaves, cordless phones</li></ul><strong>5 GHz Band:</strong><ul><li><strong>Channels:</strong> Many more (36, 40, 44, 48, etc.)</li><li><strong>Range:</strong> Shorter range, less penetration</li><li><strong>Speed:</strong> Much faster, less congestion</li><li><strong>Best for:</strong> Streaming, gaming, high bandwidth</li></ul></div><h2>\ud83d\udd10 WiFi Security</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udeab</span><h4>Open</h4><p>No encryption - NEVER use!</p></div><div class="info-card"><span class="card-icon">\u26a0\ufe0f</span><h4>WEP</h4><p>Broken - easily cracked</p></div><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>WPA/WPA2</h4><p>Secure - use WPA2 minimum</p></div><div class="info-card"><span class="card-icon">\u2705</span><h4>WPA3</h4><p>Latest - best security</p></div></div><h2>\ud83d\udce1 WiFi Components</h2><div class="code-box">Access Point (AP):<br>  - Wireless hub/bridge<br>  - Connects wireless clients to wired network<br>  - SSID: Network name (broadcast or hidden)<br>  - BSSID: AP\'s MAC address<br><br>Wireless Client:<br>  - Laptop, phone, IoT device<br>  - Scans for available networks<br>  - Associates with AP<br>  - Authenticates and connects<br><br>Wireless Controller:<br>  - Manages multiple APs<br>  - Centralized configuration<br>  - Roaming support</div><h2>\ud83c\udfaf WiFi Channels</h2><div class="info-box"><strong>2.4 GHz Non-Overlapping Channels:</strong><p style="margin-top:10px">Only channels 1, 6, and 11 don\'t overlap!</p><ul><li><strong>Channel 1:</strong> 2.412 GHz</li><li><strong>Channel 6:</strong> 2.437 GHz</li><li><strong>Channel 11:</strong> 2.462 GHz</li></ul><p style="margin-top:10px"><strong>Pro Tip:</strong> Use only 1, 6, or 11 to avoid interference!</p></div><h2>\ud83d\udcf6 Signal Strength (RSSI)</h2><div class="code-box">RSSI (Received Signal Strength Indicator)<br><br>Excellent: -30 to -50 dBm  (right next to AP)<br>Good:     -50 to -60 dBm  (normal use)<br>Fair:     -60 to -70 dBm  (slower speeds)<br>Poor:     -70 to -80 dBm  (unreliable)<br>Unusable: -80 to -90 dBm  (can\'t connect)<br><br>Note: More negative = weaker signal</div><h2>\ud83d\udd04 WiFi Connection Process</h2><div class="code-box">1. Scanning<br>   \u2514\u2500 Client scans channels for beacon frames<br><br>2. Authentication<br>   \u2514\u2500 Open System or Shared Key<br><br>3. Association<br>   \u2514\u2500 Client associates with AP<br><br>4. DHCP<br>   \u2514\u2500 Obtain IP address<br><br>5. Connected!<br>   \u2514\u2500 Data transmission begins</div><h2>\u26a1 WiFi 6 Improvements</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>OFDMA</h4><p>Multiple devices simultaneously</p></div><div class="info-card"><span class="card-icon">\ud83c\udfa8</span><h4>BSS Coloring</h4><p>Reduce interference</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0b</span><h4>TWT</h4><p>Target Wake Time - battery saving</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>1024-QAM</h4><p>Higher data rates</p></div></div><div class="info-box"><strong>\u26a0\ufe0f WiFi Best Practices:</strong><ul><li><strong>Use WPA3 or WPA2:</strong> Never use WEP or Open</li><li><strong>Strong password:</strong> 12+ characters, complex</li><li><strong>Change default SSID:</strong> Don\'t advertise router model</li><li><strong>Disable WPS:</strong> Security vulnerability</li><li><strong>Update firmware:</strong> Keep router up to date</li><li><strong>Guest network:</strong> Isolate visitors from main network</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f WiFi Everywhere:</strong><p style="margin-top:10px;margin-bottom:0">There are over 13 billion WiFi devices worldwide! The average home has 10+ WiFi-connected devices. WiFi 6E opens up the 6GHz band with 1200MHz of spectrum - that\'s more than 2.4GHz and 5GHz combined!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which 2.4GHz WiFi channels don\'t overlap?</p><ul><li>A) 1, 2, 3</li><li>B) 1, 6, 11 \u2713</li><li>C) 1, 5, 9</li><li>D) All channels overlap</li></ul><p style="margin-top:15px"><em>Answer: B - Channels 1, 6, and 11 are the only non-overlapping channels in 2.4GHz!</em></p></div></div>',questions:[{q:"Which 2.4GHz WiFi channels don't overlap?",options:["1, 2, 3","1, 6, 11","1, 5, 9","All channels overlap"],answer:1}],tools:[{name:"WiFi Analyzer",type:"interactive",description:"Analyze WiFi networks and channels"}]},{title:"Network Security Fundamentals",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd12</div><p>Network Security: Protecting your data from threats!</p></div><h2>\ud83d\udee1\ufe0f CIA Triad</h2><p>The foundation of information security - three core principles that guide security practices:</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Confidentiality</h4><p>Only authorized access to data</p></div><div class="info-card"><span class="card-icon">\u2705</span><h4>Integrity</h4><p>Data remains accurate and unaltered</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Availability</h4><p>Data accessible when needed</p></div></div><h2>\ud83d\udd25 Firewalls</h2><div class="info-box"><strong>Firewall Types:</strong><ul><li><strong>Packet Filtering:</strong> Basic, checks headers (Layer 3/4)</li><li><strong>Stateful:</strong> Tracks connection state</li><li><strong>Application (Layer 7):</strong> Deep packet inspection</li><li><strong>Next-Gen (NGFW):</strong> IPS, malware detection, app control</li></ul></div><div class="code-box">// Firewall Rules Example<br><br>Rule 1: ALLOW<br>  Source: 192.168.1.0/24<br>  Destination: Any<br>  Port: 80, 443 (HTTP/HTTPS)<br>  Action: PERMIT<br><br>Rule 2: DENY<br>  Source: Any<br>  Destination: 192.168.1.100<br>  Port: 22 (SSH)<br>  Action: DROP<br><br>Rule 3: ALLOW<br>  Source: 10.0.0.5<br>  Destination: 192.168.1.100<br>  Port: 22<br>  Action: PERMIT<br><br>Default: DENY ALL</div><h2>\ud83d\udd10 VPN - Virtual Private Network</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Encryption</h4><p>Secure tunnel through public network</p></div><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>Remote Access</h4><p>Connect to office from anywhere</p></div><div class="info-card"><span class="card-icon">\ud83d\udd17</span><h4>Site-to-Site</h4><p>Connect multiple offices</p></div><div class="info-card"><span class="card-icon">\ud83c\udfad</span><h4>Privacy</h4><p>Hide your IP and location</p></div></div><h2>\u2694\ufe0f Common Network Attacks</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udca5</span><h4>DDoS</h4><p>Overwhelm with traffic</p></div><div class="info-card"><span class="card-icon">\ud83c\udfa3</span><h4>Phishing</h4><p>Fake emails/sites to steal credentials</p></div><div class="info-card"><span class="card-icon">\ud83d\udc64</span><h4>Man-in-the-Middle</h4><p>Intercept communications</p></div><div class="info-card"><span class="card-icon">\ud83d\udc1b</span><h4>Malware</h4><p>Viruses, ransomware, trojans</p></div><div class="info-card"><span class="card-icon">\ud83d\udd13</span><h4>Brute Force</h4><p>Guess passwords repeatedly</p></div><div class="info-card"><span class="card-icon">\ud83d\udc89</span><h4>SQL Injection</h4><p>Exploit database queries</p></div></div><h2>\ud83d\udd11 Authentication Methods</h2><div class="info-box"><strong>Multi-Factor Authentication (MFA):</strong><ul><li><strong>Something you know:</strong> Password, PIN</li><li><strong>Something you have:</strong> Phone, token, smart card</li><li><strong>Something you are:</strong> Fingerprint, face, retina</li></ul><p style="margin-top:10px"><strong>Best Practice:</strong> Always use 2FA/MFA when available!</p></div><h2>\ud83d\udd12 Encryption Protocols</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>SSL/TLS</h4><p>HTTPS, secure web browsing</p></div><div class="info-card"><span class="card-icon">\ud83d\udd10</span><h4>IPSec</h4><p>VPN encryption, site-to-site</p></div><div class="info-card"><span class="card-icon">\ud83d\udd11</span><h4>SSH</h4><p>Secure remote access</p></div><div class="info-card"><span class="card-icon">\ud83d\udce7</span><h4>PGP/GPG</h4><p>Email encryption</p></div></div><h2>\ud83d\udee1\ufe0f Defense in Depth</h2><div class="code-box">Layered Security Approach:<br><br>Layer 1: Physical Security<br>  \u2514\u2500 Locks, cameras, access control<br><br>Layer 2: Perimeter Security<br>  \u2514\u2500 Firewall, IPS/IDS<br><br>Layer 3: Network Security<br>  \u2514\u2500 Segmentation, VLANs, ACLs<br><br>Layer 4: Endpoint Security<br>  \u2514\u2500 Antivirus, EDR, patches<br><br>Layer 5: Application Security<br>  \u2514\u2500 Input validation, secure coding<br><br>Layer 6: Data Security<br>  \u2514\u2500 Encryption, DLP, backups<br><br>Layer 7: User Education<br>  \u2514\u2500 Training, awareness, policies</div><h2>\ud83d\udd0d IDS vs IPS</h2><div class="info-box"><strong>IDS (Intrusion Detection System):</strong><ul><li>Monitors and alerts on suspicious activity</li><li>Passive - doesn\'t block traffic</li><li>Analyzes patterns and signatures</li></ul><strong>IPS (Intrusion Prevention System):</strong><ul><li>Detects AND blocks threats</li><li>Active - inline with traffic</li><li>Can stop attacks in real-time</li></ul></div><div class="code-box">// Security Best Practices<br><br>1. Strong Passwords<br>   - 12+ characters<br>   - Mix of upper, lower, numbers, symbols<br>   - Unique per account<br>   - Use password manager<br><br>2. Keep Updated<br>   - OS patches<br>   - Application updates<br>   - Firmware updates<br><br>3. Principle of Least Privilege<br>   - Minimum necessary permissions<br>   - Regular access reviews<br><br>4. Network Segmentation<br>   - Separate critical systems<br>   - Limit lateral movement<br><br>5. Backup Everything<br>   - 3-2-1 rule: 3 copies, 2 media, 1 offsite<br>   - Test restores regularly</div><div class="fun-fact"><strong>\ud83c\udf1f Cyber Threat Scale:</strong><p style="margin-top:10px;margin-bottom:0">Over 2,200 cyberattacks happen every day - that\'s one every 39 seconds! The average cost of a data breach is $4.45 million. 95% of cybersecurity breaches are due to human error!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the "C" in CIA Triad stand for?</p><ul><li>A) Cryptography</li><li>B) Confidentiality \u2713</li><li>C) Certification</li><li>D) Compliance</li></ul><p style="margin-top:15px"><em>Answer: B - Confidentiality ensures only authorized users can access data!</em></p></div></div>',questions:[{q:"What does the 'C' in CIA Triad stand for?",options:["Cryptography","Confidentiality","Certification","Compliance"],answer:1}],tools:[{name:"Security Scanner",type:"interactive",description:"Scan for security vulnerabilities"}]},{title:"Network Troubleshooting",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd27</div><p>Network Troubleshooting: Diagnose and fix network issues like a pro!</p></div><h2>\ud83c\udfaf Troubleshooting Methodology</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">1\ufe0f\u20e3</span><h4>Identify</h4><p>What\'s the problem? Gather symptoms</p></div><div class="info-card"><span class="card-icon">2\ufe0f\u20e3</span><h4>Establish Theory</h4><p>What could cause this?</p></div><div class="info-card"><span class="card-icon">3\ufe0f\u20e3</span><h4>Test Theory</h4><p>Verify your hypothesis</p></div><div class="info-card"><span class="card-icon">4\ufe0f\u20e3</span><h4>Plan Action</h4><p>How to fix it?</p></div><div class="info-card"><span class="card-icon">5\ufe0f\u20e3</span><h4>Implement</h4><p>Apply the solution</p></div><div class="info-card"><span class="card-icon">6\ufe0f\u20e3</span><h4>Verify</h4><p>Confirm it\'s fixed</p></div><div class="info-card"><span class="card-icon">7\ufe0f\u20e3</span><h4>Document</h4><p>Record the solution</p></div></div><h2>\ud83d\udee0\ufe0f Essential Network Tools</h2><div class="code-box">// PING - Test connectivity<br>ping 8.8.8.8<br>ping google.com<br><br>Results:<br>  Reply: Host is reachable<br>  Timeout: No response (firewall/down)<br>  TTL: Time To Live (hops remaining)<br>  Time: Round-trip latency<br><br>// TRACEROUTE - Path to destination<br>Windows: tracert google.com<br>Linux:   traceroute google.com<br><br>Shows each hop along the route<br><br>// NSLOOKUP - DNS queries<br>nslookup google.com<br>nslookup google.com 8.8.8.8<br><br>// IPCONFIG/IFCONFIG - Network config<br>Windows: ipconfig /all<br>Linux:   ifconfig or ip addr<br><br>// NETSTAT - Active connections<br>netstat -an  (all connections)<br>netstat -r   (routing table)</div><h2>\ud83d\udd0d OSI Model Troubleshooting</h2><div class="info-box"><strong>Bottom-Up Approach (Most Common):</strong><ul><li><strong>Layer 1 (Physical):</strong> Cable plugged in? Link lights on?</li><li><strong>Layer 2 (Data Link):</strong> Correct VLAN? MAC address issues?</li><li><strong>Layer 3 (Network):</strong> IP config correct? Can ping gateway?</li><li><strong>Layer 4 (Transport):</strong> Port open? Firewall blocking?</li><li><strong>Layer 5-7 (Upper):</strong> Application working? DNS resolving?</li></ul></div><h2>\ud83d\udea8 Common Network Problems</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd0c</span><h4>No Connectivity</h4><p>Check: Cable, link lights, IP config</p></div><div class="info-card"><span class="card-icon">\ud83d\udc0c</span><h4>Slow Network</h4><p>Check: Bandwidth, congestion, duplex mismatch</p></div><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>Can\'t Reach Website</h4><p>Check: DNS, routing, firewall</p></div><div class="info-card"><span class="card-icon">\ud83d\udce1</span><h4>WiFi Issues</h4><p>Check: Signal strength, interference, channel</p></div></div><h2>\ud83d\udd27 Troubleshooting Scenarios</h2><div class="code-box">Scenario 1: "Can\'t access the Internet"<br><br>Step 1: Check local connectivity<br>  ping 127.0.0.1  (loopback - tests TCP/IP stack)<br>  \u2713 Works \u2192 Network stack OK<br><br>Step 2: Check local network<br>  ping [default gateway]<br>  \u2713 Works \u2192 Local network OK<br>  \u2717 Fails \u2192 Check cable, switch, IP config<br><br>Step 3: Check Internet connectivity<br>  ping 8.8.8.8  (Google DNS)<br>  \u2713 Works \u2192 Internet OK, likely DNS issue<br>  \u2717 Fails \u2192 Check router, ISP<br><br>Step 4: Check DNS<br>  ping google.com<br>  \u2713 Works \u2192 Everything OK!<br>  \u2717 Fails \u2192 DNS problem, check DNS settings</div><div class="code-box">Scenario 2: "Network is slow"<br><br>Step 1: Test speed<br>  speedtest.net or fast.com<br><br>Step 2: Check bandwidth usage<br>  Task Manager \u2192 Performance \u2192 Network<br>  Is something using all bandwidth?<br><br>Step 3: Check for interference (WiFi)<br>  Use WiFi analyzer<br>  Change channel if congested<br><br>Step 4: Check duplex settings<br>  Mismatch causes collisions<br>  Should be auto or match both sides<br><br>Step 5: Check for network loops<br>  Spanning Tree issues?<br>  Broadcast storms?</div><h2>\ud83d\udcca Network Monitoring Tools</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcc8</span><h4>Wireshark</h4><p>Packet capture and analysis</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0d</span><h4>PRTG</h4><p>Network monitoring and alerts</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>SolarWinds</h4><p>Comprehensive network tools</p></div><div class="info-card"><span class="card-icon">\u26a1</span><h4>Nagios</h4><p>Open-source monitoring</p></div></div><h2>\ud83d\udd0d Advanced Diagnostics</h2><div class="code-box">// ARP - Address Resolution Protocol<br>arp -a  (view ARP cache)<br>arp -d  (clear ARP cache)<br><br>// ROUTE - Routing table<br>route print  (Windows)<br>route -n     (Linux)<br><br>// PATHPING - Combines ping + tracert<br>pathping google.com<br>Shows packet loss at each hop<br><br>// TELNET - Test port connectivity<br>telnet google.com 80<br>Tests if port 80 is open<br><br>// NMAP - Network scanner<br>nmap -sP 192.168.1.0/24  (ping scan)<br>nmap -sV 192.168.1.1      (version scan)</div><div class="info-box"><strong>\u26a0\ufe0f Troubleshooting Tips:</strong><ul><li><strong>Start simple:</strong> Check physical layer first</li><li><strong>One change at a time:</strong> Don\'t change multiple things</li><li><strong>Document everything:</strong> What you tried, results</li><li><strong>Check both ends:</strong> Client AND server</li><li><strong>Verify after fix:</strong> Make sure it actually works</li><li><strong>Learn from it:</strong> Understand WHY it failed</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Pro Troubleshooter:</strong><p style="margin-top:10px;margin-bottom:0">80% of network problems are Layer 1 (physical) issues - loose cables, bad ports, or power problems. Always check the simple stuff first! The best troubleshooters are methodical, patient, and document everything.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does ping 127.0.0.1 test?</p><ul><li>A) Internet connectivity</li><li>B) Local network</li><li>C) TCP/IP stack on local machine \u2713</li><li>D) DNS resolution</li></ul><p style="margin-top:15px"><em>Answer: C - 127.0.0.1 is the loopback address, testing your own TCP/IP stack!</em></p></div></div>',questions:[{q:"What does ping 127.0.0.1 test?",options:["Internet connectivity","Local network","TCP/IP stack on local machine","DNS resolution"],answer:2}],tools:[{name:"Network Diagnostic Tool",type:"interactive",description:"Run network diagnostics"}]},{title:"Cloud Networking and SDN",content:'<style>.networking-lesson{padding:0;margin:0}.networking-lesson h2{color:#3498db;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #3498db;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(52,152,219,0.1) 0%,rgba(41,128,185,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(52,152,219,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #3498db;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(52,152,219,0.08) 0%,rgba(41,128,185,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(52,152,219,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(52,152,219,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#3498db;margin-bottom:10px;font-size:1.2em}.networking-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.networking-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="networking-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u2601\ufe0f</div><p>Cloud Networking & SDN: The future of networking is software-defined!</p></div><h2>\u2601\ufe0f Cloud Networking Basics</h2><p>Cloud networking moves network infrastructure to the cloud, providing scalability, flexibility, and reduced hardware costs. Instead of physical routers and switches, you configure virtual networks through software.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>Virtual Networks</h4><p>Software-defined network segments</p></div><div class="info-card"><span class="card-icon">\ud83d\udcc8</span><h4>Scalability</h4><p>Scale up/down on demand</p></div><div class="info-card"><span class="card-icon">\ud83d\udcb0</span><h4>Cost Effective</h4><p>Pay for what you use</p></div><div class="info-card"><span class="card-icon">\ud83c\udf0d</span><h4>Global Reach</h4><p>Deploy anywhere instantly</p></div></div><h2>\ud83c\udfaf Cloud Service Models</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udda5\ufe0f</span><h4>IaaS</h4><p>Infrastructure as a Service - VMs, storage, networks</p></div><div class="info-card"><span class="card-icon">\ud83d\udd27</span><h4>PaaS</h4><p>Platform as a Service - Development platforms</p></div><div class="info-card"><span class="card-icon">\ud83d\udcf1</span><h4>SaaS</h4><p>Software as a Service - Ready-to-use apps</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>NaaS</h4><p>Network as a Service - Network functions</p></div></div><h2>\ud83d\udd00 SDN - Software-Defined Networking</h2><div class="info-box"><strong>Traditional vs SDN:</strong><ul><li><strong>Traditional:</strong> Control plane + data plane together in each device</li><li><strong>SDN:</strong> Centralized control plane, distributed data plane</li><li><strong>Benefits:</strong> Programmable, automated, flexible</li><li><strong>Controller:</strong> Brain of the network (OpenFlow, ONOS)</li></ul></div><div class="code-box">SDN Architecture:<br><br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>\u2502   Application Layer             \u2502<br>\u2502   (Network Apps, Orchestration) \u2502<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518<br>         \u2195 Northbound API<br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>\u2502   Control Layer                 \u2502<br>\u2502   (SDN Controller)              \u2502<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518<br>         \u2195 Southbound API (OpenFlow)<br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>\u2502   Infrastructure Layer          \u2502<br>\u2502   (Switches, Routers)           \u2502<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</div><h2>\ud83c\udf10 Major Cloud Providers</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\u2601\ufe0f</span><h4>AWS</h4><p>VPC, Route 53, CloudFront, Direct Connect</p></div><div class="info-card"><span class="card-icon">\ud83d\udd37</span><h4>Azure</h4><p>Virtual Network, ExpressRoute, Traffic Manager</p></div><div class="info-card"><span class="card-icon">\ud83d\udd35</span><h4>Google Cloud</h4><p>VPC, Cloud CDN, Cloud Interconnect</p></div><div class="info-card"><span class="card-icon">\ud83c\udf0a</span><h4>DigitalOcean</h4><p>Droplets, VPC, Load Balancers</p></div></div><h2>\ud83d\udd12 Cloud Network Security</h2><div class="code-box">// AWS VPC Security Example<br><br>Security Groups (Stateful Firewall):<br>  - Inbound Rules:<br>    * Allow TCP 443 from 0.0.0.0/0<br>    * Allow TCP 22 from 203.0.113.0/24<br>  - Outbound Rules:<br>    * Allow all traffic<br><br>Network ACLs (Stateless Firewall):<br>  - Subnet-level filtering<br>  - Rule numbers determine order<br>  - Explicit allow AND deny rules<br><br>VPN Gateway:<br>  - Site-to-Site VPN<br>  - Client VPN<br>  - IPSec tunnels<br><br>Private Link:<br>  - Private connectivity to services<br>  - No internet exposure</div><h2>\ud83d\udcca Load Balancing</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\u2696\ufe0f</span><h4>Layer 4</h4><p>TCP/UDP - fast, simple</p></div><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>Layer 7</h4><p>HTTP/HTTPS - content-based routing</p></div><div class="info-card"><span class="card-icon">\ud83c\udf0d</span><h4>Global</h4><p>DNS-based, geo-routing</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Algorithms</h4><p>Round-robin, least connections, IP hash</p></div></div><h2>\ud83d\ude80 CDN - Content Delivery Network</h2><div class="info-box"><strong>How CDN Works:</strong><ul><li><strong>Edge Locations:</strong> Servers worldwide cache content</li><li><strong>Origin Server:</strong> Your main server with original content</li><li><strong>Cache:</strong> Static content served from nearest edge</li><li><strong>Benefits:</strong> Faster load times, reduced bandwidth, DDoS protection</li><li><strong>Popular CDNs:</strong> CloudFlare, Akamai, CloudFront, Fastly</li></ul></div><div class="code-box">CDN Request Flow:<br><br>1. User requests www.example.com/image.jpg<br>   \u2514\u2500 DNS resolves to nearest CDN edge<br><br>2. Edge server checks cache<br>   \u251c\u2500 HIT: Serve from cache (fast!)<br>   \u2514\u2500 MISS: Request from origin server<br><br>3. Origin sends content to edge<br>   \u2514\u2500 Edge caches for future requests<br><br>4. Edge serves content to user<br>   \u2514\u2500 Low latency, high speed!<br><br>Result: 50-90% faster load times!</div><h2>\ud83d\udd04 Network Automation</h2><div class="code-box">// Infrastructure as Code (Terraform)<br><br>resource "aws_vpc" "main" {<br>  cidr_block = "10.0.0.0/16"<br>  <br>  tags = {<br>    Name = "main-vpc"<br>  }<br>}<br><br>resource "aws_subnet" "public" {<br>  vpc_id     = aws_vpc.main.id<br>  cidr_block = "10.0.1.0/24"<br>  <br>  tags = {<br>    Name = "public-subnet"<br>  }<br>}<br><br>// Ansible for network automation<br>- name: Configure router<br>  ios_config:<br>    lines:<br>      - ip address 192.168.1.1 255.255.255.0<br>      - no shutdown<br>    parents: interface GigabitEthernet0/1</div><h2>\ud83c\udf1f Future of Networking</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83e\udd16</span><h4>AI/ML</h4><p>Intelligent traffic optimization</p></div><div class="info-card"><span class="card-icon">\ud83d\udd17</span><h4>5G</h4><p>Ultra-fast mobile networks</p></div><div class="info-card"><span class="card-icon">\ud83c\udf10</span><h4>Edge Computing</h4><p>Processing at network edge</p></div><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>Zero Trust</h4><p>Never trust, always verify</p></div></div><div class="fun-fact"><strong>\ud83c\udf1f Cloud Scale:</strong><p style="margin-top:10px;margin-bottom:0">AWS has over 400 points of presence worldwide! Google\'s network carries 40% of all Internet traffic. Cloud providers invest billions in network infrastructure - more than most countries spend on their entire IT budgets!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is the main benefit of SDN?</p><ul><li>A) Faster hardware</li><li>B) Centralized, programmable network control \u2713</li><li>C) Cheaper cables</li><li>D) Better WiFi</li></ul><p style="margin-top:15px"><em>Answer: B - SDN centralizes network control, making it programmable and automated!</em></p></div></div>',questions:[{q:"What is the main benefit of SDN?",options:["Faster hardware","Centralized, programmable network control","Cheaper cables","Better WiFi"],answer:1}],tools:[{name:"Cloud Network Designer",type:"interactive",description:"Design cloud network architectures"}]},{title:"\ud83c\udf89 Course Completed!",content:'\n    <style>\n      .completion-page { text-align: center; padding: 40px 20px; }\n      .trophy { font-size: 120px; animation: bounce 2s infinite; margin: 30px 0; }\n      @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }\n      .completion-title { color: #667eea; font-size: 2.5em; margin: 20px 0; font-weight: bold; }\n      .completion-message { font-size: 1.3em; color: #555; margin: 20px 0; line-height: 1.8; }\n      .achievement-box { background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 20px; padding: 40px; margin: 40px auto; max-width: 800px; border: 3px solid #667eea; }\n      .skills-learned { text-align: left; margin: 30px auto; max-width: 600px; }\n      .skills-learned h3 { color: #667eea; font-size: 1.8em; margin-bottom: 20px; text-align: center; }\n      .skills-learned ul { list-style: none; padding: 0; }\n      .skills-learned li { background: white; padding: 15px 20px; margin: 10px 0; border-radius: 10px; border-left: 5px solid #667eea; font-size: 1.1em; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }\n      .skills-learned li::before { content: "\u2713 "; color: #4caf50; font-weight: bold; font-size: 1.3em; margin-right: 10px; }\n    </style>\n\n    <div class="completion-page">\n      <div class="trophy">\ud83c\udfc6</div>\n      <h1 class="completion-title">Congratulations!</h1>\n      <p class="completion-message">You\'ve successfully completed the <strong>Networking Course</strong>!<br/>You\'re now ready to design, implement, and troubleshoot computer networks!</p>\n\n      <div class="achievement-box">\n        <div style="font-size:50px;margin:20px 0">\ud83c\udf8a \ud83c\udf89 \ud83c\udf8a</div>\n        <h2 style="color: #667eea; margin: 20px 0;">You are now a Networking Expert!</h2>\n        <p style="font-size: 1.2em; color: #555;">You\'ve mastered the fundamentals of computer networking and are ready for advanced topics!</p>\n      </div>\n\n      <div class="skills-learned">\n        <h3>\ud83c\udfaf Skills You\'ve Mastered</h3>\n        <ul>\n          <li>Network topologies and architectures</li>\n          <li>OSI Model and TCP/IP stack</li>\n          <li>Physical layer and transmission media</li>\n          <li>Ethernet and MAC addressing</li>\n          <li>IP addressing and subnetting</li>\n          <li>Routing and switching fundamentals</li>\n          <li>TCP/UDP transport protocols</li>\n          <li>Application layer protocols (HTTP, DNS, etc.)</li>\n          <li>Network security principles</li>\n          <li>Wireless networks and IoT</li>\n        </ul>\n      </div>\n\n      <div style="margin-top: 50px;">\n        <p style="font-size: 1.3em; color: #667eea; font-weight: bold;">Build the Connected World! \ud83c\udf1f</p>\n        <p style="font-size: 1.1em; color: #555; margin-top: 10px;">Networks power everything - from the Internet to smart homes. Go make amazing connections!</p>\n      </div>\n    </div>\n  ',questions:[],tools:[]}]},"embedded-firmware":{id:"embedded-firmware",title:"Embedded Firmware Development",description:"Master bare-metal programming, toolchains, linker scripts, and custom firmware development from scratch",color:"#E74C3C",icon:"\u2699\ufe0f",level:"Advanced",duration:"25 hours",students:"1,250",sessions:[{title:"Introduction to Embedded Firmware Development",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd27</div><p>Embedded Firmware Development: Building software that talks directly to hardware!</p></div><h2>\ud83c\udfaf What is Bare-Metal Programming?</h2><p><strong>Bare-metal programming</strong> means writing code that runs directly on the microcontroller hardware without an operating system. You control every aspect of the hardware - from the first instruction after power-on to how peripherals are configured.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\u2699\ufe0f</span><h4>Direct Hardware Control</h4><p>No OS layer - you program registers directly</p></div><div class="info-card"><span class="card-icon">\ud83d\ude80</span><h4>Maximum Performance</h4><p>Zero overhead, deterministic timing</p></div><div class="info-card"><span class="card-icon">\ud83d\udcbe</span><h4>Minimal Footprint</h4><p>Code fits in tiny memory spaces</p></div><div class="info-card"><span class="card-icon">\ud83c\udf93</span><h4>Deep Understanding</h4><p>Learn how everything really works</p></div></div><h2>\ud83c\udd9a Firmware vs Software</h2><div class="info-box"><strong>Software (Application):</strong><ul><li>Runs on an operating system (Windows, Linux, etc.)</li><li>Uses high-level APIs and libraries</li><li>OS handles hardware abstraction</li><li>Example: Web browser, text editor</li></ul><strong>Firmware (Embedded):</strong><ul><li>Runs directly on hardware (bare-metal)</li><li>You write the low-level drivers</li><li>Direct register manipulation</li><li>Example: Microwave controller, car ECU</li></ul></div><h2>\ud83d\udee0\ufe0f Development Without IDEs</h2><p>In this course, we\'ll build firmware using only command-line tools. This gives you complete control and understanding of the build process.</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd28</span><h4>GCC Compiler</h4><p>arm-none-eabi-gcc for ARM Cortex-M</p></div><div class="info-card"><span class="card-icon">\ud83d\udcdd</span><h4>Text Editor</h4><p>VS Code, Vim, or any editor you like</p></div><div class="info-card"><span class="card-icon">\ud83d\udd17</span><h4>Make</h4><p>Build automation tool</p></div><div class="info-card"><span class="card-icon">\ud83d\udc1b</span><h4>GDB + OpenOCD</h4><p>Debugging and flashing</p></div></div><h2>\ud83d\udcda Our Toolchain Stack</h2><div class="code-box"># Complete toolchain we\'ll use:<br><br>1. ARM GCC Toolchain<br>   \u2514\u2500 arm-none-eabi-gcc (compiler)<br>   \u2514\u2500 arm-none-eabi-ld (linker)<br>   \u2514\u2500 arm-none-eabi-objcopy (binary converter)<br>   \u2514\u2500 arm-none-eabi-objdump (disassembler)<br>   \u2514\u2500 arm-none-eabi-gdb (debugger)<br><br>2. GNU Make<br>   \u2514\u2500 Build automation<br><br>3. OpenOCD<br>   \u2514\u2500 On-chip debugger<br>   \u2514\u2500 Flash programmer<br><br>4. ST-Link / J-Link<br>   \u2514\u2500 Hardware debugger probe</div><h2>\ud83c\udfaf What You\'ll Learn</h2><div class="info-box"><strong>By the end of this course, you\'ll be able to:</strong><ul><li>\u2705 Write complete firmware from scratch (no IDE)</li><li>\u2705 Create custom linker scripts</li><li>\u2705 Write startup code and vector tables</li><li>\u2705 Understand memory layout (.text, .data, .bss)</li><li>\u2705 Program peripherals using pointers</li><li>\u2705 Configure clocks and GPIO from registers</li><li>\u2705 Build with Makefiles</li><li>\u2705 Debug with GDB and OpenOCD</li><li>\u2705 Flash custom firmware to MCU</li><li>\u2705 Build production-ready embedded projects</li></ul></div><h2>\ud83c\udfd7\ufe0f Course Structure</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">1\ufe0f\u20e3</span><h4>Foundation (1-5)</h4><p>MCU architecture, toolchain, ELF files</p></div><div class="info-card"><span class="card-icon">2\ufe0f\u20e3</span><h4>Build System (6-10)</h4><p>GCC, Make, linker scripts, sections</p></div><div class="info-card"><span class="card-icon">3\ufe0f\u20e3</span><h4>Startup (11-15)</h4><p>Vector table, reset handler, boot process</p></div><div class="info-card"><span class="card-icon">4\ufe0f\u20e3</span><h4>Hardware (16-20)</h4><p>MMIO, pointers, GPIO, clocks, UART</p></div><div class="info-card"><span class="card-icon">5\ufe0f\u20e3</span><h4>Advanced (21-25)</h4><p>Flashing, debugging, interrupts, DMA</p></div></div><h2>\ud83d\udcbb Example: Hello World (Bare-Metal)</h2><div class="code-box">// Traditional "Hello World" with printf<br>int main(void) {<br>    printf("Hello World\\n");<br>    return 0;<br>}<br><br>// Bare-metal "Hello World" - blink LED<br>#define RCC_AHB1ENR   (*(volatile uint32_t*)0x40023830)<br>#define GPIOA_MODER   (*(volatile uint32_t*)0x40020000)<br>#define GPIOA_ODR     (*(volatile uint32_t*)0x40020014)<br><br>int main(void) {<br>    RCC_AHB1ENR |= (1 << 0);      // Enable GPIOA clock<br>    GPIOA_MODER |= (1 << 10);     // Set PA5 as output<br>    <br>    while(1) {<br>        GPIOA_ODR ^= (1 << 5);    // Toggle PA5<br>        for(int i=0; i<100000; i++); // Delay<br>    }<br>}</div><div class="info-box"><strong>\u26a0\ufe0f Key Differences:</strong><ul><li><strong>No printf:</strong> You must implement UART yourself</li><li><strong>Direct register access:</strong> Using memory addresses</li><li><strong>Volatile keyword:</strong> Prevents compiler optimization</li><li><strong>Infinite loop:</strong> Embedded programs never exit</li></ul></div><div class="fun-fact"><strong>\ud83c\udf1f Industry Reality:</strong><p style="margin-top:10px;margin-bottom:0">Most professional embedded developers use IDEs, but understanding the underlying toolchain makes you a 10x better engineer. When things break (and they will), you\'ll know exactly what\'s happening under the hood!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does "bare-metal" programming mean?</p><ul><li>A) Programming in assembly language</li><li>B) Programming without an operating system \u2713</li><li>C) Programming hardware drivers</li><li>D) Programming in C only</li></ul><p style="margin-top:15px"><em>Answer: B - Bare-metal means running code directly on hardware without an OS!</em></p></div></div>',questions:[{q:"What does 'bare-metal' programming mean?",options:["Programming in assembly language","Programming without an operating system","Programming hardware drivers","Programming in C only"],answer:1}],tools:[{name:"Toolchain Setup Guide",type:"interactive",description:"Step-by-step toolchain installation"}]},{title:"Understanding MCU Architecture & Memory Map",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\uddfa\ufe0f</div><p>Memory Map: Understanding where everything lives in your microcontroller!</p></div><h2>\ud83c\udfdb\ufe0f Von Neumann vs Harvard Architecture</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcda</span><h4>Von Neumann</h4><p>Single memory space for code and data. Simpler but slower.</p></div><div class="info-card"><span class="card-icon">\ud83d\udd00</span><h4>Harvard</h4><p>Separate memory for code and data. Faster, used in most MCUs!</p></div></div><div class="info-box"><strong>ARM Cortex-M uses Modified Harvard Architecture:</strong><ul><li>Separate buses for instruction and data access</li><li>Unified address space (appears as one memory map)</li><li>Can execute code from RAM or Flash</li><li>Best of both worlds!</li></ul></div><h2>\ud83d\uddfa\ufe0f Memory Map Overview (STM32F4 Example)</h2><div class="code-box">ARM Cortex-M Memory Map (4GB Address Space)<br><br>0x0000 0000 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>             \u2502  Code Region            \u2502<br>             \u2502  (Flash aliased here)   \u2502<br>0x1FFF FFFF \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>0x2000 0000 \u2502  SRAM Region            \u2502<br>             \u2502  (RAM for data/stack)   \u2502<br>0x3FFF FFFF \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>0x4000 0000 \u2502  Peripheral Region      \u2502<br>             \u2502  (Memory-mapped I/O)    \u2502<br>0x5FFF FFFF \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>             \u2502  External RAM           \u2502<br>0x9FFF FFFF \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>             \u2502  External Devices       \u2502<br>0xDFFF FFFF \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>0xE000 0000 \u2502  System Region          \u2502<br>             \u2502  (NVIC, SysTick, etc)   \u2502<br>0xFFFF FFFF \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</div><h2>\ud83d\udcbe Flash Memory Region</h2><div class="info-box"><strong>Flash Memory (Non-volatile):</strong><ul><li><strong>Address:</strong> 0x0800 0000 (STM32F4)</li><li><strong>Size:</strong> 512KB - 2MB (depends on MCU)</li><li><strong>Purpose:</strong> Store your program code and constants</li><li><strong>Characteristics:</strong> Read-only at runtime, survives power-off</li><li><strong>Sectors:</strong> Divided into erasable sectors</li></ul></div><div class="code-box">// Flash memory layout example (STM32F407)<br><br>0x0800 0000  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>             \u2502  Vector Table    \u2502  (First 1KB)<br>0x0800 0400  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>             \u2502  .text section   \u2502  (Your code)<br>             \u2502  .rodata section \u2502  (Constants)<br>             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>             \u2502  .data initial   \u2502  (Init values)<br>0x080X XXXX  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  (End of Flash)</div><h2>\ud83c\udfaf SRAM Region</h2><div class="info-box"><strong>SRAM (Volatile RAM):</strong><ul><li><strong>Address:</strong> 0x2000 0000</li><li><strong>Size:</strong> 128KB - 256KB (depends on MCU)</li><li><strong>Purpose:</strong> Variables, stack, heap</li><li><strong>Characteristics:</strong> Fast read/write, lost on power-off</li><li><strong>Sections:</strong> .data, .bss, stack, heap</li></ul></div><div class="code-box">// SRAM layout<br><br>0x2000 0000  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>             \u2502  .data section   \u2502  (Initialized variables)<br>             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>             \u2502  .bss section    \u2502  (Uninitialized variables)<br>             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>             \u2502  Heap \u2193          \u2502  (Dynamic allocation)<br>             \u2502                  \u2502<br>             \u2502                  \u2502<br>             \u2502  Stack \u2191         \u2502  (Function calls, locals)<br>0x2001 FFFF  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  (End of SRAM)</div><h2>\ud83d\udd0c Peripheral Region</h2><p>This is where <strong>Memory-Mapped I/O (MMIO)</strong> happens! Peripherals are accessed like memory.</p><div class="code-box">// Peripheral base addresses (STM32F4)<br><br>0x4000 0000  APB1 Peripherals<br>             \u251c\u2500 TIM2-7, TIM12-14<br>             \u251c\u2500 RTC, WWDG, IWDG<br>             \u251c\u2500 SPI2/3, I2S2/3<br>             \u251c\u2500 USART2/3, UART4/5<br>             \u251c\u2500 I2C1/2/3<br>             \u251c\u2500 CAN1/2<br>             \u2514\u2500 PWR, DAC<br><br>0x4001 0000  APB2 Peripherals<br>             \u251c\u2500 TIM1, TIM8-11<br>             \u251c\u2500 USART1, USART6<br>             \u251c\u2500 ADC1/2/3<br>             \u251c\u2500 SPI1, SPI4<br>             \u2514\u2500 SYSCFG, EXTI<br><br>0x4002 0000  AHB1 Peripherals<br>             \u251c\u2500 GPIOA-K<br>             \u251c\u2500 CRC, RCC<br>             \u251c\u2500 DMA1/2<br>             \u2514\u2500 Ethernet MAC<br><br>0x5000 0000  AHB2 Peripherals<br>             \u2514\u2500 USB OTG FS, DCMI, RNG</div><h2>\ud83d\udccd Memory-Mapped I/O Concept</h2><div class="info-box"><strong>Key Concept:</strong> Peripherals are controlled by reading/writing to specific memory addresses!</div><div class="code-box">// Example: GPIOA registers<br><br>#define GPIOA_BASE    0x40020000<br><br>// Register offsets from base<br>#define MODER_OFFSET  0x00  // Mode register<br>#define ODR_OFFSET    0x14  // Output data register<br>#define IDR_OFFSET    0x10  // Input data register<br><br>// Full addresses<br>#define GPIOA_MODER   (*(volatile uint32_t*)(GPIOA_BASE + 0x00))<br>#define GPIOA_ODR     (*(volatile uint32_t*)(GPIOA_BASE + 0x14))<br>#define GPIOA_IDR     (*(volatile uint32_t*)(GPIOA_BASE + 0x10))<br><br>// Usage<br>GPIOA_MODER |= (1 << 10);  // Set PA5 as output<br>GPIOA_ODR |= (1 << 5);     // Set PA5 high</div><h2>\ud83c\udfaf System Region</h2><div class="info-box"><strong>System Control Block (0xE000 0000):</strong><ul><li><strong>NVIC:</strong> Nested Vectored Interrupt Controller</li><li><strong>SysTick:</strong> System timer</li><li><strong>SCB:</strong> System Control Block</li><li><strong>MPU:</strong> Memory Protection Unit</li><li><strong>FPU:</strong> Floating Point Unit (if present)</li></ul></div><div class="code-box">// Important system addresses<br><br>0xE000E000  SysTick<br>0xE000E100  NVIC (Interrupt controller)<br>0xE000ED00  SCB (System Control Block)<br>0xE000ED90  MPU (Memory Protection Unit)<br>0xE000EF00  FPU (Floating Point Unit)</div><h2>\ud83d\udcca Memory Access Permissions</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\u2705</span><h4>Flash (Code)</h4><p>Read: \u2713 Write: \u2717 Execute: \u2713</p></div><div class="info-card"><span class="card-icon">\u2705</span><h4>SRAM</h4><p>Read: \u2713 Write: \u2713 Execute: \u2713*</p></div><div class="info-card"><span class="card-icon">\u2699\ufe0f</span><h4>Peripherals</h4><p>Read: \u2713 Write: \u2713 Execute: \u2717</p></div><div class="info-card"><span class="card-icon">\ud83d\udd12</span><h4>System</h4><p>Privileged access only</p></div></div><div class="fun-fact"><strong>\ud83c\udf1f Fun Fact:</strong><p style="margin-top:10px;margin-bottom:0">The entire 4GB address space is mapped even though your MCU might only have 512KB Flash and 128KB RAM! Accessing unmapped regions causes a HardFault exception. This is actually useful for catching bugs!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is the Flash memory base address on STM32F4?</p><ul><li>A) 0x0000 0000</li><li>B) 0x0800 0000 \u2713</li><li>C) 0x2000 0000</li><li>D) 0x4000 0000</li></ul><p style="margin-top:15px"><em>Answer: B - Flash starts at 0x0800 0000 on STM32F4!</em></p></div></div>',questions:[{q:"What is the Flash memory base address on STM32F4?",options:["0x0000 0000","0x0800 0000","0x2000 0000","0x4000 0000"],answer:1}],tools:[{name:"Memory Map Explorer",type:"interactive",description:"Visualize MCU memory regions"}]},{title:"ARM Cortex-M Architecture Deep Dive",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83e\udde0</div><p>ARM Cortex-M: The brain of billions of embedded devices!</p></div><h2>\ud83c\udfaf Cortex-M Family Overview</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">M0</span><h4>Cortex-M0/M0+</h4><p>Ultra-low power, simple, 32-bit RISC</p></div><div class="info-card"><span class="card-icon">M3</span><h4>Cortex-M3</h4><p>Balanced performance, no FPU</p></div><div class="info-card"><span class="card-icon">M4</span><h4>Cortex-M4</h4><p>DSP + optional FPU, most popular</p></div><div class="info-card"><span class="card-icon">M7</span><h4>Cortex-M7</h4><p>High performance, cache, FPU</p></div></div><h2>\ud83d\udccb Register Set (13 General + 3 Special)</h2><div class="code-box">ARM Cortex-M Registers:<br><br>R0  - R12   General Purpose Registers<br>            (R0-R3 for function arguments)<br>            (R0 for return value)<br><br>R13 (SP)    Stack Pointer<br>            - MSP: Main Stack Pointer<br>            - PSP: Process Stack Pointer<br><br>R14 (LR)    Link Register<br>            - Stores return address<br>            - Special values for exceptions<br><br>R15 (PC)    Program Counter<br>            - Points to next instruction<br>            - Always even (Thumb mode)<br><br>Special Registers:<br>PSR         Program Status Register<br>PRIMASK     Interrupt mask<br>FAULTMASK   Fault mask<br>BASEPRI     Base priority mask<br>CONTROL     Control register</div><h2>\ud83d\udd04 Operating Modes</h2><div class="info-box"><strong>Two Operating Modes:</strong><ul><li><strong>Thread Mode:</strong> Normal application code runs here</li><li><strong>Handler Mode:</strong> Exception/interrupt handlers run here</li></ul><strong>Two Privilege Levels:</strong><ul><li><strong>Privileged:</strong> Full access to all resources</li><li><strong>Unprivileged:</strong> Limited access (for OS tasks)</li></ul></div><div class="code-box">// CONTROL register bits<br><br>Bit 0: nPRIV<br>  0 = Privileged<br>  1 = Unprivileged<br><br>Bit 1: SPSEL (Stack Pointer Select)<br>  0 = MSP (Main Stack Pointer)<br>  1 = PSP (Process Stack Pointer)<br><br>Bit 2: FPCA (Floating Point Context Active)<br>  Only on Cortex-M4/M7 with FPU</div><h2>\u26a1 NVIC - Nested Vectored Interrupt Controller</h2><p>The NVIC is the heart of exception handling in Cortex-M processors.</p><div class="info-box"><strong>NVIC Features:</strong><ul><li>Up to 240 external interrupts</li><li>16 priority levels (configurable 3-8 bits)</li><li>Nested interrupt support</li><li>Automatic state saving/restoring</li><li>Tail-chaining optimization</li><li>Late-arriving interrupt handling</li></ul></div><div class="code-box">// NVIC Register addresses<br><br>#define NVIC_ISER0  (*(volatile uint32_t*)0xE000E100)<br>#define NVIC_ICER0  (*(volatile uint32_t*)0xE000E180)<br>#define NVIC_ISPR0  (*(volatile uint32_t*)0xE000E200)<br>#define NVIC_ICPR0  (*(volatile uint32_t*)0xE000E280)<br>#define NVIC_IPR0   (*(volatile uint32_t*)0xE000E400)<br><br>// Enable interrupt 25 (USART1 on STM32)<br>NVIC_ISER0 |= (1 << 25);<br><br>// Set priority for interrupt 25 (priority 5)<br>NVIC_IPR0 |= (5 << 29);  // Bits 29-31 for IRQ 25</div><h2>\ud83c\udfaf Exception Model</h2><div class="code-box">Exception Numbers (First 16 are system exceptions):<br><br>0   -        (Reserved)<br>1   Reset    Reset handler<br>2   NMI      Non-Maskable Interrupt<br>3   HardFault Hard Fault<br>4   MemManage Memory Management Fault<br>5   BusFault  Bus Fault<br>6   UsageFault Usage Fault<br>7-10 -       (Reserved)<br>11  SVCall   Supervisor Call<br>12  Debug    Debug Monitor<br>13  -        (Reserved)<br>14  PendSV   Pendable Service Call<br>15  SysTick  System Tick Timer<br>16+ External External Interrupts (NVIC)</div><h2>\ud83d\udd22 Priority Levels</h2><div class="info-box"><strong>Priority Rules:</strong><ul><li>Lower number = Higher priority</li><li>0 is highest priority</li><li>Negative priorities for system exceptions</li><li>Configurable priority bits (usually 4 bits = 16 levels)</li><li>Preemption and sub-priority grouping</li></ul></div><div class="code-box">// Priority grouping example<br><br>// 4 bits total: [7:4] used for priority<br>// Can split into preemption + sub-priority<br><br>Group 0: 0 bits preempt, 4 bits sub (no nesting)<br>Group 1: 1 bit preempt,  3 bits sub<br>Group 2: 2 bits preempt, 2 bits sub<br>Group 3: 3 bits preempt, 1 bit sub<br>Group 4: 4 bits preempt, 0 bits sub (full nesting)</div><h2>\ud83d\udcbe Stack Operation</h2><div class="code-box">// Stack grows downward (from high to low addresses)<br><br>Exception Entry (Auto-saved by hardware):<br>  SP -= 32;  // Make space<br>  Push R0, R1, R2, R3, R12, LR, PC, xPSR<br><br>Exception Exit (Auto-restored):<br>  Pop R0, R1, R2, R3, R12, LR, PC, xPSR<br>  SP += 32;<br><br>// This is AUTOMATIC! No need to save/restore manually</div><h2>\ud83d\ude80 Performance Features</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\u26a1</span><h4>3-Stage Pipeline</h4><p>Fetch, Decode, Execute</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>Single-cycle multiply</h4><p>Fast 32-bit multiplication</p></div><div class="info-card"><span class="card-icon">\ud83d\udd04</span><h4>Tail-chaining</h4><p>Fast back-to-back interrupts</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>Bit-banding</h4><p>Atomic bit operations</p></div></div><div class="fun-fact"><strong>\ud83c\udf1f ARM Dominance:</strong><p style="margin-top:10px;margin-bottom:0">Over 150 billion ARM chips have been shipped! ARM Cortex-M processors power everything from tiny sensors to automotive systems. The architecture is so efficient that some Cortex-M0 chips run on just microamps!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the LR (Link Register) store?</p><ul><li>A) Current stack pointer</li><li>B) Return address \u2713</li><li>C) Interrupt priority</li><li>D) Program status</li></ul><p style="margin-top:15px"><em>Answer: B - LR stores the return address for function calls!</em></p></div></div>',questions:[{q:"What does the LR (Link Register) store?",options:["Current stack pointer","Return address","Interrupt priority","Program status"],answer:1}],tools:[{name:"Register Viewer",type:"interactive",description:"Explore ARM registers"}]},{title:"Development Toolchain Setup (GCC, Make, OpenOCD)",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd27</div><p>Toolchain Setup: Your command-line embedded development environment!</p></div><h2>\ud83d\udee0\ufe0f ARM GCC Toolchain</h2><p>The ARM GCC toolchain is a collection of tools for compiling, linking, and debugging ARM-based microcontrollers.</p><div class="code-box"># Download ARM GCC Toolchain<br><br>Windows:<br>  https://developer.arm.com/downloads/-/gnu-rm<br>  Download: gcc-arm-none-eabi-XX.X-win32.exe<br><br>Linux (Ubuntu/Debian):<br>  sudo apt-get install gcc-arm-none-eabi<br><br>macOS:<br>  brew install arm-none-eabi-gcc<br><br># Verify installation<br>arm-none-eabi-gcc --version<br>arm-none-eabi-gdb --version</div><h2>\ud83d\udce6 Toolchain Components</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd28</span><h4>gcc</h4><p>C/C++ compiler for ARM</p></div><div class="info-card"><span class="card-icon">\ud83d\udd17</span><h4>ld</h4><p>Linker - combines object files</p></div><div class="info-card"><span class="card-icon">\ud83d\udcc4</span><h4>objcopy</h4><p>Convert ELF to bin/hex</p></div><div class="info-card"><span class="card-icon">\ud83d\udd0d</span><h4>objdump</h4><p>Disassemble and inspect</p></div><div class="info-card"><span class="card-icon">\ud83d\udcca</span><h4>size</h4><p>Show memory usage</p></div><div class="info-card"><span class="card-icon">\ud83d\udc1b</span><h4>gdb</h4><p>GNU debugger</p></div></div><div class="code-box"># Toolchain commands<br><br>arm-none-eabi-gcc      # Compiler<br>arm-none-eabi-as       # Assembler<br>arm-none-eabi-ld       # Linker<br>arm-none-eabi-objcopy  # Binary converter<br>arm-none-eabi-objdump  # Disassembler<br>arm-none-eabi-size     # Size utility<br>arm-none-eabi-nm       # Symbol lister<br>arm-none-eabi-gdb      # Debugger<br>arm-none-eabi-ar       # Archiver (for libraries)</div><h2>\ud83d\udd28 GNU Make</h2><div class="info-box"><strong>Make:</strong> Build automation tool that reads Makefiles to compile projects</div><div class="code-box"># Install Make<br><br>Windows:<br>  # Option 1: MinGW<br>  choco install mingw<br>  <br>  # Option 2: WSL (Windows Subsystem for Linux)<br>  wsl --install<br><br>Linux:<br>  sudo apt-get install build-essential<br><br>macOS:<br>  # Already included with Xcode Command Line Tools<br>  xcode-select --install<br><br># Verify<br>make --version</div><h2>\ud83d\udd0c OpenOCD (On-Chip Debugger)</h2><p>OpenOCD allows you to flash firmware and debug your microcontroller.</p><div class="code-box"># Install OpenOCD<br><br>Windows:<br>  # Download from: https://gnutoolchains.com/arm-eabi/openocd/<br>  # Or use: choco install openocd<br><br>Linux:<br>  sudo apt-get install openocd<br><br>macOS:<br>  brew install openocd<br><br># Verify<br>openocd --version</div><h2>\ud83d\udd17 ST-Link / J-Link Drivers</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd35</span><h4>ST-Link</h4><p>For STM32 microcontrollers</p></div><div class="info-card"><span class="card-icon">\ud83d\udfe2</span><h4>J-Link</h4><p>Professional debugger by SEGGER</p></div></div><div class="code-box"># ST-Link Drivers<br><br>Windows:<br>  Download: STSW-LINK009 from st.com<br><br>Linux:<br>  # Install udev rules<br>  sudo cp 49-stlinkv2.rules /etc/udev/rules.d/<br>  sudo udevadm control --reload-rules<br><br># Test ST-Link connection<br>st-info --probe</div><h2>\ud83d\udcc1 Project Structure</h2><div class="code-box">my-firmware/<br>\u251c\u2500\u2500 src/<br>\u2502   \u251c\u2500\u2500 main.c<br>\u2502   \u251c\u2500\u2500 startup.c<br>\u2502   \u2514\u2500\u2500 system.c<br>\u251c\u2500\u2500 inc/<br>\u2502   \u251c\u2500\u2500 stm32f4xx.h<br>\u2502   \u2514\u2500\u2500 system.h<br>\u251c\u2500\u2500 linker/<br>\u2502   \u2514\u2500\u2500 STM32F407.ld<br>\u251c\u2500\u2500 Makefile<br>\u251c\u2500\u2500 openocd.cfg<br>\u2514\u2500\u2500 build/<br>    \u2514\u2500\u2500 (generated files)</div><h2>\u2699\ufe0f Basic Makefile Example</h2><div class="code-box"># Makefile for STM32F4<br><br>CC = arm-none-eabi-gcc<br>OBJCOPY = arm-none-eabi-objcopy<br>SIZE = arm-none-eabi-size<br><br>CFLAGS = -mcpu=cortex-m4 -mthumb -O2 -Wall<br>LDFLAGS = -T linker/STM32F407.ld<br><br>SRC = src/main.c src/startup.c<br>OBJ = $(SRC:.c=.o)<br><br>all: firmware.bin<br><br>%.o: %.c<br>\t$(CC) $(CFLAGS) -c $< -o $@<br><br>firmware.elf: $(OBJ)<br>\t$(CC) $(CFLAGS) $(LDFLAGS) $^ -o $@<br><br>firmware.bin: firmware.elf<br>\t$(OBJCOPY) -O binary $< $@<br>\t$(SIZE) firmware.elf<br><br>clean:<br>\trm -f $(OBJ) firmware.elf firmware.bin<br><br>flash: firmware.bin<br>\topenocd -f openocd.cfg -c "program firmware.bin 0x08000000 verify reset exit"</div><h2>\ud83d\udd27 OpenOCD Configuration</h2><div class="code-box"># openocd.cfg for STM32F4 with ST-Link<br><br>source [find interface/stlink.cfg]<br>source [find target/stm32f4x.cfg]<br><br># Optional: Set SWD mode<br>transport select hla_swd<br><br># Optional: Increase adapter speed<br>adapter speed 4000</div><h2>\ud83d\ude80 Build and Flash Workflow</h2><div class="code-box"># 1. Compile source files<br>make<br><br># 2. Check size<br>arm-none-eabi-size firmware.elf<br><br># 3. Flash to MCU<br>make flash<br><br># 4. Debug (in another terminal)<br>openocd -f openocd.cfg<br><br># 5. Connect GDB (in another terminal)<br>arm-none-eabi-gdb firmware.elf<br>(gdb) target remote localhost:3333<br>(gdb) load<br>(gdb) continue</div><div class="fun-fact"><strong>\ud83c\udf1f Open Source Power:</strong><p style="margin-top:10px;margin-bottom:0">All these tools are FREE and open source! The same toolchain used by hobbyists is used by professional companies building million-dollar products. You have access to industrial-grade tools at zero cost!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What tool converts ELF files to binary format?</p><ul><li>A) arm-none-eabi-gcc</li><li>B) arm-none-eabi-objcopy \u2713</li><li>C) arm-none-eabi-ld</li><li>D) arm-none-eabi-gdb</li></ul><p style="margin-top:15px"><em>Answer: B - objcopy converts between different binary formats!</em></p></div></div>',questions:[{q:"What tool converts ELF files to binary format?",options:["arm-none-eabi-gcc","arm-none-eabi-objcopy","arm-none-eabi-ld","arm-none-eabi-gdb"],answer:1}],tools:[{name:"Toolchain Installer",type:"interactive",description:"Guided toolchain setup"}]},{title:"Understanding ELF Files and Binary Formats",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce6</div><p>ELF Files: Understanding the executable format for embedded systems!</p></div><h2>\ud83d\udcc4 What is an ELF File?</h2><p><strong>ELF (Executable and Linkable Format)</strong> is the standard binary format for executables, object files, and libraries on Unix-like systems and embedded ARM processors.</p><div class="info-box"><strong>ELF File Types:</strong><ul><li><strong>Relocatable (.o):</strong> Object files from compilation</li><li><strong>Executable (.elf):</strong> Linked executable program</li><li><strong>Shared Object (.so):</strong> Shared libraries (not used in bare-metal)</li></ul></div><h2>\ud83c\udfd7\ufe0f ELF File Structure</h2><div class="code-box">ELF File Layout:<br><br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>\u2502  ELF Header         \u2502  File type, architecture, entry point<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  Program Headers    \u2502  Segments for loading (runtime view)<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  Section Headers    \u2502  Sections for linking (link-time view)<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .text section      \u2502  Executable code<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .rodata section    \u2502  Read-only data (constants)<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .data section      \u2502  Initialized data<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .bss section       \u2502  Uninitialized data<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .symtab section    \u2502  Symbol table<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .strtab section    \u2502  String table<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</div><h2>\ud83d\udd0d Inspecting ELF Files</h2><div class="code-box"># View ELF header<br>arm-none-eabi-readelf -h firmware.elf<br><br># Output:<br>ELF Header:<br>  Magic:   7f 45 4c 46 01 01 01 00<br>  Class:                             ELF32<br>  Data:                              2\'s complement, little endian<br>  Machine:                           ARM<br>  Entry point address:               0x8000189<br>  Start of program headers:          52 (bytes into file)<br>  Start of section headers:          12345 (bytes into file)</div><h2>\ud83d\udcca Sections vs Segments</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcdd</span><h4>Sections</h4><p>Link-time view - for linker and debugger</p></div><div class="info-card"><span class="card-icon">\ud83d\ude80</span><h4>Segments</h4><p>Run-time view - for loader (what goes in memory)</p></div></div><div class="code-box"># View sections<br>arm-none-eabi-objdump -h firmware.elf<br><br># View segments<br>arm-none-eabi-readelf -l firmware.elf<br><br># View section sizes<br>arm-none-eabi-size firmware.elf<br>   text    data     bss     dec     hex filename<br>   4096     256    1024    5376    1500 firmware.elf</div><h2>\ud83d\udd27 Common ELF Tools</h2><div class="code-box"># objdump - Disassemble and inspect<br>arm-none-eabi-objdump -d firmware.elf > disassembly.txt<br>arm-none-eabi-objdump -t firmware.elf  # Symbol table<br>arm-none-eabi-objdump -x firmware.elf  # All headers<br><br># nm - List symbols<br>arm-none-eabi-nm firmware.elf<br>08000000 T Reset_Handler<br>20000000 B _sbss<br>20001000 D _sdata<br><br># size - Memory usage<br>arm-none-eabi-size -A firmware.elf  # Detailed<br>arm-none-eabi-size -B firmware.elf  # Berkeley format</div><h2>\ud83d\udd04 Converting ELF to Other Formats</h2><div class="info-box"><strong>Why convert?</strong> Flash programmers often need raw binary or Intel HEX format instead of ELF.</div><div class="code-box"># Convert to binary (.bin)<br>arm-none-eabi-objcopy -O binary firmware.elf firmware.bin<br><br># Convert to Intel HEX (.hex)<br>arm-none-eabi-objcopy -O ihex firmware.elf firmware.hex<br><br># Extract specific section<br>arm-none-eabi-objcopy -O binary --only-section=.text firmware.elf text.bin</div><h2>\ud83d\udccb Binary Format Comparison</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udce6</span><h4>.ELF</h4><p>Full debug info, symbols, sections</p></div><div class="info-card"><span class="card-icon">\ud83d\udcbe</span><h4>.BIN</h4><p>Raw binary, no metadata, smallest</p></div><div class="info-card"><span class="card-icon">\ud83d\udcc4</span><h4>.HEX</h4><p>ASCII format with addresses, portable</p></div></div><div class="code-box"># .bin file - Raw bytes<br>08 00 00 20 89 01 00 08 ...<br><br># .hex file - Intel HEX format<br>:10000000080000208901000800000000000000009A<br>:10001000000000000000000000000000000000000<br>:00000001FF<br><br>Format: :LLAAAATT[DD...]CC<br>  LL = Length<br>  AAAA = Address<br>  TT = Type (00=data, 01=EOF)<br>  DD = Data bytes<br>  CC = Checksum</div><h2>\ud83c\udfaf LMA vs VMA</h2><div class="info-box"><strong>Critical Concept for Embedded:</strong><ul><li><strong>LMA (Load Memory Address):</strong> Where data is stored in Flash</li><li><strong>VMA (Virtual Memory Address):</strong> Where data runs in RAM</li></ul><p style="margin-top:10px">Example: .data section has LMA in Flash but VMA in RAM. Startup code copies it!</p></div><div class="code-box"># View LMA and VMA<br>arm-none-eabi-objdump -h firmware.elf<br><br>Sections:<br>Idx Name      Size      VMA       LMA       File off<br>  0 .text     00001000  08000000  08000000  00010000<br>  1 .data     00000100  20000000  08001000  00020000<br>  2 .bss      00000400  20000100  20000100  00000000<br><br># .data: VMA=0x20000000 (RAM), LMA=0x08001000 (Flash)</div><h2>\ud83d\udd0d Analyzing Memory Usage</h2><div class="code-box"># Detailed size analysis<br>arm-none-eabi-size -A -x firmware.elf<br><br>firmware.elf  :<br>section           size       addr<br>.isr_vector      0x188   0x8000000<br>.text           0x1e50   0x8000188<br>.rodata          0x100   0x8001fd8<br>.data             0x20  0x20000000<br>.bss             0x400  0x20000020<br><br># Calculate Flash usage: .text + .rodata + .data (LMA)<br># Calculate RAM usage: .data + .bss</div><div class="fun-fact"><strong>\ud83c\udf1f ELF Magic:</strong><p style="margin-top:10px;margin-bottom:0">Every ELF file starts with the magic bytes: 7F 45 4C 46 (0x7F followed by \'ELF\' in ASCII). This is how the system identifies it as an ELF file. The format was designed in the 1990s and is still the standard today!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does LMA stand for?</p><ul><li>A) Link Memory Address</li><li>B) Load Memory Address \u2713</li><li>C) Local Memory Access</li><li>D) Logical Memory Allocation</li></ul><p style="margin-top:15px"><em>Answer: B - LMA is where data is stored in Flash!</em></p></div></div>',questions:[{q:"What does LMA stand for?",options:["Link Memory Address","Load Memory Address","Local Memory Access","Logical Memory Allocation"],answer:1}],tools:[{name:"ELF Inspector",type:"interactive",description:"Explore ELF file structure"}]},{title:"GCC Compiler Deep Dive",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u2699\ufe0f</div><p>GCC Compiler: Transforming C code into ARM machine code!</p></div><h2>\ud83d\udd04 Compilation Stages</h2><div class="code-box">Source Code \u2192 Executable (4 stages):<br><br>1. Preprocessing (.c \u2192 .i)<br>   - Remove comments<br>   - Expand #include, #define<br>   - Process #if, #ifdef<br><br>2. Compilation (.i \u2192 .s)<br>   - Parse C code<br>   - Generate assembly code<br>   - Optimize<br><br>3. Assembly (.s \u2192 .o)<br>   - Convert assembly to machine code<br>   - Create object file<br><br>4. Linking (.o \u2192 .elf)<br>   - Combine object files<br>   - Resolve symbols<br>   - Apply linker script</div><div class="code-box"># See each stage manually<br><br># 1. Preprocessing only<br>arm-none-eabi-gcc -E main.c -o main.i<br><br># 2. Compile to assembly<br>arm-none-eabi-gcc -S main.c -o main.s<br><br># 3. Assemble to object<br>arm-none-eabi-gcc -c main.c -o main.o<br><br># 4. Link to executable<br>arm-none-eabi-gcc main.o -o firmware.elf</div><h2>\ud83c\udfaf Essential GCC Flags for Embedded</h2><div class="info-box"><strong>Architecture Flags (REQUIRED):</strong></div><div class="code-box"># CPU and instruction set<br>-mcpu=cortex-m4        # Target Cortex-M4<br>-mthumb                # Use Thumb instruction set (16/32-bit)<br>-mfloat-abi=hard       # Hardware floating point<br>-mfpu=fpv4-sp-d16      # FPU type<br><br># Example for STM32F4<br>CFLAGS = -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16</div><h2>\u26a1 Optimization Levels</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">-O0</span><h4>No Optimization</h4><p>Fast compile, easy debug, large/slow code</p></div><div class="info-card"><span class="card-icon">-O1</span><h4>Basic</h4><p>Moderate optimization, reasonable size</p></div><div class="info-card"><span class="card-icon">-O2</span><h4>Recommended</h4><p>Good balance, most common for production</p></div><div class="info-card"><span class="card-icon">-O3</span><h4>Aggressive</h4><p>Maximum speed, larger code</p></div><div class="info-card"><span class="card-icon">-Os</span><h4>Size</h4><p>Optimize for size, best for small Flash</p></div><div class="info-card"><span class="card-icon">-Og</span><h4>Debug</h4><p>Optimize but keep debuggable</p></div></div><div class="code-box"># Optimization comparison<br><br>int sum(int a, int b) {<br>    int result = a + b;<br>    return result;<br>}<br><br># -O0 (No optimization):<br>  push {r7}<br>  add r7, sp, #0<br>  str r0, [r7, #4]<br>  str r1, [r7, #0]<br>  ldr r2, [r7, #4]<br>  ldr r3, [r7, #0]<br>  add r3, r3, r2<br>  str r3, [r7, #8]<br>  ldr r3, [r7, #8]<br>  mov r0, r3<br>  pop {r7}<br>  bx lr<br><br># -O2 (Optimized):<br>  add r0, r0, r1<br>  bx lr</div><h2>\u26a0\ufe0f Warning Flags</h2><div class="code-box"># Essential warnings<br>-Wall                  # Enable most warnings<br>-Wextra                # Extra warnings<br>-Werror                # Treat warnings as errors<br>-Wno-unused-parameter  # Ignore unused params<br><br># Recommended for embedded<br>CFLAGS += -Wall -Wextra -Werror</div><h2>\ud83d\udd0d Debugging Flags</h2><div class="code-box"># Debug information<br>-g                     # Include debug symbols<br>-g3                    # Maximum debug info (includes macros)<br>-gdwarf-2              # DWARF-2 debug format<br><br># For debugging<br>CFLAGS += -g3 -gdwarf-2</div><h2>\ud83d\udce6 Include and Define Flags</h2><div class="code-box"># Include directories<br>-I./inc                # Add include path<br>-I./drivers/inc<br><br># Preprocessor defines<br>-DSTM32F407xx          # Define MCU model<br>-DUSE_HAL_DRIVER       # Enable HAL<br>-DDEBUG                # Debug mode<br><br># Example<br>CFLAGS += -I./inc -I./drivers -DSTM32F407xx</div><h2>\ud83d\udd17 Linker Flags</h2><div class="code-box"># Linker script<br>-T linker/STM32F407.ld # Specify linker script<br><br># Map file (shows memory layout)<br>-Wl,-Map=output.map    # Generate map file<br><br># Garbage collection (remove unused code)<br>-Wl,--gc-sections      # Remove unused sections<br>-ffunction-sections    # Each function in own section<br>-fdata-sections        # Each data in own section<br><br># Complete linker flags<br>LDFLAGS = -T linker/STM32F407.ld -Wl,-Map=firmware.map -Wl,--gc-sections</div><h2>\ud83c\udfaf Complete GCC Command Example</h2><div class="code-box"># Compile single file<br>arm-none-eabi-gcc <br>  -mcpu=cortex-m4 <br>  -mthumb <br>  -mfloat-abi=hard <br>  -mfpu=fpv4-sp-d16 <br>  -O2 <br>  -Wall -Wextra <br>  -g3 <br>  -I./inc <br>  -DSTM32F407xx <br>  -ffunction-sections <br>  -fdata-sections <br>  -c main.c -o main.o<br><br># Link<br>arm-none-eabi-gcc <br>  -mcpu=cortex-m4 <br>  -mthumb <>  -T linker/STM32F407.ld <br>  -Wl,-Map=firmware.map <br>  -Wl,--gc-sections <br>  main.o startup.o <br>  -o firmware.elf</div><h2>\ud83d\udcca Analyzing Compilation</h2><div class="code-box"># Verbose output<br>arm-none-eabi-gcc -v main.c<br><br># Preprocessor output<br>arm-none-eabi-gcc -E main.c | less<br><br># Assembly output with source<br>arm-none-eabi-gcc -S -fverbose-asm main.c<br><br># Show included files<br>arm-none-eabi-gcc -M main.c</div><h2>\u2699\ufe0f Cross-Compilation Specifics</h2><div class="info-box"><strong>Why "arm-none-eabi"?</strong><ul><li><strong>arm:</strong> ARM architecture</li><li><strong>none:</strong> No operating system (bare-metal)</li><li><strong>eabi:</strong> Embedded Application Binary Interface</li></ul></div><div class="code-box"># Compiler triplet: arch-vendor-os-abi<br><br>arm-none-eabi-gcc     # ARM, no OS, EABI<br>arm-linux-gnueabi-gcc # ARM, Linux, EABI<br>x86_64-linux-gnu-gcc  # x86-64, Linux, GNU</div><div class="fun-fact"><strong>\ud83c\udf1f GCC Power:</strong><p style="margin-top:10px;margin-bottom:0">GCC can optimize your code in over 200 different ways! The -O2 flag enables around 70 optimizations. Some optimizations can make your code 10x faster while using 50% less memory. That\'s why choosing the right flags matters!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which optimization flag is best for limited Flash memory?</p><ul><li>A) -O0</li><li>B) -O3</li><li>C) -Os \u2713</li><li>D) -Og</li></ul><p style="margin-top:15px"><em>Answer: C - -Os optimizes for size, perfect for small Flash!</em></p></div></div>',questions:[{q:"Which optimization flag is best for limited Flash memory?",options:["-O0","-O3","-Os","-Og"],answer:2}],tools:[{name:"GCC Flag Explorer",type:"interactive",description:"Explore compiler flags"}]},{title:"Makefiles for Embedded Systems",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd28</div><p>Makefiles: Automate your embedded build process!</p></div><h2>\ud83d\udccb What is Make?</h2><p>Make is a build automation tool that reads a <strong>Makefile</strong> to compile your project. It only recompiles files that have changed, saving time!</p><div class="code-box"># Basic Makefile structure<br><br>target: dependencies<br>\tcommand<br><br># Example:<br>main.o: main.c<br>\tarm-none-eabi-gcc -c main.c -o main.o</div><h2>\ud83c\udfaf Complete Embedded Makefile</h2><div class="code-box"># Makefile for STM32F4<br><br>########## Project Settings ##########<br>PROJECT = firmware<br>MCU = STM32F407xx<br><br>########## Toolchain ##########<br>CC = arm-none-eabi-gcc<br>OBJCOPY = arm-none-eabi-objcopy<br>SIZE = arm-none-eabi-size<br><br>########## Source Files ##########<br>SRC_DIR = src<br>INC_DIR = inc<br>BUILD_DIR = build<br><br>SOURCES = $(wildcard $(SRC_DIR)/*.c)<br>OBJECTS = $(SOURCES:$(SRC_DIR)/%.c=$(BUILD_DIR)/%.o)<br><br>########## Compiler Flags ##########<br>CFLAGS = -mcpu=cortex-m4<br>CFLAGS += -mthumb<br>CFLAGS += -mfloat-abi=hard<br>CFLAGS += -mfpu=fpv4-sp-d16<br>CFLAGS += -O2<br>CFLAGS += -Wall -Wextra<br>CFLAGS += -g3<br>CFLAGS += -I$(INC_DIR)<br>CFLAGS += -D$(MCU)<br>CFLAGS += -ffunction-sections<br>CFLAGS += -fdata-sections<br><br>########## Linker Flags ##########<br>LDFLAGS = -T linker/STM32F407.ld<br>LDFLAGS += -Wl,-Map=$(BUILD_DIR)/$(PROJECT).map<br>LDFLAGS += -Wl,--gc-sections<br>LDFLAGS += --specs=nano.specs<br><br>########## Build Rules ##########<br>all: $(BUILD_DIR)/$(PROJECT).bin<br><br>$(BUILD_DIR)/%.o: $(SRC_DIR)/%.c | $(BUILD_DIR)<br>\t$(CC) $(CFLAGS) -c $< -o $@<br><br>$(BUILD_DIR)/$(PROJECT).elf: $(OBJECTS)<br>\t$(CC) $(CFLAGS) $(LDFLAGS) $^ -o $@<br>\t$(SIZE) $@<br><br>$(BUILD_DIR)/$(PROJECT).bin: $(BUILD_DIR)/$(PROJECT).elf<br>\t$(OBJCOPY) -O binary $< $@<br><br>$(BUILD_DIR):<br>\tmkdir -p $@<br><br>clean:<br>\trm -rf $(BUILD_DIR)<br><br>flash: $(BUILD_DIR)/$(PROJECT).bin<br>\topenocd -f openocd.cfg -c "program $< 0x08000000 verify reset exit"<br><br>.PHONY: all clean flash</div><h2>\ud83d\udd24 Makefile Variables</h2><div class="code-box"># Variable assignment<br>CC = arm-none-eabi-gcc    # Simple assignment<br>CC := arm-none-eabi-gcc   # Immediate assignment<br>CC ?= arm-none-eabi-gcc   # Conditional (if not set)<br>CC += -Wall               # Append<br><br># Using variables<br>$(CC)                     # Reference variable<br><br># Automatic variables<br>$@    # Target name<br>$<    # First dependency<br>$^    # All dependencies<br>$?    # Dependencies newer than target<br>$*    # Stem of pattern rule</div><h2>\ud83d\udcc1 Pattern Rules</h2><div class="code-box"># Pattern rule for .c \u2192 .o<br>%.o: %.c<br>\t$(CC) $(CFLAGS) -c $< -o $@<br><br># With build directory<br>$(BUILD_DIR)/%.o: $(SRC_DIR)/%.c<br>\t$(CC) $(CFLAGS) -c $< -o $@<br><br># Multiple patterns<br>%.hex: %.elf<br>\t$(OBJCOPY) -O ihex $< $@<br><br>%.bin: %.elf<br>\t$(OBJCOPY) -O binary $< $@</div><h2>\ud83c\udfaf Wildcard and Functions</h2><div class="code-box"># Wildcard - find files<br>SOURCES = $(wildcard src/*.c)<br># Result: src/main.c src/gpio.c src/uart.c<br><br># Substitution - change extension<br>OBJECTS = $(SOURCES:.c=.o)<br># Result: src/main.o src/gpio.o src/uart.o<br><br># Pattern substitution<br>OBJECTS = $(SOURCES:src/%.c=build/%.o)<br># Result: build/main.o build/gpio.o build/uart.o<br><br># Patsubst function<br>OBJECTS = $(patsubst src/%.c,build/%.o,$(SOURCES))</div><h2>\ud83d\udd17 Dependencies</h2><div class="code-box"># Manual dependencies<br>main.o: main.c main.h gpio.h<br>\t$(CC) $(CFLAGS) -c main.c<br><br># Auto-generate dependencies<br>DEPS = $(OBJECTS:.o=.d)<br><br>-include $(DEPS)<br><br># Generate .d files<br>$(BUILD_DIR)/%.o: $(SRC_DIR)/%.c<br>\t$(CC) $(CFLAGS) -MMD -MP -c $< -o $@</div><h2>\u2699\ufe0f Phony Targets</h2><div class="code-box"># Phony targets (not real files)<br>.PHONY: all clean flash debug<br><br>all: firmware.bin<br><br>clean:<br>\trm -rf build/<br><br>flash: firmware.bin<br>\topenocd -f openocd.cfg -c "program $< verify reset exit"<br><br>debug: firmware.elf<br>\topenocd -f openocd.cfg &<br>\tarm-none-eabi-gdb $<<br><br>size: firmware.elf<br>\tarm-none-eabi-size -A $<</div><h2>\ud83d\udcca Advanced Makefile Features</h2><div class="code-box"># Conditional compilation<br>DEBUG ?= 1<br>ifeq ($(DEBUG), 1)<br>    CFLAGS += -DDEBUG -O0 -g3<br>else<br>    CFLAGS += -O2<br>endif<br><br># Multiple targets<br>MCU ?= STM32F407<br>ifeq ($(MCU), STM32F407)<br>    LDSCRIPT = linker/STM32F407.ld<br>else ifeq ($(MCU), STM32F103)<br>    LDSCRIPT = linker/STM32F103.ld<br>endif<br><br># Silent mode<br>.SILENT:<br><br># Or per-command<br>@$(CC) $(CFLAGS) -c $< -o $@</div><h2>\ud83c\udfa8 Pretty Output</h2><div class="code-box"># Colored output<br>RED = \\033[0;31m<br>GREEN = \\033[0;32m<br>YELLOW = \\033[0;33m<br>NC = \\033[0m  # No Color<br><br>$(BUILD_DIR)/%.o: $(SRC_DIR)/%.c<br>\t@echo "$(YELLOW)[CC]$(NC) $<"<br>\t@$(CC) $(CFLAGS) -c $< -o $@<br><br>$(PROJECT).elf: $(OBJECTS)<br>\t@echo "$(GREEN)[LD]$(NC) $@"<br>\t@$(CC) $(CFLAGS) $(LDFLAGS) $^ -o $@</div><h2>\ud83d\ude80 Running Make</h2><div class="code-box"># Build everything<br>make<br>make all<br><br># Clean build directory<br>make clean<br><br># Flash firmware<br>make flash<br><br># Rebuild from scratch<br>make clean all<br><br># Build with specific target<br>make MCU=STM32F103<br><br># Parallel build (faster)<br>make -j4<br><br># Verbose mode<br>make V=1</div><div class="fun-fact"><strong>\ud83c\udf1f Make History:</strong><p style="margin-top:10px;margin-bottom:0">Make was created in 1976 by Stuart Feldman at Bell Labs - almost 50 years ago! Despite its age, it\'s still the most popular build tool for embedded systems. Modern alternatives exist (CMake, Ninja), but Make\'s simplicity keeps it relevant!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the automatic variable $@ represent?</p><ul><li>A) First dependency</li><li>B) All dependencies</li><li>C) Target name \u2713</li><li>D) Source file</li></ul><p style="margin-top:15px"><em>Answer: C - $@ is the target name in a Makefile rule!</em></p></div></div>',questions:[{q:"What does the automatic variable $@ represent?",options:["First dependency","All dependencies","Target name","Source file"],answer:2}],tools:[{name:"Makefile Generator",type:"interactive",description:"Generate custom Makefiles"}]},{title:"Linker Scripts Fundamentals",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\uddfa\ufe0f</div><p>Linker Scripts: The blueprint for your firmware\'s memory layout!</p></div><h2>\ud83c\udfaf What is a Linker Script?</h2><p>A <strong>linker script</strong> tells the linker where to place code and data in memory. It\'s essential for embedded systems because you must precisely control what goes in Flash vs RAM!</p><div class="info-box"><strong>Why Linker Scripts Matter:</strong><ul><li>Define Flash and RAM regions</li><li>Place code in Flash, data in RAM</li><li>Set stack and heap locations</li><li>Define entry point</li><li>Create custom memory sections</li></ul></div><h2>\ud83d\udccb Basic Linker Script Structure</h2><div class="code-box">/* STM32F407.ld - Linker Script */<br><br>/* Entry point */<br>ENTRY(Reset_Handler)<br><br>/* Memory regions */<br>MEMORY<br>{<br>    FLASH (rx)  : ORIGIN = 0x08000000, LENGTH = 512K<br>    RAM (rwx)   : ORIGIN = 0x20000000, LENGTH = 128K<br>}<br><br>/* Sections */<br>SECTIONS<br>{<br>    .text : {<br>        /* Code goes here */<br>    } > FLASH<br>    <br>    .data : {<br>        /* Initialized data */<br>    } > RAM AT> FLASH<br>}</div><h2>\ud83d\uddfa\ufe0f MEMORY Command</h2><div class="code-box">MEMORY<br>{<br>    /* name (attr) : ORIGIN = address, LENGTH = size */<br>    <br>    FLASH (rx)  : ORIGIN = 0x08000000, LENGTH = 512K<br>    RAM (rwx)   : ORIGIN = 0x20000000, LENGTH = 128K<br>    CCMRAM (rw) : ORIGIN = 0x10000000, LENGTH = 64K<br>}<br><br>/* Attributes:<br>   r = readable<br>   w = writable<br>   x = executable<br>   a = allocatable<br>   i = initialized<br>*/</div><h2>\ud83d\udce6 SECTIONS Command</h2><div class="code-box">SECTIONS<br>{<br>    /* Vector table (must be first!) */<br>    .isr_vector : {<br>        . = ALIGN(4);<br>        KEEP(*(.isr_vector))<br>        . = ALIGN(4);<br>    } > FLASH<br>    <br>    /* Program code */<br>    .text : {<br>        . = ALIGN(4);<br>        *(.text)           /* All .text sections */<br>        *(.text*)          /* All .text.* sections */<br>        *(.rodata)         /* Read-only data */<br>        *(.rodata*)<br>        . = ALIGN(4);<br>    } > FLASH<br>    <br>    /* Initialized data (copied from Flash to RAM) */<br>    .data : {<br>        . = ALIGN(4);<br>        _sdata = .;        /* Start of .data */<br>        *(.data)<br>        *(.data*)<br>        . = ALIGN(4);<br>        _edata = .;        /* End of .data */<br>    } > RAM AT> FLASH<br>    <br>    /* Uninitialized data (zeroed by startup code) */<br>    .bss : {<br>        . = ALIGN(4);<br>        _sbss = .;<br>        *(.bss)<br>        *(.bss*)<br>        *(COMMON)<br>        . = ALIGN(4);<br>        _ebss = .;<br>    } > RAM<br>}</div><h2>\ud83c\udfaf Complete STM32F4 Linker Script</h2><div class="code-box">/* STM32F407VGTx_FLASH.ld */<br><br>ENTRY(Reset_Handler)<br><br>_estack = 0x20020000;  /* End of RAM (128K) */<br><br>_Min_Heap_Size = 0x200;<br>_Min_Stack_Size = 0x400;<br><br>MEMORY<br>{<br>    FLASH (rx)  : ORIGIN = 0x08000000, LENGTH = 1024K<br>    RAM (xrw)   : ORIGIN = 0x20000000, LENGTH = 128K<br>    CCMRAM (rw) : ORIGIN = 0x10000000, LENGTH = 64K<br>}<br><br>SECTIONS<br>{<br>    .isr_vector :<br>    {<br>        . = ALIGN(4);<br>        KEEP(*(.isr_vector))<br>        . = ALIGN(4);<br>    } >FLASH<br><br>    .text :<br>    {<br>        . = ALIGN(4);<br>        *(.text)<br>        *(.text*)<br>        *(.glue_7)<br>        *(.glue_7t)<br>        *(.eh_frame)<br>        KEEP (*(.init))<br>        KEEP (*(.fini))<br>        . = ALIGN(4);<br>        _etext = .;<br>    } >FLASH<br><br>    .rodata :<br>    {<br>        . = ALIGN(4);<br>        *(.rodata)<br>        *(.rodata*)<br>        . = ALIGN(4);<br>    } >FLASH<br><br>    _sidata = LOADADDR(.data);<br><br>    .data :<br>    {<br>        . = ALIGN(4);<br>        _sdata = .;<br>        *(.data)<br>        *(.data*)<br>        . = ALIGN(4);<br>        _edata = .;<br>    } >RAM AT> FLASH<br><br>    .bss :<br>    {<br>        . = ALIGN(4);<br>        _sbss = .;<br>        __bss_start__ = _sbss;<br>        *(.bss)<br>        *(.bss*)<br>        *(COMMON)<br>        . = ALIGN(4);<br>        _ebss = .;<br>        __bss_end__ = _ebss;<br>    } >RAM<br><br>    ._user_heap_stack :<br>    {<br>        . = ALIGN(8);<br>        PROVIDE ( end = . );<br>        PROVIDE ( _end = . );<br>        . = . + _Min_Heap_Size;<br>        . = . + _Min_Stack_Size;<br>        . = ALIGN(8);<br>    } >RAM<br>}</div><h2>\ud83d\udd27 Linker Script Symbols</h2><div class="code-box">/* Symbols created by linker script */<br><br>extern uint32_t _sidata;  /* Start of .data in Flash (LMA) */<br>extern uint32_t _sdata;   /* Start of .data in RAM (VMA) */<br>extern uint32_t _edata;   /* End of .data in RAM */<br>extern uint32_t _sbss;    /* Start of .bss */<br>extern uint32_t _ebss;    /* End of .bss */<br>extern uint32_t _estack;  /* End of stack */<br><br>/* Used in startup code */<br>void Reset_Handler(void) {<br>    uint32_t *src = &_sidata;<br>    uint32_t *dst = &_sdata;<br>    <br>    /* Copy .data from Flash to RAM */<br>    while (dst < &_edata) {<br>        *dst++ = *src++;<br>    }<br>    <br>    /* Zero .bss */<br>    dst = &_sbss;<br>    while (dst < &_ebss) {<br>        *dst++ = 0;<br>    }<br>}</div><h2>\ud83d\udccd Location Counter (.)</h2><div class="code-box">/* The dot (.) is the location counter */<br><br>.text : {<br>    . = ALIGN(4);      /* Align to 4 bytes */<br>    *(.text)<br>    . = . + 0x100;     /* Reserve 256 bytes */<br>    . = ALIGN(8);      /* Align to 8 bytes */<br>}</div><h2>\ud83c\udfaf Special Keywords</h2><div class="code-box">/* KEEP - Don\'t remove even if unused */<br>KEEP(*(.isr_vector))<br><br>/* PROVIDE - Define symbol if not already defined */<br>PROVIDE(__stack = _estack);<br><br>/* LOADADDR - Get load address (LMA) */<br>_sidata = LOADADDR(.data);<br><br>/* ADDR - Get virtual address (VMA) */<br>_sdata = ADDR(.data);<br><br>/* SIZEOF - Get section size */<br>_data_size = SIZEOF(.data);</div><div class="fun-fact"><strong>\ud83c\udf1f Memory Magic:</strong><p style="margin-top:10px;margin-bottom:0">The linker script is like a city planner for your firmware! It decides which neighborhoods (sections) go where in the city (memory). Without it, your code would be homeless! Every embedded system needs this blueprint.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the AT> keyword specify?</p><ul><li>A) Virtual Memory Address (VMA)</li><li>B) Load Memory Address (LMA) \u2713</li><li>C) Alignment requirement</li><li>D) Section size</li></ul><p style="margin-top:15px"><em>Answer: B - AT> specifies where data is loaded from (LMA in Flash)!</em></p></div></div>',questions:[{q:"What does the AT> keyword specify?",options:["Virtual Memory Address (VMA)","Load Memory Address (LMA)","Alignment requirement","Section size"],answer:1}],tools:[{name:"Linker Script Generator",type:"interactive",description:"Generate custom linker scripts"}]},{title:"Memory Sections (.text, .data, .bss, .rodata)",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce6</div><p>Memory Sections: Organizing your code and data in Flash and RAM!</p></div><h2>\ud83d\uddc2\ufe0f The Four Main Sections</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">.text</span><h4>Code Section</h4><p>Executable instructions in Flash</p></div><div class="info-card"><span class="card-icon">.rodata</span><h4>Read-Only Data</h4><p>Constants in Flash</p></div><div class="info-card"><span class="card-icon">.data</span><h4>Initialized Data</h4><p>Variables with initial values in RAM</p></div><div class="info-card"><span class="card-icon">.bss</span><h4>Uninitialized Data</h4><p>Zero-initialized variables in RAM</p></div></div><h2>\ud83d\udcbe .text Section (Code)</h2><div class="info-box"><strong>.text Section:</strong><ul><li>Contains executable code</li><li>Stored in Flash memory</li><li>Read-only at runtime</li><li>Includes all functions</li></ul></div><div class="code-box">// All functions go in .text<br>void delay(uint32_t ms) {<br>    for(uint32_t i = 0; i < ms * 1000; i++);<br>}<br><br>int main(void) {<br>    delay(100);<br>    return 0;<br>}<br><br>// In linker script:<br>.text : {<br>    *(.text)    /* All code */<br>    *(.text*)   /* All .text.* sections */<br>} > FLASH</div><h2>\ud83d\udcd6 .rodata Section (Read-Only Data)</h2><div class="info-box"><strong>.rodata Section:</strong><ul><li>Constants and string literals</li><li>Stored in Flash memory</li><li>Never changes at runtime</li><li>Saves RAM!</li></ul></div><div class="code-box">// String literals \u2192 .rodata<br>const char* message = "Hello World";<br><br>// Const arrays \u2192 .rodata<br>const uint8_t lookup_table[] = {0, 1, 2, 3, 4};<br><br>// Const structs \u2192 .rodata<br>const struct {<br>    uint32_t id;<br>    const char* name;<br>} device = {1, "STM32F407"};<br><br>// In linker script:<br>.rodata : {<br>    *(.rodata)<br>    *(.rodata*)<br>} > FLASH</div><h2>\ud83d\udcbe .data Section (Initialized Variables)</h2><div class="info-box"><strong>.data Section:</strong><ul><li>Global/static variables with initial values</li><li>Stored in Flash (LMA) but runs in RAM (VMA)</li><li>Copied from Flash to RAM at startup</li><li>Uses both Flash AND RAM!</li></ul></div><div class="code-box">// Initialized global \u2192 .data<br>uint32_t counter = 100;<br><br>// Initialized static \u2192 .data<br>static uint8_t state = 5;<br><br>// Initialized array \u2192 .data<br>int numbers[5] = {1, 2, 3, 4, 5};<br><br>// In linker script:<br>.data : {<br>    _sdata = .;         /* Start marker */<br>    *(.data)<br>    *(.data*)<br>    _edata = .;         /* End marker */<br>} > RAM AT> FLASH<br><br>/* Startup code copies .data from Flash to RAM */<br>_sidata = LOADADDR(.data);  /* Source in Flash */</div><h2>\ud83d\uddd1\ufe0f .bss Section (Uninitialized Variables)</h2><div class="info-box"><strong>.bss Section (Block Started by Symbol):</strong><ul><li>Uninitialized or zero-initialized variables</li><li>Only in RAM (no Flash storage!)</li><li>Zeroed by startup code</li><li>Saves Flash space!</li></ul></div><div class="code-box">// Uninitialized global \u2192 .bss<br>uint32_t buffer[256];<br><br>// Zero-initialized \u2192 .bss<br>static int value = 0;<br><br>// Uninitialized static \u2192 .bss<br>static uint8_t data;<br><br>// In linker script:<br>.bss : {<br>    _sbss = .;          /* Start marker */<br>    *(.bss)<br>    *(.bss*)<br>    *(COMMON)<br>    _ebss = .;          /* End marker */<br>} > RAM<br><br>/* Startup code zeros .bss */</div><h2>\ud83d\udcca Memory Usage Comparison</h2><div class="code-box">// Example variables<br>const int a = 10;           // .rodata (Flash only)<br>int b = 20;                 // .data (Flash + RAM)<br>int c;                      // .bss (RAM only)<br>static int d = 30;          // .data (Flash + RAM)<br>static int e;               // .bss (RAM only)<br><br>void func(void) {<br>    int local = 40;         // Stack (RAM, not a section)<br>    static int s = 50;      // .data (Flash + RAM)<br>}<br><br>/* Memory usage:<br>   Flash: a + b + d + s = 4 variables<br>   RAM:   b + c + d + e + s + stack = 6 items<br>*/</div><h2>\ud83c\udfaf Section Attributes</h2><div class="code-box">// Place variable in specific section<br>__attribute__((section(".my_section")))<br>uint32_t special_var = 123;<br><br>// Place in .data even if const<br>__attribute__((section(".data")))<br>const uint32_t ram_const = 456;<br><br>// Align to specific boundary<br>__attribute__((aligned(16)))<br>uint8_t aligned_buffer[256];<br><br>// Combine attributes<br>__attribute__((section(".ccmram"), aligned(4)))<br>uint32_t ccm_data[128];</div><h2>\ud83d\udd0d Viewing Sections</h2><div class="code-box"># View section sizes<br>arm-none-eabi-size firmware.elf<br>   text    data     bss     dec     hex filename<br>   4096     256    1024    5376    1500 firmware.elf<br><br># Detailed section info<br>arm-none-eabi-size -A firmware.elf<br>firmware.elf  :<br>section       size      addr<br>.text         4096  0x8000000<br>.rodata        512  0x8001000<br>.data          256  0x20000000<br>.bss          1024  0x20000100<br><br># View section contents<br>arm-none-eabi-objdump -h firmware.elf<br>arm-none-eabi-objdump -s -j .rodata firmware.elf</div><h2>\ud83d\udca1 Optimization Tips</h2><div class="info-box"><strong>Save Flash:</strong><ul><li>Use .bss instead of .data when possible (don\'t initialize to 0)</li><li>Use const for read-only data (moves to .rodata)</li><li>Minimize global variables</li></ul><strong>Save RAM:</strong><ul><li>Use const for constants (keeps in Flash)</li><li>Use static const for lookup tables</li><li>Consider code in Flash vs RAM tradeoff</li></ul></div><div class="code-box">// BAD: Uses Flash + RAM<br>uint8_t buffer[1024] = {0};<br><br>// GOOD: Uses only RAM (same result)<br>uint8_t buffer[1024];<br><br>// BAD: Uses RAM<br>uint8_t lookup[256] = {0,1,2,3,...};<br><br>// GOOD: Uses only Flash<br>const uint8_t lookup[256] = {0,1,2,3,...};</div><h2>\ud83d\uddfa\ufe0f Complete Memory Layout</h2><div class="code-box">FLASH (0x08000000)<br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>\u2502  .isr_vector     \u2502  Vector table<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .text           \u2502  Your code<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .rodata         \u2502  Constants<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .data (LMA)     \u2502  Initial values for .data<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518<br><br>RAM (0x20000000)<br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br>\u2502  .data (VMA)     \u2502  Initialized variables<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .bss            \u2502  Uninitialized variables<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  Heap \u2193          \u2502  Dynamic allocation<br>\u2502                  \u2502<br>\u2502  Stack \u2191         \u2502  Function calls<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 _estack</div><div class="fun-fact"><strong>\ud83c\udf1f BSS History:</strong><p style="margin-top:10px;margin-bottom:0">BSS stands for "Block Started by Symbol" from an old IBM assembler directive. The clever part: uninitialized data doesn\'t need to be stored in the executable file - just a note saying "reserve X bytes and zero them". This saves Flash space!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which section uses both Flash AND RAM?</p><ul><li>A) .text</li><li>B) .rodata</li><li>C) .data \u2713</li><li>D) .bss</li></ul><p style="margin-top:15px"><em>Answer: C - .data is stored in Flash but copied to RAM at startup!</em></p></div></div>',questions:[{q:"Which section uses both Flash AND RAM?",options:[".text",".rodata",".data",".bss"],answer:2}],tools:[{name:"Section Analyzer",type:"interactive",description:"Analyze memory section usage"}]},{title:"Advanced Linker Script Techniques",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf93</div><p>Advanced Linker Techniques: Master memory layout control!</p></div><h2>\ud83c\udfaf LMA vs VMA Deep Dive</h2><div class="info-box"><strong>Key Concept:</strong><ul><li><strong>VMA (Virtual Memory Address):</strong> Where section runs</li><li><strong>LMA (Load Memory Address):</strong> Where section is stored</li><li>For .text and .rodata: VMA = LMA (runs from Flash)</li><li>For .data: VMA \u2260 LMA (stored in Flash, runs in RAM)</li></ul></div><div class="code-box">/* .data section example */<br>.data : {<br>    _sdata = .;         /* VMA start (RAM) */<br>    *(.data)<br>    _edata = .;         /* VMA end (RAM) */<br>} > RAM AT> FLASH<br><br>_sidata = LOADADDR(.data);  /* LMA (Flash) */<br><br>/* Startup code copies from LMA to VMA */<br>uint32_t *src = &_sidata;   /* Source: Flash (LMA) */<br>uint32_t *dst = &_sdata;    /* Dest: RAM (VMA) */<br>while (dst < &_edata) {<br>    *dst++ = *src++;<br>}</div><h2>\ud83d\udccd KEEP Directive</h2><div class="code-box">/* KEEP prevents garbage collection */<br><br>.isr_vector : {<br>    KEEP(*(.isr_vector))  /* Don\'t remove even if "unused" */<br>} > FLASH<br><br>/* Without KEEP, linker might remove:<br>   - Interrupt vectors<br>   - Startup code<br>   - Code called via function pointers<br>*/</div><h2>\ud83d\udd27 PROVIDE and HIDDEN</h2><div class="code-box">/* PROVIDE - Define symbol if not already defined */<br>PROVIDE(__stack = _estack);<br>PROVIDE(end = _end);<br><br>/* HIDDEN - Symbol not exported */<br>HIDDEN(_internal_symbol = 0x20000000);<br><br>/* In C code: */<br>extern uint32_t __stack;  /* Can use if not defined elsewhere */</div><h2>\ud83d\udccf Alignment and Padding</h2><div class="code-box">/* ALIGN - Align location counter */<br>.text : {<br>    . = ALIGN(4);       /* Align to 4-byte boundary */<br>    *(.text)<br>    . = ALIGN(8);       /* Align to 8-byte boundary */<br>}<br><br>/* ALIGN with fill */<br>. = ALIGN(16);          /* Align and fill with zeros */<br>. = ALIGN(16, 0xFF);    /* Align and fill with 0xFF */<br><br>/* ALIGNOF - Get alignment of section */<br>_text_align = ALIGNOF(.text);</div><h2>\ud83c\udfaf Custom Sections</h2><div class="code-box">/* Create custom section in linker script */<br>.ccmram : {<br>    . = ALIGN(4);<br>    _sccmram = .;<br>    *(.ccmram)<br>    *(.ccmram*)<br>    . = ALIGN(4);<br>    _eccmram = .;<br>} > CCMRAM<br><br>/* In C code: */<br>__attribute__((section(".ccmram")))<br>uint32_t fast_buffer[256];<br><br>/* Place function in RAM for speed */<br>__attribute__((section(".ramfunc")))<br>void critical_function(void) {<br>    // Runs from RAM (faster than Flash)<br>}</div><h2>\ud83d\uddfa\ufe0f Multiple Memory Regions</h2><div class="code-box">MEMORY {<br>    FLASH (rx)   : ORIGIN = 0x08000000, LENGTH = 512K<br>    RAM (rwx)    : ORIGIN = 0x20000000, LENGTH = 128K<br>    CCMRAM (rw)  : ORIGIN = 0x10000000, LENGTH = 64K<br>    BACKUP (rw)  : ORIGIN = 0x40024000, LENGTH = 4K<br>}<br><br>SECTIONS {<br>    /* Code in Flash */<br>    .text : { *(.text*) } > FLASH<br>    <br>    /* Fast data in CCM RAM */<br>    .ccmram : { *(.ccmram*) } > CCMRAM<br>    <br>    /* Persistent data in backup RAM */<br>    .backup : { *(.backup*) } > BACKUP<br>}</div><h2>\ud83d\udcca Stack and Heap Placement</h2><div class="code-box">/* Define stack and heap sizes */<br>_Min_Heap_Size = 0x200;   /* 512 bytes */<br>_Min_Stack_Size = 0x400;  /* 1024 bytes */<br><br>/* Stack grows downward from end of RAM */<br>_estack = ORIGIN(RAM) + LENGTH(RAM);<br><br>/* Heap and stack section */<br>._user_heap_stack : {<br>    . = ALIGN(8);<br>    PROVIDE(end = .);<br>    PROVIDE(_end = .);<br>    . = . + _Min_Heap_Size;   /* Reserve heap */<br>    . = . + _Min_Stack_Size;  /* Reserve stack */<br>    . = ALIGN(8);<br>} > RAM<br><br>/* Check for overflow */<br>ASSERT(. <= _estack, "Error: RAM overflow!")</div><h2>\u26a0\ufe0f ASSERT for Safety</h2><div class="code-box">/* Runtime checks in linker script */<br><br>/* Check Flash doesn\'t overflow */<br>ASSERT(SIZEOF(.text) + SIZEOF(.data) < LENGTH(FLASH),<br>       "Error: Flash overflow!")<br><br>/* Check RAM doesn\'t overflow */<br>ASSERT(SIZEOF(.data) + SIZEOF(.bss) + _Min_Heap_Size + _Min_Stack_Size < LENGTH(RAM),<br>       "Error: RAM overflow!")<br><br>/* Check alignment */<br>ASSERT((ADDR(.isr_vector) & 0x1FF) == 0,<br>       "Error: Vector table must be 512-byte aligned!")</div><h2>\ud83d\udd04 OVERLAY for Code Swapping</h2><div class="code-box">/* Overlay sections (share same RAM) */<br>OVERLAY : {<br>    .overlay1 { *(.overlay1) }<br>    .overlay2 { *(.overlay2) }<br>} > RAM<br><br>/* Both sections use same RAM address<br>   Load one at a time as needed<br>   Useful for large applications with limited RAM<br>*/</div><h2>\ud83d\udccb INCLUDE Directive</h2><div class="code-box">/* Main linker script */<br>INCLUDE memory_map.ld<br>INCLUDE sections.ld<br><br>/* memory_map.ld */<br>MEMORY {<br>    FLASH : ORIGIN = 0x08000000, LENGTH = 512K<br>    RAM   : ORIGIN = 0x20000000, LENGTH = 128K<br>}<br><br>/* sections.ld */<br>SECTIONS {<br>    .text : { *(.text*) } > FLASH<br>    .data : { *(.data*) } > RAM AT> FLASH<br>}</div><h2>\ud83c\udfaf Complete Advanced Example</h2><div class="code-box">/* Advanced STM32F4 Linker Script */<br><br>ENTRY(Reset_Handler)<br><br>_estack = ORIGIN(RAM) + LENGTH(RAM);<br>_Min_Heap_Size = 0x200;<br>_Min_Stack_Size = 0x400;<br><br>MEMORY {<br>    FLASH (rx)   : ORIGIN = 0x08000000, LENGTH = 1024K<br>    RAM (xrw)    : ORIGIN = 0x20000000, LENGTH = 128K<br>    CCMRAM (rw)  : ORIGIN = 0x10000000, LENGTH = 64K<br>}<br><br>SECTIONS {<br>    /* Vector table (must be 512-byte aligned) */<br>    .isr_vector : {<br>        . = ALIGN(512);<br>        KEEP(*(.isr_vector))<br>    } > FLASH<br>    <br>    /* Code */<br>    .text : {<br>        . = ALIGN(4);<br>        *(.text)<br>        *(.text*)<br>        *(.rodata)<br>        *(.rodata*)<br>        . = ALIGN(4);<br>        _etext = .;<br>    } > FLASH<br>    <br>    /* RAM functions (code in RAM) */<br>    .ramfunc : {<br>        . = ALIGN(4);<br>        _sramfunc = .;<br>        *(.ramfunc)<br>        . = ALIGN(4);<br>        _eramfunc = .;<br>    } > RAM AT> FLASH<br>    <br>    _siramfunc = LOADADDR(.ramfunc);<br>    <br>    /* Initialized data */<br>    .data : {<br>        . = ALIGN(4);<br>        _sdata = .;<br>        *(.data)<br>        *(.data*)<br>        . = ALIGN(4);<br>        _edata = .;<br>    } > RAM AT> FLASH<br>    <br>    _sidata = LOADADDR(.data);<br>    <br>    /* Uninitialized data */<br>    .bss : {<br>        . = ALIGN(4);<br>        _sbss = .;<br>        *(.bss)<br>        *(.bss*)<br>        *(COMMON)<br>        . = ALIGN(4);<br>        _ebss = .;<br>    } > RAM<br>    <br>    /* CCM RAM section */<br>    .ccmram : {<br>        . = ALIGN(4);<br>        _sccmram = .;<br>        *(.ccmram)<br>        *(.ccmram*)<br>        . = ALIGN(4);<br>        _eccmram = .;<br>    } > CCMRAM<br>    <br>    /* Heap and stack */<br>    ._user_heap_stack : {<br>        . = ALIGN(8);<br>        PROVIDE(end = .);<br>        . = . + _Min_Heap_Size;<br>        . = . + _Min_Stack_Size;<br>        . = ALIGN(8);<br>    } > RAM<br>    <br>    /* Safety checks */<br>    ASSERT(. <= _estack, "RAM overflow!")<br>}<br><br>/* Provide weak symbols */<br>PROVIDE(__stack = _estack);<br>PROVIDE(_heap_start = end);</div><div class="fun-fact"><strong>\ud83c\udf1f Linker Power:</strong><p style="margin-top:10px;margin-bottom:0">The linker script is one of the most powerful tools in embedded development. You can place specific functions in RAM for speed, use multiple memory regions, create custom sections, and even detect memory overflows at compile time. Master this, and you control everything!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the KEEP directive prevent?</p><ul><li>A) Memory overflow</li><li>B) Garbage collection of sections \u2713</li><li>C) Alignment issues</li><li>D) Stack corruption</li></ul><p style="margin-top:15px"><em>Answer: B - KEEP prevents the linker from removing "unused" sections!</em></p></div></div>',questions:[{q:"What does the KEEP directive prevent?",options:["Memory overflow","Garbage collection of sections","Alignment issues","Stack corruption"],answer:1}],tools:[{name:"Advanced Linker Tool",type:"interactive",description:"Create complex linker scripts"}]},{title:"Vector Table and Interrupt Vectors",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udccb</div><p>Vector Table: The roadmap for handling exceptions and interrupts!</p></div><h2>\ud83c\udfaf What is the Vector Table?</h2><p>The <strong>vector table</strong> is an array of function pointers at the start of Flash memory. When an exception or interrupt occurs, the processor looks up the handler address in this table.</p><div class="info-box"><strong>Vector Table Location:</strong><ul><li>MUST be at 0x08000000 (Flash start) or 0x00000000 (aliased)</li><li>MUST be aligned to 512 bytes (for Cortex-M4)</li><li>First entry is initial stack pointer</li><li>Second entry is Reset_Handler address</li></ul></div><h2>\ud83d\udcca Vector Table Structure</h2><div class="code-box">/* Vector table layout (STM32F4) */<br><br>Offset  Exception Number  Handler<br>0x0000  -                 Initial SP value<br>0x0004  1                 Reset_Handler<br>0x0008  2                 NMI_Handler<br>0x000C  3                 HardFault_Handler<br>0x0010  4                 MemManage_Handler<br>0x0014  5                 BusFault_Handler<br>0x0018  6                 UsageFault_Handler<br>0x001C  7-10              Reserved<br>0x002C  11                SVC_Handler<br>0x0030  12                DebugMon_Handler<br>0x0034  13                Reserved<br>0x0038  14                PendSV_Handler<br>0x003C  15                SysTick_Handler<br>0x0040  16+               External IRQs...</div><h2>\ud83d\udcbb Defining Vector Table in C</h2><div class="code-box">/* startup.c - Vector table definition */<br><br>extern uint32_t _estack;  /* From linker script */<br><br>/* Function prototypes */<br>void Reset_Handler(void);<br>void NMI_Handler(void);<br>void HardFault_Handler(void);<br>void MemManage_Handler(void);<br>void BusFault_Handler(void);<br>void UsageFault_Handler(void);<br>void SVC_Handler(void);<br>void DebugMon_Handler(void);<br>void PendSV_Handler(void);<br>void SysTick_Handler(void);<br><br>/* External interrupt handlers */<br>void WWDG_IRQHandler(void);<br>void EXTI0_IRQHandler(void);<br>void USART1_IRQHandler(void);<br>/* ... more handlers ... */<br><br>/* Vector table */<br>__attribute__((section(".isr_vector")))<br>void (* const g_pfnVectors[])(void) = {<br>    (void (*)(void))((uint32_t)&_estack),  /* Initial SP */<br>    Reset_Handler,              /* Reset */<br>    NMI_Handler,                /* NMI */<br>    HardFault_Handler,          /* Hard Fault */<br>    MemManage_Handler,          /* MPU Fault */<br>    BusFault_Handler,           /* Bus Fault */<br>    UsageFault_Handler,         /* Usage Fault */<br>    0,                          /* Reserved */<br>    0,                          /* Reserved */<br>    0,                          /* Reserved */<br>    0,                          /* Reserved */<br>    SVC_Handler,                /* SVCall */<br>    DebugMon_Handler,           /* Debug Monitor */<br>    0,                          /* Reserved */<br>    PendSV_Handler,             /* PendSV */<br>    SysTick_Handler,            /* SysTick */<br>    <br>    /* External Interrupts */<br>    WWDG_IRQHandler,            /* Window Watchdog */<br>    EXTI0_IRQHandler,           /* EXTI Line 0 */<br>    /* ... 80+ more interrupts ... */<br>};</div><h2>\ud83d\udd27 Weak Symbols for Default Handlers</h2><div class="code-box">/* Default handler (infinite loop) */<br>void Default_Handler(void) {<br>    while(1);<br>}<br><br>/* Weak aliases - can be overridden */<br>void NMI_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void HardFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void MemManage_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void BusFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void UsageFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void SVC_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void DebugMon_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void PendSV_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void SysTick_Handler(void) __attribute__((weak, alias("Default_Handler")));<br><br>/* External interrupts */<br>void WWDG_IRQHandler(void) __attribute__((weak, alias("Default_Handler")));<br>void EXTI0_IRQHandler(void) __attribute__((weak, alias("Default_Handler")));<br>void USART1_IRQHandler(void) __attribute__((weak, alias("Default_Handler")));</div><h2>\ud83c\udfaf Implementing Custom Handlers</h2><div class="code-box">/* In your application code (main.c) */<br><br>/* Override weak handler */<br>void USART1_IRQHandler(void) {<br>    /* Check if RXNE (receive not empty) */<br>    if (USART1->SR & USART_SR_RXNE) {<br>        uint8_t data = USART1->DR;<br>        /* Process received data */<br>    }<br>    <br>    /* Clear interrupt flags if needed */<br>}<br><br>/* SysTick handler for timing */<br>volatile uint32_t tick_count = 0;<br><br>void SysTick_Handler(void) {<br>    tick_count++;<br>}</div><h2>\u26a0\ufe0f Fault Handlers</h2><div class="code-box">/* HardFault handler with debug info */<br>void HardFault_Handler(void) {<br>    /* Get fault status registers */<br>    volatile uint32_t *cfsr = (uint32_t*)0xE000ED28;<br>    volatile uint32_t *hfsr = (uint32_t*)0xE000ED2C;<br>    volatile uint32_t *mmfar = (uint32_t*)0xE000ED34;<br>    volatile uint32_t *bfar = (uint32_t*)0xE000ED38;<br>    <br>    /* Read fault info */<br>    uint32_t cfsr_val = *cfsr;<br>    uint32_t hfsr_val = *hfsr;<br>    uint32_t mmfar_val = *mmfar;<br>    uint32_t bfar_val = *bfar;<br>    <br>    /* Infinite loop for debugging */<br>    while(1) {<br>        /* Set breakpoint here */<br>        __asm("NOP");<br>    }<br>}</div><h2>\ud83d\udccb Complete Vector Table Example</h2><div class="code-box">/* startup_stm32f407.c */<br><br>#include <stdint.h><br><br>extern uint32_t _estack;<br>extern uint32_t _sidata, _sdata, _edata;<br>extern uint32_t _sbss, _ebss;<br><br>void Reset_Handler(void);<br>void Default_Handler(void);<br><br>/* System exceptions */<br>void NMI_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void HardFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void MemManage_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void BusFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void UsageFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void SVC_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void DebugMon_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void PendSV_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void SysTick_Handler(void) __attribute__((weak, alias("Default_Handler")));<br><br>/* External interrupts (STM32F407 has 82) */<br>void WWDG_IRQHandler(void) __attribute__((weak, alias("Default_Handler")));<br>void PVD_IRQHandler(void) __attribute__((weak, alias("Default_Handler")));<br>void TAMP_STAMP_IRQHandler(void) __attribute__((weak, alias("Default_Handler")));<br>/* ... 79 more ... */<br><br>/* Vector table */<br>__attribute__((section(".isr_vector")))<br>void (* const g_pfnVectors[])(void) = {<br>    (void (*)(void))((uint32_t)&_estack),<br>    Reset_Handler,<br>    NMI_Handler,<br>    HardFault_Handler,<br>    MemManage_Handler,<br>    BusFault_Handler,<br>    UsageFault_Handler,<br>    0, 0, 0, 0,<br>    SVC_Handler,<br>    DebugMon_Handler,<br>    0,<br>    PendSV_Handler,<br>    SysTick_Handler,<br>    WWDG_IRQHandler,<br>    PVD_IRQHandler,<br>    TAMP_STAMP_IRQHandler,<br>    /* ... 79 more ... */<br>};<br><br>/* Default handler */<br>void Default_Handler(void) {<br>    while(1);<br>}</div><h2>\ud83d\udd0d Verifying Vector Table</h2><div class="code-box"># View vector table in ELF file<br>arm-none-eabi-objdump -s -j .isr_vector firmware.elf<br><br># Output:<br>Contents of section .isr_vector:<br> 8000000 00000220 89010008 91010008 93010008  ... ............<br> 8000010 95010008 97010008 99010008 00000000  ................<br><br># First 4 bytes: 0x20000000 (initial SP)<br># Next 4 bytes: 0x08000189 (Reset_Handler address)</div><div class="fun-fact"><strong>\ud83c\udf1f Vector Table Magic:</strong><p style="margin-top:10px;margin-bottom:0">The ARM Cortex-M processor automatically saves 8 registers (R0-R3, R12, LR, PC, xPSR) to the stack when entering an interrupt, and restores them when exiting. This is called "hardware stacking" and it\'s AUTOMATIC - you don\'t write any assembly code for it!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is stored at offset 0x0000 in the vector table?</p><ul><li>A) Reset_Handler address</li><li>B) Initial stack pointer value \u2713</li><li>C) Flash start address</li><li>D) RAM start address</li></ul><p style="margin-top:15px"><em>Answer: B - The first entry is the initial stack pointer value!</em></p></div></div>',questions:[{q:"What is stored at offset 0x0000 in the vector table?",options:["Reset_Handler address","Initial stack pointer value","Flash start address","RAM start address"],answer:1}],tools:[{name:"Vector Table Generator",type:"interactive",description:"Generate vector tables for different MCUs"}]},{title:"Startup Code (Reset Handler)",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\ude80</div><p>Reset Handler: The first code that runs when your MCU powers on!</p></div><h2>\ud83c\udfaf What is the Reset Handler?</h2><p>The <strong>Reset_Handler</strong> is the first function called after power-on or reset. It\'s responsible for initializing the C runtime environment before main() can run.</p><div class="info-box"><strong>Reset Handler Responsibilities:</strong><ul><li>Copy .data section from Flash to RAM</li><li>Zero .bss section in RAM</li><li>Call SystemInit() for clock/peripheral setup</li><li>Call static constructors (C++)</li><li>Call main()</li><li>Handle main() return (infinite loop)</li></ul></div><h2>\ud83d\udcbb Complete Reset Handler Implementation</h2><div class="code-box">/* startup.c - Reset Handler */<br><br>#include <stdint.h><br><br>/* Linker script symbols */<br>extern uint32_t _sidata;  /* Start of .data in Flash */<br>extern uint32_t _sdata;   /* Start of .data in RAM */<br>extern uint32_t _edata;   /* End of .data in RAM */<br>extern uint32_t _sbss;    /* Start of .bss */<br>extern uint32_t _ebss;    /* End of .bss */<br><br>/* External functions */<br>extern int main(void);<br>extern void SystemInit(void);<br><br>void Reset_Handler(void) {<br>    uint32_t *src, *dst;<br>    <br>    /* 1. Copy .data section from Flash to RAM */<br>    src = &_sidata;  /* Source in Flash (LMA) */<br>    dst = &_sdata;   /* Destination in RAM (VMA) */<br>    <br>    while (dst < &_edata) {<br>        *dst++ = *src++;<br>    }<br>    <br>    /* 2. Zero .bss section */<br>    dst = &_sbss;<br>    while (dst < &_ebss) {<br>        *dst++ = 0;<br>    }<br>    <br>    /* 3. Call system initialization (optional) */<br>    SystemInit();<br>    <br>    /* 4. Call main() */<br>    main();<br>    <br>    /* 5. If main() returns, loop forever */<br>    while(1);<br>}</div><h2>\ud83d\udccb Step-by-Step Breakdown</h2><div class="code-box">/* Step 1: Copy .data from Flash to RAM */<br><br>/* Why? .data contains initialized global variables.<br>   Initial values are stored in Flash (non-volatile).<br>   But variables must run from RAM (writable). */<br><br>src = &_sidata;  /* 0x08001000 (Flash) */<br>dst = &_sdata;   /* 0x20000000 (RAM) */<br><br>while (dst < &_edata) {<br>    *dst++ = *src++;  /* Copy word by word */<br>}<br><br>/* Example:<br>   int global_var = 42;  // Initial value in Flash<br>   After copy, global_var is in RAM with value 42<br>*/</div><div class="code-box">/* Step 2: Zero .bss section */<br><br>/* Why? .bss contains uninitialized variables.<br>   C standard requires they start at zero.<br>   No Flash storage needed - just zero RAM. */<br><br>dst = &_sbss;  /* 0x20000100 (RAM) */<br><br>while (dst < &_ebss) {<br>    *dst++ = 0;  /* Write zero */<br>}<br><br>/* Example:<br>   int buffer[256];  // Uninitialized<br>   After zeroing, all elements are 0<br>*/</div><h2>\u2699\ufe0f SystemInit Function</h2><div class="code-box">/* system.c - System initialization */<br><br>void SystemInit(void) {<br>    /* 1. Configure Flash latency for high speed */<br>    FLASH->ACR |= FLASH_ACR_LATENCY_5WS;<br>    <br>    /* 2. Enable FPU (Cortex-M4) */<br>    SCB->CPACR |= (0xF << 20);  /* CP10 & CP11 full access */<br>    <br>    /* 3. Configure system clock (optional here) */<br>    /* Usually done in main() or separate function */<br>    <br>    /* 4. Enable instruction and data cache */<br>    SCB_EnableICache();<br>    SCB_EnableDCache();<br>}</div><h2>\ud83c\udfaf Optimized Reset Handler</h2><div class="code-box">/* Optimized version with word-aligned copy */<br><br>void Reset_Handler(void) {<br>    uint32_t *src = &_sidata;<br>    uint32_t *dst = &_sdata;<br>    <br>    /* Copy .data (word-aligned) */<br>    uint32_t size = (uint32_t)&_edata - (uint32_t)&_sdata;<br>    uint32_t words = size / 4;<br>    <br>    for (uint32_t i = 0; i < words; i++) {<br>        dst[i] = src[i];<br>    }<br>    <br>    /* Zero .bss (word-aligned) */<br>    dst = &_sbss;<br>    size = (uint32_t)&_ebss - (uint32_t)&_sbss;<br>    words = size / 4;<br>    <br>    for (uint32_t i = 0; i < words; i++) {<br>        dst[i] = 0;<br>    }<br>    <br>    /* System init */<br>    SystemInit();<br>    <br>    /* Call main */<br>    main();<br>    <br>    /* Infinite loop */<br>    while(1);<br>}</div><h2>\ud83d\ude80 Assembly-Optimized Version</h2><div class="code-box">/* Using memcpy/memset (if available) */<br><br>#include <string.h><br><br>void Reset_Handler(void) {<br>    uint32_t data_size = (uint32_t)&_edata - (uint32_t)&_sdata;<br>    uint32_t bss_size = (uint32_t)&_ebss - (uint32_t)&_sbss;<br>    <br>    /* Copy .data */<br>    memcpy(&_sdata, &_sidata, data_size);<br>    <br>    /* Zero .bss */<br>    memset(&_sbss, 0, bss_size);<br>    <br>    SystemInit();<br>    main();<br>    while(1);<br>}</div><h2>\ud83d\udd27 C++ Support (Static Constructors)</h2><div class="code-box">/* For C++ projects */<br><br>typedef void (*func_ptr)(void);<br><br>extern func_ptr __init_array_start;<br>extern func_ptr __init_array_end;<br><br>void Reset_Handler(void) {<br>    /* Copy .data and zero .bss */<br>    /* ... */<br>    <br>    /* Call static constructors */<br>    func_ptr *p;<br>    for (p = &__init_array_start; p < &__init_array_end; p++) {<br>        (*p)();<br>    }<br>    <br>    /* Call main */<br>    main();<br>    <br>    /* Call static destructors (if main returns) */<br>    /* Usually not needed in embedded */<br>    <br>    while(1);<br>}</div><h2>\ud83d\udcca Complete Startup File</h2><div class="code-box">/* startup_stm32f407.c - Complete example */<br><br>#include <stdint.h><br><br>/* Linker symbols */<br>extern uint32_t _estack;<br>extern uint32_t _sidata, _sdata, _edata;<br>extern uint32_t _sbss, _ebss;<br><br>/* Functions */<br>extern int main(void);<br>extern void SystemInit(void);<br><br>void Reset_Handler(void);<br>void Default_Handler(void);<br><br>/* Weak handlers */<br>void NMI_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>void HardFault_Handler(void) __attribute__((weak, alias("Default_Handler")));<br>/* ... more handlers ... */<br><br>/* Vector table */<br>__attribute__((section(".isr_vector")))<br>void (* const g_pfnVectors[])(void) = {<br>    (void (*)(void))((uint32_t)&_estack),<br>    Reset_Handler,<br>    NMI_Handler,<br>    HardFault_Handler,<br>    /* ... */<br>};<br><br>/* Reset Handler Implementation */<br>void Reset_Handler(void) {<br>    uint32_t *src = &_sidata;<br>    uint32_t *dst = &_sdata;<br>    <br>    /* Copy .data */<br>    while (dst < &_edata) {<br>        *dst++ = *src++;<br>    }<br>    <br>    /* Zero .bss */<br>    dst = &_sbss;<br>    while (dst < &_ebss) {<br>        *dst++ = 0;<br>    }<br>    <br>    /* System init */<br>    SystemInit();<br>    <br>    /* Call main */<br>    main();<br>    <br>    /* Loop forever */<br>    while(1);<br>}<br><br>/* Default Handler */<br>void Default_Handler(void) {<br>    while(1);<br>}</div><h2>\ud83d\udd0d Debugging Reset Handler</h2><div class="code-box">/* Debug version with LED blink */<br><br>#define LED_PIN 5<br>#define GPIOA_MODER (*(volatile uint32_t*)0x40020000)<br>#define GPIOA_ODR   (*(volatile uint32_t*)0x40020014)<br>#define RCC_AHB1ENR (*(volatile uint32_t*)0x40023830)<br><br>void Reset_Handler(void) {<br>    /* Enable GPIOA clock */<br>    RCC_AHB1ENR |= (1 << 0);<br>    <br>    /* Set PA5 as output */<br>    GPIOA_MODER |= (1 << (LED_PIN * 2));<br>    <br>    /* Blink LED to show we\'re alive */<br>    for (int i = 0; i < 3; i++) {<br>        GPIOA_ODR |= (1 << LED_PIN);<br>        for (volatile int j = 0; j < 100000; j++);<br>        GPIOA_ODR &= ~(1 << LED_PIN);<br>        for (volatile int j = 0; j < 100000; j++);<br>    }<br>    <br>    /* Continue with normal startup */<br>    /* Copy .data, zero .bss, etc. */<br>}</div><div class="fun-fact"><strong>\ud83c\udf1f First Code:</strong><p style="margin-top:10px;margin-bottom:0">The Reset_Handler is literally the FIRST C code that runs on your microcontroller! Before this, only the hardware has been active. After reset, the processor loads the stack pointer from address 0x00, then jumps to the address at 0x04 (Reset_Handler). Everything starts here!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Why must .data be copied from Flash to RAM?</p><ul><li>A) Flash is slower than RAM</li><li>B) Variables must be writable \u2713</li><li>C) To save Flash space</li><li>D) For security reasons</li></ul><p style="margin-top:15px"><em>Answer: B - Variables need to be in RAM because they must be writable!</em></p></div></div>',questions:[{q:"Why must .data be copied from Flash to RAM?",options:["Flash is slower than RAM","Variables must be writable","To save Flash space","For security reasons"],answer:1}],tools:[{name:"Startup Code Generator",type:"interactive",description:"Generate startup code for different MCUs"}]},{title:"Stack and Heap Management",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udcda</div><p>Stack and Heap: Managing dynamic memory in embedded systems!</p></div><h2>\ud83c\udfaf Stack vs Heap</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udcda</span><h4>Stack</h4><p>Automatic, fast, fixed size, LIFO</p></div><div class="info-card"><span class="card-icon">\ud83d\uddc3\ufe0f</span><h4>Heap</h4><p>Manual, slower, dynamic size, fragmentation</p></div></div><h2>\ud83d\udcda The Stack</h2><div class="info-box"><strong>Stack Usage:</strong><ul><li>Function call return addresses</li><li>Local variables</li><li>Function parameters</li><li>Saved registers during interrupts</li></ul></div><div class="code-box">/* Stack grows DOWNWARD from high to low addresses */<br><br>RAM (0x20000000 - 0x2001FFFF = 128KB)<br>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 0x20000000<br>\u2502  .data           \u2502<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  .bss            \u2502<br>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524<br>\u2502  Heap \u2193          \u2502 Grows upward<br>\u2502                  \u2502<br>\u2502                  \u2502<br>\u2502  Stack \u2191         \u2502 Grows downward<br>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 0x20020000 (_estack)</div><h2>\u2699\ufe0f Stack Pointer Initialization</h2><div class="code-box">/* In linker script */<br>_estack = ORIGIN(RAM) + LENGTH(RAM);<br>/* _estack = 0x20000000 + 0x20000 = 0x20020000 */<br><br>/* In vector table */<br>__attribute__((section(".isr_vector")))<br>void (* const g_pfnVectors[])(void) = {<br>    (void (*)(void))((uint32_t)&_estack),  /* Initial SP */<br>    Reset_Handler,<br>    /* ... */<br>};<br><br>/* Hardware automatically loads SP from address 0x00 */</div><h2>\ud83d\udcca Stack Usage Example</h2><div class="code-box">void function_b(int x, int y) {<br>    int result = x + y;  /* Local variable on stack */<br>    /* Stack: [result][y][x][return_addr] */<br>}<br><br>void function_a(void) {<br>    int a = 10;          /* Local on stack */<br>    function_b(5, 3);    /* Push params, call */<br>    /* Stack: [a][return_addr] */<br>}<br><br>int main(void) {<br>    function_a();<br>    /* Stack: [return_addr_to_startup] */<br>    return 0;<br>}</div><h2>\u26a0\ufe0f Stack Overflow Detection</h2><div class="code-box">/* Method 1: Fill stack with pattern */<br>extern uint32_t _sstack;  /* Start of stack */<br>extern uint32_t _estack;  /* End of stack */<br><br>#define STACK_FILL_PATTERN 0xDEADBEEF<br><br>void stack_init(void) {<br>    uint32_t *p = &_sstack;<br>    while (p < &_estack) {<br>        *p++ = STACK_FILL_PATTERN;<br>    }<br>}<br><br>uint32_t stack_usage(void) {<br>    uint32_t *p = &_sstack;<br>    uint32_t count = 0;<br>    <br>    while (*p == STACK_FILL_PATTERN && p < &_estack) {<br>        count++;<br>        p++;<br>    }<br>    <br>    return ((&_estack - &_sstack) - count) * 4;  /* Bytes used */<br>}</div><h2>\ud83d\uddc3\ufe0f The Heap</h2><div class="info-box"><strong>Heap Usage:</strong><ul><li>Dynamic memory allocation (malloc)</li><li>Variable-sized data structures</li><li>Runtime-determined sizes</li><li>Long-lived objects</li></ul></div><div class="code-box">/* Heap placement in linker script */<br><br>_Min_Heap_Size = 0x200;  /* 512 bytes */<br><br>._user_heap_stack : {<br>    . = ALIGN(8);<br>    PROVIDE(end = .);<br>    PROVIDE(_end = .);<br>    _heap_start = .;<br>    . = . + _Min_Heap_Size;<br>    _heap_end = .;<br>    . = . + _Min_Stack_Size;<br>} > RAM</div><h2>\ud83d\udcbe Simple Heap Implementation</h2><div class="code-box">/* Simple bump allocator (no free) */<br><br>extern uint32_t _heap_start;<br>extern uint32_t _heap_end;<br><br>static uint32_t *heap_ptr = &_heap_start;<br><br>void* malloc(size_t size) {<br>    void *ptr = NULL;<br>    <br>    /* Align to 8 bytes */<br>    size = (size + 7) & ~7;<br>    <br>    /* Check if enough space */<br>    if ((uint32_t)heap_ptr + size <= (uint32_t)&_heap_end) {<br>        ptr = heap_ptr;<br>        heap_ptr += size / 4;<br>    }<br>    <br>    return ptr;<br>}<br><br>void free(void *ptr) {<br>    /* Simple allocator doesn\'t support free */<br>    (void)ptr;<br>}</div><h2>\ud83c\udfaf _sbrk Implementation</h2><div class="code-box">/* _sbrk for newlib malloc */<br><br>#include <errno.h><br><br>extern uint32_t _end;  /* End of .bss */<br>extern uint32_t _estack;<br><br>void* _sbrk(int incr) {<br>    static uint8_t *heap_end = NULL;<br>    uint8_t *prev_heap_end;<br>    <br>    if (heap_end == NULL) {<br>        heap_end = (uint8_t*)&_end;<br>    }<br>    <br>    prev_heap_end = heap_end;<br>    <br>    /* Check collision with stack */<br>    if (heap_end + incr > (uint8_t*)__get_MSP()) {<br>        errno = ENOMEM;<br>        return (void*)-1;<br>    }<br>    <br>    heap_end += incr;<br>    return (void*)prev_heap_end;<br>}</div><h2>\u26a0\ufe0f Heap Fragmentation</h2><div class="code-box">/* Fragmentation example */<br><br>void* p1 = malloc(100);  /* [100 bytes used] */<br>void* p2 = malloc(100);  /* [100][100] */<br>void* p3 = malloc(100);  /* [100][100][100] */<br><br>free(p2);                /* [100][FREE][100] */<br><br>void* p4 = malloc(200);  /* FAILS! 200 bytes available but fragmented */<br><br>/* Solution: Use memory pools or avoid malloc in embedded */</div><h2>\ud83c\udfaf Stack Size Calculation</h2><div class="code-box">/* Calculate required stack size */<br><br>Stack = max_call_depth * (locals + saved_registers)<br><br>Example:<br>main() calls func_a() calls func_b()<br><br>main():   20 bytes locals<br>func_a(): 40 bytes locals<br>func_b(): 60 bytes locals<br>Saved regs: 32 bytes per call (8 registers \xd7 4 bytes)<br><br>Total = 20 + (40 + 32) + (60 + 32) = 184 bytes<br><br>/* Add margin for interrupts! */<br>Interrupt stack = 32 bytes (auto-saved) + ISR locals<br><br>/* Recommended: 2x calculated + 512 bytes margin */</div><h2>\ud83d\udca1 Best Practices</h2><div class="info-box"><strong>Stack Best Practices:</strong><ul><li>Keep local variables small</li><li>Avoid deep recursion</li><li>Avoid large arrays on stack</li><li>Monitor stack usage in debug builds</li></ul><strong>Heap Best Practices:</strong><ul><li>Avoid malloc/free in embedded if possible</li><li>Use static allocation when size is known</li><li>Use memory pools for fixed-size objects</li><li>Never malloc in interrupts!</li></ul></div><div class="code-box">/* BAD: Large array on stack */<br>void bad_function(void) {<br>    uint8_t buffer[4096];  /* 4KB on stack! */<br>}<br><br>/* GOOD: Static allocation */<br>static uint8_t buffer[4096];<br>void good_function(void) {<br>    /* Use buffer */<br>}<br><br>/* GOOD: Heap allocation (if needed) */<br>void better_function(void) {<br>    uint8_t *buffer = malloc(4096);<br>    /* Use buffer */<br>    free(buffer);<br>}</div><div class="fun-fact"><strong>\ud83c\udf1f Stack Speed:</strong><p style="margin-top:10px;margin-bottom:0">The stack is FAST! Allocating a local variable is just one instruction (subtract from SP). Heap allocation (malloc) can take hundreds of instructions. That\'s why embedded systems prefer stack and static allocation over dynamic allocation!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which direction does the stack grow?</p><ul><li>A) Upward (low to high addresses)</li><li>B) Downward (high to low addresses) \u2713</li><li>C) Both directions</li><li>D) It doesn\'t grow</li></ul><p style="margin-top:15px"><em>Answer: B - Stack grows downward from high to low addresses!</em></p></div></div>',questions:[{q:"Which direction does the stack grow?",options:["Upward (low to high addresses)","Downward (high to low addresses)","Both directions","It doesn't grow"],answer:1}],tools:[{name:"Stack Analyzer",type:"interactive",description:"Analyze stack usage"}]},{title:"C Runtime Initialization",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u2699\ufe0f</div><p>C Runtime: Preparing the environment for C code execution!</p></div><h2>\ud83c\udfaf C Runtime Components</h2><div class="info-box"><strong>CRT Responsibilities:</strong><ul><li>Initialize global/static variables</li><li>Call C++ constructors</li><li>Set up standard library</li><li>Prepare argc/argv (if applicable)</li></ul></div><div class="code-box">/* __libc_init_array implementation */<br>typedef void (*func_ptr)(void);<br>extern func_ptr __init_array_start;<br>extern func_ptr __init_array_end;<br><br>void __libc_init_array(void) {<br>    func_ptr *p;<br>    for (p = &__init_array_start; p < &__init_array_end; p++) {<br>        (*p)();<br>    }<br>}</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> When is __libc_init_array called?</p><ul><li>A) Before copying .data</li><li>B) After zeroing .bss, before main() \u2713</li><li>C) After main() returns</li><li>D) During interrupt handling</li></ul></div></div>',questions:[{q:"When is __libc_init_array called?",options:["Before copying .data","After zeroing .bss, before main()","After main() returns","During interrupt handling"],answer:1}],tools:[{name:"CRT Explorer",type:"interactive",description:"Explore C runtime"}]},{title:"Boot Process from Reset to main()",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\ude80</div><p>Boot Sequence: Complete journey from power-on to running code!</p></div><h2>\ud83d\udccb Complete Boot Timeline</h2><div class="code-box">Power On<br>  \u2193<br>Hardware Reset<br>  \u2193<br>Load SP from 0x00000000 (vector table[0])<br>  \u2193<br>Load PC from 0x00000004 (vector table[1] = Reset_Handler)<br>  \u2193<br>Reset_Handler() executes<br>  \u251c\u2500 Copy .data from Flash to RAM<br>  \u251c\u2500 Zero .bss in RAM<br>  \u251c\u2500 Call SystemInit()<br>  \u251c\u2500 Call __libc_init_array()<br>  \u2514\u2500 Call main()<br>  \u2193<br>main() runs<br>  \u2193<br>If main() returns \u2192 while(1);</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is the second thing loaded after reset?</p><ul><li>A) Stack pointer</li><li>B) Program counter (Reset_Handler address) \u2713</li><li>C) .data section</li><li>D) Vector table</li></ul></div></div>',questions:[{q:"What is the second thing loaded after reset?",options:["Stack pointer","Program counter (Reset_Handler address)",".data section","Vector table"],answer:1}],tools:[{name:"Boot Visualizer",type:"interactive",description:"Visualize boot sequence"}]},{title:"Memory-Mapped I/O and Registers",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd0c</div><p>MMIO: Hardware control through memory addresses!</p></div><h2>\ud83c\udfaf MMIO Fundamentals</h2><div class="info-box"><strong>Key Concept:</strong> Peripherals appear as memory locations. Writing to these addresses controls hardware!</div><div class="code-box">/* Define peripheral base */<br>#define PERIPH_BASE 0x40000000<br>#define AHB1_BASE (PERIPH_BASE + 0x00020000)<br>#define GPIOA_BASE (AHB1_BASE + 0x0000)<br><br>/* Define registers */<br>#define GPIOA_MODER (*(volatile uint32_t*)(GPIOA_BASE + 0x00))<br>#define GPIOA_ODR   (*(volatile uint32_t*)(GPIOA_BASE + 0x14))<br><br>/* Control hardware */<br>GPIOA_MODER |= (1 << 10);  /* Configure PA5 */<br>GPIOA_ODR |= (1 << 5);     /* Set PA5 high */</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Why is volatile keyword critical for MMIO?</p><ul><li>A) Makes code faster</li><li>B) Prevents compiler from optimizing away reads/writes \u2713</li><li>C) Saves memory</li><li>D) Enables interrupts</li></ul></div></div>',questions:[{q:"Why is volatile keyword critical for MMIO?",options:["Makes code faster","Prevents compiler from optimizing away reads/writes","Saves memory","Enables interrupts"],answer:1}],tools:[{name:"Register Map",type:"interactive",description:"Explore peripheral registers"}]},{title:"Pointer Magic for Peripheral Access",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83e\ude84</div><p>Pointer Techniques: Professional register access methods!</p></div><h2>\ud83c\udfaf Three Access Methods</h2><div class="code-box">/* Method 1: Direct macro */<br>#define REG (*(volatile uint32_t*)0x40020000)<br>REG = 0x100;<br><br>/* Method 2: Struct overlay (BEST) */<br>typedef struct {<br>    volatile uint32_t MODER;<br>    volatile uint32_t OTYPER;<br>    volatile uint32_t ODR;<br>} GPIO_TypeDef;<br><br>#define GPIOA ((GPIO_TypeDef*)0x40020000)<br>GPIOA->ODR = 0x20;<br><br>/* Method 3: Bit-banding */<br>#define BITBAND(addr,bit) <br>    (*(volatile uint32_t*)(0x42000000+((addr-0x40000000)*32)+(bit*4)))<br>BITBAND(0x40020014, 5) = 1;</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Which method provides best type safety?</p><ul><li>A) Direct macro</li><li>B) Struct overlay \u2713</li><li>C) Bit-banding</li><li>D) All are equal</li></ul></div></div>',questions:[{q:"Which method provides best type safety?",options:["Direct macro","Struct overlay","Bit-banding","All are equal"],answer:1}],tools:[{name:"Pointer Playground",type:"interactive",description:"Practice pointer techniques"}]},{title:"GPIO Programming from Scratch",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udccc</div><p>GPIO: Your first peripheral driver from scratch!</p></div><h2>\ud83c\udfaf Complete GPIO Driver</h2><div class="code-box">/* gpio.h */<br>#define RCC_AHB1ENR (*(volatile uint32_t*)0x40023830)<br>#define GPIOA_MODER (*(volatile uint32_t*)0x40020000)<br>#define GPIOA_ODR   (*(volatile uint32_t*)0x40020014)<br><br>void gpio_init(uint8_t pin) {<br>    RCC_AHB1ENR |= (1 << 0);  /* Enable clock */<br>    GPIOA_MODER &= ~(3 << (pin*2));<br>    GPIOA_MODER |= (1 << (pin*2));  /* Output mode */<br>}<br><br>void gpio_write(uint8_t pin, uint8_t val) {<br>    if (val) GPIOA_ODR |= (1 << pin);<br>    else GPIOA_ODR &= ~(1 << pin);<br>}<br><br>void gpio_toggle(uint8_t pin) {<br>    GPIOA_ODR ^= (1 << pin);<br>}</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What must be enabled before using GPIO?</p><ul><li>A) Interrupt</li><li>B) Peripheral clock \u2713</li><li>C) DMA</li><li>D) Timer</li></ul></div></div>',questions:[{q:"What must be enabled before using GPIO?",options:["Interrupt","Peripheral clock","DMA","Timer"],answer:1}],tools:[{name:"GPIO Config",type:"interactive",description:"Configure GPIO"}]},{title:"Clock Configuration and RCC",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u23f0</div><p>RCC: Configuring system and peripheral clocks!</p></div><h2>\ud83c\udfaf Clock Configuration</h2><div class="code-box">/* Configure system clock to 168MHz */<br>void SystemClock_Config(void) {<br>    /* Enable HSE */<br>    RCC->CR |= RCC_CR_HSEON;<br>    while(!(RCC->CR & RCC_CR_HSERDY));<br>    <br>    /* Configure PLL */<br>    RCC->PLLCFGR = (8 << 0) |   /* PLLM = 8 */<br>                   (336 << 6) |  /* PLLN = 336 */<br>                   (0 << 16) |   /* PLLP = 2 */<br>                   (7 << 24) |   /* PLLQ = 7 */<br>                   RCC_PLLCFGR_PLLSRC_HSE;<br>    <br>    /* Enable PLL */<br>    RCC->CR |= RCC_CR_PLLON;<br>    while(!(RCC->CR & RCC_CR_PLLRDY));<br>    <br>    /* Select PLL as system clock */<br>    RCC->CFGR |= RCC_CFGR_SW_PLL;<br>    while((RCC->CFGR & RCC_CFGR_SWS) != RCC_CFGR_SWS_PLL);<br>}</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does PLL stand for?</p><ul><li>A) Power Level Lock</li><li>B) Phase-Locked Loop \u2713</li><li>C) Peripheral Link Layer</li><li>D) Program Load Location</li></ul></div></div>',questions:[{q:"What does PLL stand for?",options:["Power Level Lock","Phase-Locked Loop","Peripheral Link Layer","Program Load Location"],answer:1}],tools:[{name:"Clock Calculator",type:"interactive",description:"Calculate clock frequencies"}]},{title:"UART Communication Bare-Metal",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce1</div><p>UART: Serial communication from scratch!</p></div><h2>\ud83c\udfaf UART Driver Implementation</h2><div class="code-box">void uart_init(uint32_t baudrate) {<br>    /* Enable clocks */<br>    RCC->APB1ENR |= RCC_APB1ENR_USART2EN;<br>    RCC->AHB1ENR |= RCC_AHB1ENR_GPIOAEN;<br>    <br>    /* Configure pins PA2=TX, PA3=RX */<br>    GPIOA->MODER |= (2<<4) | (2<<6);  /* Alternate */<br>    GPIOA->AFR[0] |= (7<<8) | (7<<12); /* AF7 */<br>    <br>    /* Configure UART */<br>    USART2->BRR = 84000000 / baudrate;<br>    USART2->CR1 = USART_CR1_TE | USART_CR1_RE | USART_CR1_UE;<br>}<br><br>void uart_putc(char c) {<br>    while(!(USART2->SR & USART_SR_TXE));<br>    USART2->DR = c;<br>}<br><br>char uart_getc(void) {<br>    while(!(USART2->SR & USART_SR_RXNE));<br>    return USART2->DR;<br>}</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does BRR register control?</p><ul><li>A) Buffer size</li><li>B) Baud rate \u2713</li><li>C) Bit order</li><li>D) Bus reset</li></ul></div></div>',questions:[{q:"What does BRR register control?",options:["Buffer size","Baud rate","Bit order","Bus reset"],answer:1}],tools:[{name:"UART Terminal",type:"interactive",description:"Test UART communication"}]},{title:"Flashing and Debugging with OpenOCD",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u26a1</div><p>OpenOCD: Flash and debug your firmware!</p></div><h2>\ud83c\udfaf OpenOCD Commands</h2><div class="code-box"># Flash firmware<br>openocd -f interface/stlink.cfg -f target/stm32f4x.cfg <br>  -c "program firmware.bin 0x08000000 verify reset exit"<br><br># Start debug server<br>openocd -f interface/stlink.cfg -f target/stm32f4x.cfg<br><br># Telnet commands<br>telnet localhost 4444<br>> reset halt<br>> flash write_image erase firmware.bin 0x08000000<br>> reset run</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What port does OpenOCD GDB server use?</p><ul><li>A) 3000</li><li>B) 3333 \u2713</li><li>C) 4444</li><li>D) 8080</li></ul></div></div>',questions:[{q:"What port does OpenOCD GDB server use?",options:["3000","3333","4444","8080"],answer:1}],tools:[{name:"OpenOCD Helper",type:"interactive",description:"OpenOCD command helper"}]},{title:"GDB Debugging Techniques",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udc1b</div><p>GDB: Powerful debugging for embedded systems!</p></div><h2>\ud83c\udfaf Essential GDB Commands</h2><div class="code-box"># Start GDB<br>arm-none-eabi-gdb firmware.elf<br><br># Connect to OpenOCD<br>(gdb) target remote localhost:3333<br>(gdb) monitor reset halt<br>(gdb) load<br><br># Breakpoints<br>(gdb) break main<br>(gdb) break *0x08000100<br>(gdb) info breakpoints<br><br># Execution<br>(gdb) continue<br>(gdb) step<br>(gdb) next<br><br># Inspection<br>(gdb) print variable<br>(gdb) x/10x 0x20000000<br>(gdb) info registers</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What GDB command examines memory?</p><ul><li>A) print</li><li>B) examine (x) \u2713</li><li>C) read</li><li>D) show</li></ul></div></div>',questions:[{q:"What GDB command examines memory?",options:["print","examine (x)","read","show"],answer:1}],tools:[{name:"GDB Cheatsheet",type:"interactive",description:"GDB command reference"}]},{title:"Interrupt Handling Deep Dive",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u26a1</div><p>Interrupts: Responding to events in real-time!</p></div><h2>\ud83c\udfaf NVIC Programming</h2><div class="code-box">/* Enable interrupt */<br>void NVIC_EnableIRQ(uint8_t IRQn) {<br>    NVIC->ISER[IRQn / 32] = (1 << (IRQn % 32));<br>}<br><br>/* Set priority */<br>void NVIC_SetPriority(uint8_t IRQn, uint8_t priority) {<br>    NVIC->IP[IRQn] = (priority << 4);<br>}<br><br>/* Example: Enable USART2 interrupt */<br>NVIC_SetPriority(USART2_IRQn, 5);<br>NVIC_EnableIRQ(USART2_IRQn);<br><br>/* ISR */<br>void USART2_IRQHandler(void) {<br>    if (USART2->SR & USART_SR_RXNE) {<br>        char c = USART2->DR;<br>        /* Process data */<br>    }<br>}</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> Lower priority number means?</p><ul><li>A) Lower priority</li><li>B) Higher priority \u2713</li><li>C) No difference</li><li>D) Disabled</li></ul></div></div>',questions:[{q:"Lower priority number means?",options:["Lower priority","Higher priority","No difference","Disabled"],answer:1}],tools:[{name:"NVIC Config",type:"interactive",description:"Configure interrupts"}]},{title:"DMA Programming",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\ude80</div><p>DMA: Move data without CPU intervention!</p></div><h2>\ud83c\udfaf DMA Configuration</h2><div class="code-box">void DMA_Init(void) {<br>    /* Enable DMA clock */<br>    RCC->AHB1ENR |= RCC_AHB1ENR_DMA1EN;<br>    <br>    /* Configure DMA stream */<br>    DMA1_Stream5->PAR = (uint32_t)&USART2->DR;<br>    DMA1_Stream5->M0AR = (uint32_t)buffer;<br>    DMA1_Stream5->NDTR = BUFFER_SIZE;<br>    <br>    /* Configure channel */<br>    DMA1_Stream5->CR = (4 << 25) |  /* Channel 4 */<br>                       (1 << 10) |  /* Memory increment */<br>                       (0 << 8) |   /* Peripheral to memory */<br>                       (1 << 4) |   /* Transfer complete interrupt */<br>                       (1 << 0);    /* Enable */<br>}</div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does DMA stand for?</p><ul><li>A) Data Memory Access</li><li>B) Direct Memory Access \u2713</li><li>C) Dynamic Memory Allocation</li><li>D) Digital Multiplexed Array</li></ul></div></div>',questions:[{q:"What does DMA stand for?",options:["Data Memory Access","Direct Memory Access","Dynamic Memory Allocation","Digital Multiplexed Array"],answer:1}],tools:[{name:"DMA Configurator",type:"interactive",description:"Configure DMA transfers"}]},{title:"Building a Complete Firmware Project",content:'<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf93</div><p>Complete Project: Putting it all together!</p></div><h2>\ud83c\udfaf Project Structure</h2><div class="code-box">firmware-project/<br>\u251c\u2500\u2500 src/<br>\u2502   \u251c\u2500\u2500 main.c<br>\u2502   \u251c\u2500\u2500 startup.c<br>\u2502   \u251c\u2500\u2500 system.c<br>\u2502   \u251c\u2500\u2500 gpio.c<br>\u2502   \u2514\u2500\u2500 uart.c<br>\u251c\u2500\u2500 inc/<br>\u2502   \u251c\u2500\u2500 stm32f4xx.h<br>\u2502   \u251c\u2500\u2500 gpio.h<br>\u2502   \u2514\u2500\u2500 uart.h<br>\u251c\u2500\u2500 linker/<br>\u2502   \u2514\u2500\u2500 STM32F407.ld<br>\u251c\u2500\u2500 Makefile<br>\u2514\u2500\u2500 openocd.cfg</div><h2>\ud83d\ude80 Complete main.c</h2><div class="code-box">#include "gpio.h"<br>#include "uart.h"<br><br>int main(void) {<br>    /* Initialize system */<br>    SystemInit();<br>    <br>    /* Initialize peripherals */<br>    gpio_init(5);  /* LED on PA5 */<br>    uart_init(115200);<br>    <br>    uart_puts("Firmware started!\\r\\n");<br>    <br>    while(1) {<br>        gpio_toggle(5);<br>        uart_puts("Blink\\r\\n");<br>        delay_ms(500);<br>    }<br>}</div><div class="fun-fact"><strong>\ud83c\udf89 Congratulations!</strong><p style="margin-top:10px;margin-bottom:0">You\'ve completed the Embedded Firmware Development course! You now know how to build firmware from scratch without any IDE - just GCC, Make, and your knowledge of bare-metal programming. This is the foundation that professional embedded engineers build upon!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Final Challenge!</h3><p><strong>Question:</strong> What\'s the most important skill you learned?</p><ul><li>A) Using IDEs</li><li>B) Understanding the complete boot process and memory layout \u2713</li><li>C) Memorizing register addresses</li><li>D) Using libraries</li></ul><p style="margin-top:15px"><em>Answer: B - Understanding fundamentals makes you a better embedded engineer!</em></p></div></div>',questions:[{q:"What's the most important skill you learned?",options:["Using IDEs","Understanding the complete boot process and memory layout","Memorizing register addresses","Using libraries"],answer:1}],tools:[{name:"Project Template",type:"interactive",description:"Complete firmware project template"}]}]},"c-programming":{id:"c-programming",title:"C Programming",description:"Master C programming from fundamentals to advanced topics including pointers, memory management, and file I/O",color:"#00599C",icon:"\ud83d\udcbb",level:"Beginner to Intermediate",duration:"10 hours",students:"2,500",sessions:[{title:"Introduction to C Programming",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(0,89,156,0.08) 0%,rgba(0,71,125,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(0,89,156,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,89,156,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#00599c;margin-bottom:10px;font-size:1.2em}.c-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.c-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.video-container{margin:30px 0;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.1);background-color:#fff}.video-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:15px 20px;color:white;display:flex;align-items:center;gap:10px}.video-header h3{margin:0;font-size:18px;font-weight:bold}.video-header p{margin:5px 0 0 0;font-size:14px;opacity:0.9}.video-embed{position:relative;padding-bottom:56.25%;background:#000}.video-footer{padding:12px 20px;background-color:#f8f9fa;border-top:1px solid #e0e0e0;font-size:13px;color:#666}</style><div class="c-lesson">\n\n\x3c!-- Educational Video --\x3e\n<div class="video-container">\n  <div class="video-header">\n    <span style="font-size:24px">\ud83c\udfac</span>\n    <div>\n      <h3>C Programming Compilation Process</h3>\n      <p>Watch this animation to see how your C code becomes an executable program</p>\n    </div>\n  </div>\n  <div class="video-embed">\n    <img src="/images/animations/c-programming-intro.png" style="width:100%;height:100%;object-fit:contain;position:absolute;top:0;left:0" alt="C Compilation Process Animation" />\n  </div>\n  <div class="video-footer">\n    <span>\ud83d\udca1 Tip: Understanding the compilation process helps you debug errors more effectively</span>\n  </div>\n</div>\n\n<div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udcbb</div><p>C Programming: The foundation of modern computing!</p></div><h2>\ud83c\udfaf What is C?</h2><p>C is a powerful, general-purpose programming language created in 1972 by Dennis Ritchie at Bell Labs. It\'s the foundation for operating systems, embedded systems, and countless other applications!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">\u26a1</span><h4>Fast & Efficient</h4><p>Direct hardware access, minimal overhead</p></div><div class="info-card"><span class="card-icon">\ud83d\udd27</span><h4>Portable</h4><p>Write once, compile anywhere</p></div><div class="info-card"><span class="card-icon">\ud83c\udfd7\ufe0f</span><h4>Foundation</h4><p>Basis for C++, Java, Python internals</p></div><div class="info-card"><span class="card-icon">\ud83d\udcaa</span><h4>Powerful</h4><p>Low-level memory control</p></div></div><h2>\ud83d\udcda Why Learn C?</h2><div class="info-box"><strong>C is Essential Because:</strong><ul><li>Operating systems (Linux, Windows kernel) are written in C</li><li>Embedded systems and IoT devices use C</li><li>Understanding C makes you a better programmer</li><li>Direct memory management teaches computer fundamentals</li><li>High performance for system-level programming</li></ul></div><h2>\ud83d\udee0\ufe0f Setting Up Your Environment</h2><div class="code-box">// Windows: Install MinGW or Visual Studio<br>// Linux: GCC is usually pre-installed<br>gcc --version<br><br>// macOS: Install Xcode Command Line Tools<br>xcode-select --install<br><br>// Compile and run a C program<br>gcc hello.c -o hello<br>./hello</div><h2>\ud83d\udcbb Your First C Program</h2><div class="code-box">#include &lt;stdio.h&gt;<br><br>int main() {<br>    printf("Hello, World!\\n");<br>    return 0;<br>}</div><div class="info-box"><strong>Breaking it Down:</strong><ul><li><strong>#include &lt;stdio.h&gt;</strong> - Includes standard input/output library</li><li><strong>int main()</strong> - Main function, program entry point</li><li><strong>printf()</strong> - Prints text to console</li><li><strong>return 0;</strong> - Indicates successful program execution</li></ul></div><h2>\ud83d\udcdd Basic Program Structure</h2><div class="code-box">// Preprocessor directives<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br><br>// Function declarations<br>void greet();<br><br>// Main function<br>int main() {<br>    greet();<br>    return 0;<br>}<br><br>// Function definitions<br>void greet() {<br>    printf("Welcome to C Programming!\\n");<br>}</div><h2>\ud83d\udd0d Comments in C</h2><div class="code-box">// Single-line comment<br><br>/*<br>   Multi-line comment<br>   Can span multiple lines<br>*/<br><br>int x = 10;  // Inline comment</div><h2>\u2699\ufe0f Compilation Process</h2><div class="info-box"><strong>Four Stages:</strong><ul><li><strong>Preprocessing:</strong> Handles #include, #define directives</li><li><strong>Compilation:</strong> Converts C code to assembly</li><li><strong>Assembly:</strong> Converts assembly to machine code</li><li><strong>Linking:</strong> Links object files and libraries</li></ul></div><div class="code-box">// Detailed compilation steps<br>gcc -E hello.c -o hello.i    // Preprocessing<br>gcc -S hello.i -o hello.s    // Compilation<br>gcc -c hello.s -o hello.o    // Assembly<br>gcc hello.o -o hello         // Linking<br><br>// Or do it all at once<br>gcc hello.c -o hello</div><div class="fun-fact"><strong>\ud83c\udf1f Historical Fact:</strong><p style="margin-top:10px;margin-bottom:0">C was created to rewrite the Unix operating system! Before C, Unix was written in assembly. C made it portable across different hardware platforms, revolutionizing software development!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the return 0; statement in main() indicate?</p><ul><li>A) Program has errors</li><li>B) Program executed successfully \u2713</li><li>C) Program needs to restart</li><li>D) Program is incomplete</li></ul><p style="margin-top:15px"><em>Answer: B - return 0 indicates successful program execution!</em></p></div></div>',questions:[{q:"What does the return 0; statement in main() indicate?",options:["Program has errors","Program executed successfully","Program needs to restart","Program is incomplete"],answer:1}],tools:[{name:"C Compiler",type:"interactive",description:"Try compiling your first C program"}]},{title:"Variables, Data Types, and Operators",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(0,89,156,0.08) 0%,rgba(0,71,125,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(0,89,156,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,89,156,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#00599c;margin-bottom:10px;font-size:1.2em}.c-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.c-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udce6</div><p>Variables & Data Types: Storing and manipulating data!</p></div><h2>\ud83d\udcca Basic Data Types</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">\ud83d\udd22</span><h4>int</h4><p>Integers: -2147483648 to 2147483647</p></div><div class="info-card"><span class="card-icon">\ud83c\udfaf</span><h4>float</h4><p>Decimal numbers: ~7 digits precision</p></div><div class="info-card"><span class="card-icon">\ud83d\udcaf</span><h4>double</h4><p>Double precision: ~15 digits</p></div><div class="info-card"><span class="card-icon">\ud83d\udd24</span><h4>char</h4><p>Single character: \'A\', \'5\', \'@\'</p></div></div><h2>\ud83d\udcbe Variable Declaration</h2><div class="code-box">int age = 25;<br>float price = 19.99;<br>double pi = 3.14159265359;<br>char grade = \'A\';<br><br>// Multiple declarations<br>int x, y, z;<br>int a = 10, b = 20, c = 30;</div><h2>\ud83d\udd22 Integer Types</h2><div class="code-box">short int s = 32767;        // 2 bytes<br>int i = 2147483647;         // 4 bytes<br>long int l = 2147483647L;   // 4-8 bytes<br>long long ll = 9223372036854775807LL; // 8 bytes<br><br>// Unsigned (only positive)<br>unsigned int u = 4294967295U;</div><h2>\u2795 Arithmetic Operators</h2><div class="code-box">int a = 10, b = 3;<br><br>int sum = a + b;        // 13<br>int diff = a - b;       // 7<br>int product = a * b;    // 30<br>int quotient = a / b;   // 3 (integer division)<br>int remainder = a % b;  // 1 (modulo)<br><br>// Increment/Decrement<br>a++;  // a = 11<br>b--;  // b = 2</div><h2>\ud83d\udd04 Assignment Operators</h2><div class="code-box">int x = 10;<br><br>x += 5;  // x = x + 5  \u2192 15<br>x -= 3;  // x = x - 3  \u2192 12<br>x *= 2;  // x = x * 2  \u2192 24<br>x /= 4;  // x = x / 4  \u2192 6<br>x %= 4;  // x = x % 4  \u2192 2</div><h2>\ud83d\udd0d Comparison Operators</h2><div class="code-box">int a = 10, b = 20;<br><br>a == b  // Equal to \u2192 0 (false)<br>a != b  // Not equal \u2192 1 (true)<br>a &lt; b   // Less than \u2192 1 (true)<br>a &gt; b   // Greater than \u2192 0 (false)<br>a &lt;= b  // Less or equal \u2192 1 (true)<br>a &gt;= b  // Greater or equal \u2192 0 (false)</div><h2>\ud83e\uddee Logical Operators</h2><div class="code-box">int x = 1, y = 0;<br><br>x && y  // AND \u2192 0 (false)<br>x || y  // OR  \u2192 1 (true)<br>!x      // NOT \u2192 0 (false)<br><br>// Example<br>if (age &gt;= 18 && hasLicense) {<br>    printf("Can drive\\n");<br>}</div><h2>\ud83d\udccf sizeof Operator</h2><div class="code-box">printf("int: %lu bytes\\n", sizeof(int));<br>printf("float: %lu bytes\\n", sizeof(float));<br>printf("double: %lu bytes\\n", sizeof(double));<br>printf("char: %lu bytes\\n", sizeof(char));<br><br>// Output:<br>// int: 4 bytes<br>// float: 4 bytes<br>// double: 8 bytes<br>// char: 1 byte</div><h2>\ud83c\udfa8 Type Casting</h2><div class="code-box">// Implicit casting<br>int i = 10;<br>float f = i;  // 10.0<br><br>// Explicit casting<br>float x = 9.7;<br>int y = (int)x;  // 9<br><br>// Division example<br>int a = 7, b = 2;<br>float result = (float)a / b;  // 3.5</div><h2>\ud83d\udd24 Constants</h2><div class="code-box">// Using #define<br>#define PI 3.14159<br>#define MAX_SIZE 100<br><br>// Using const keyword<br>const int DAYS_IN_WEEK = 7;<br>const float GRAVITY = 9.81;</div><div class="fun-fact"><strong>\ud83c\udf1f Did You Know?</strong><p style="margin-top:10px;margin-bottom:0">The char type in C is actually a small integer! \'A\' is stored as 65, \'B\' as 66, etc. This is based on the ASCII encoding system.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is the result of 7 / 2 in C (integer division)?</p><ul><li>A) 3.5</li><li>B) 3 \u2713</li><li>C) 4</li><li>D) 2</li></ul><p style="margin-top:15px"><em>Answer: B - Integer division truncates the decimal part, so 7/2 = 3</em></p></div></div>',questions:[{q:"What is the result of 7 / 2 in C (integer division)?",options:["3.5","3","4","2"],answer:1}],tools:[{name:"Type Calculator",type:"interactive",description:"Experiment with data types and operators"}]},{title:"Control Flow (if, switch, loops)",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udd00</div><p>Control Flow: Making decisions and repeating actions!</p></div><h2>\ud83c\udfaf if Statement</h2><div class="code-box">int age = 18;<br><br>if (age &gt;= 18) {<br>    printf("You are an adult\\n");<br>}</div><h2>\ud83d\udd04 if-else Statement</h2><div class="code-box">int score = 75;<br><br>if (score &gt;= 60) {<br>    printf("Pass\\n");<br>} else {<br>    printf("Fail\\n");<br>}</div><h2>\ud83c\udf9a\ufe0f if-else if-else</h2><div class="code-box">int marks = 85;<br><br>if (marks &gt;= 90) {<br>    printf("Grade: A\\n");<br>} else if (marks &gt;= 80) {<br>    printf("Grade: B\\n");<br>} else if (marks &gt;= 70) {<br>    printf("Grade: C\\n");<br>} else if (marks &gt;= 60) {<br>    printf("Grade: D\\n");<br>} else {<br>    printf("Grade: F\\n");<br>}</div><h2>\ud83d\udd00 switch Statement</h2><div class="code-box">int day = 3;<br><br>switch(day) {<br>    case 1:<br>        printf("Monday\\n");<br>        break;<br>    case 2:<br>        printf("Tuesday\\n");<br>        break;<br>    case 3:<br>        printf("Wednesday\\n");<br>        break;<br>    case 4:<br>        printf("Thursday\\n");<br>        break;<br>    case 5:<br>        printf("Friday\\n");<br>        break;<br>    default:<br>        printf("Weekend\\n");<br>}</div><h2>\ud83d\udd01 for Loop</h2><div class="code-box">// Print numbers 1 to 10<br>for (int i = 1; i &lt;= 10; i++) {<br>    printf("%d ", i);<br>}<br>// Output: 1 2 3 4 5 6 7 8 9 10<br><br>// Nested loops<br>for (int i = 1; i &lt;= 3; i++) {<br>    for (int j = 1; j &lt;= 3; j++) {<br>        printf("(%d,%d) ", i, j);<br>    }<br>    printf("\\n");<br>}</div><h2>\ud83d\udd04 while Loop</h2><div class="code-box">int count = 1;<br><br>while (count &lt;= 5) {<br>    printf("%d ", count);<br>    count++;<br>}<br>// Output: 1 2 3 4 5<br><br>// Infinite loop (use with caution!)<br>while (1) {<br>    // Runs forever<br>    break;  // Exit with break<br>}</div><h2>\ud83d\udd03 do-while Loop</h2><div class="code-box">int num = 1;<br><br>do {<br>    printf("%d ", num);<br>    num++;<br>} while (num &lt;= 5);<br>// Output: 1 2 3 4 5<br><br>// Executes at least once<br>do {<br>    printf("This runs once\\n");<br>} while (0);</div><h2>\u23ed\ufe0f break Statement</h2><div class="code-box">// Exit loop early<br>for (int i = 1; i &lt;= 10; i++) {<br>    if (i == 5) {<br>        break;  // Exit when i is 5<br>    }<br>    printf("%d ", i);<br>}<br>// Output: 1 2 3 4</div><h2>\u23e9 continue Statement</h2><div class="code-box">// Skip current iteration<br>for (int i = 1; i &lt;= 5; i++) {<br>    if (i == 3) {<br>        continue;  // Skip 3<br>    }<br>    printf("%d ", i);<br>}<br>// Output: 1 2 4 5</div><h2>\u2753 Ternary Operator</h2><div class="code-box">int age = 20;<br>char* status = (age &gt;= 18) ? "Adult" : "Minor";<br>printf("%s\\n", status);<br><br>// Equivalent to:<br>if (age &gt;= 18) {<br>    status = "Adult";<br>} else {<br>    status = "Minor";<br>}</div><h2>\ud83c\udfae Practical Examples</h2><div class="code-box">// Sum of first N numbers<br>int n = 100, sum = 0;<br>for (int i = 1; i &lt;= n; i++) {<br>    sum += i;<br>}<br>printf("Sum = %d\\n", sum);  // 5050<br><br>// Factorial<br>int num = 5, factorial = 1;<br>for (int i = 1; i &lt;= num; i++) {<br>    factorial *= i;<br>}<br>printf("Factorial = %d\\n", factorial);  // 120</div><div class="fun-fact"><strong>\ud83c\udf1f Pro Tip:</strong><p style="margin-top:10px;margin-bottom:0">Always use braces {} even for single-line if statements! It prevents bugs and makes code more maintainable. The infamous "goto fail" bug in Apple\'s SSL code happened because of missing braces!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What\'s the difference between while and do-while loops?</p><ul><li>A) No difference</li><li>B) do-while executes at least once \u2713</li><li>C) while is faster</li><li>D) do-while can\'t use break</li></ul><p style="margin-top:15px"><em>Answer: B - do-while always executes the body at least once before checking the condition!</em></p></div></div>',questions:[{q:"What's the difference between while and do-while loops?",options:["No difference","do-while executes at least once","while is faster","do-while can't use break"],answer:1}],tools:[{name:"Loop Visualizer",type:"interactive",description:"Visualize loop execution"}]},{title:"Functions and Scope",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\u2699\ufe0f</div><p>Functions: Reusable blocks of code!</p></div><h2>\ud83d\udcdd Function Declaration</h2><div class="code-box">// Function declaration (prototype)<br>int add(int a, int b);<br><br>// Function definition<br>int add(int a, int b) {<br>    return a + b;<br>}<br><br>// Function call<br>int result = add(5, 3);  // 8</div><h2>\ud83c\udfaf Function Components</h2><div class="info-box"><strong>Function Anatomy:</strong><ul><li><strong>Return type:</strong> Data type of returned value (int, float, void)</li><li><strong>Function name:</strong> Identifier for the function</li><li><strong>Parameters:</strong> Input values (optional)</li><li><strong>Function body:</strong> Code to execute</li><li><strong>return statement:</strong> Value to return (if not void)</li></ul></div><h2>\ud83d\udd04 Function Types</h2><div class="code-box">// No parameters, no return<br>void greet() {<br>    printf("Hello!\\n");<br>}<br><br>// With parameters, with return<br>int multiply(int x, int y) {<br>    return x * y;<br>}<br><br>// With parameters, no return<br>void printSum(int a, int b) {<br>    printf("Sum: %d\\n", a + b);<br>}<br><br>// No parameters, with return<br>int getRandomNumber() {<br>    return 42;<br>}</div><h2>\ud83d\udcca Pass by Value</h2><div class="code-box">void increment(int x) {<br>    x = x + 1;<br>    printf("Inside: %d\\n", x);  // 11<br>}<br><br>int main() {<br>    int num = 10;<br>    increment(num);<br>    printf("Outside: %d\\n", num);  // 10 (unchanged)<br>    return 0;<br>}</div><h2>\ud83d\udd17 Pass by Reference (using pointers)</h2><div class="code-box">void increment(int *x) {<br>    *x = *x + 1;<br>}<br><br>int main() {<br>    int num = 10;<br>    increment(&num);<br>    printf("Value: %d\\n", num);  // 11 (changed)<br>    return 0;<br>}</div><h2>\ud83d\udd04 Recursion</h2><div class="code-box">// Factorial using recursion<br>int factorial(int n) {<br>    if (n == 0 || n == 1) {<br>        return 1;  // Base case<br>    }<br>    return n * factorial(n - 1);  // Recursive call<br>}<br><br>// factorial(5) = 5 * 4 * 3 * 2 * 1 = 120<br><br>// Fibonacci<br>int fibonacci(int n) {<br>    if (n &lt;= 1) return n;<br>    return fibonacci(n-1) + fibonacci(n-2);<br>}</div><h2>\ud83c\udf0d Variable Scope</h2><div class="code-box">int global = 100;  // Global variable<br><br>void function() {<br>    int local = 50;  // Local variable<br>    printf("Global: %d\\n", global);  // Accessible<br>    printf("Local: %d\\n", local);    // Accessible<br>}<br><br>int main() {<br>    printf("Global: %d\\n", global);  // Accessible<br>    // printf("%d", local);  // ERROR: Not accessible<br>    return 0;<br>}</div><h2>\ud83d\udd12 Static Variables</h2><div class="code-box">void counter() {<br>    static int count = 0;  // Initialized only once<br>    count++;<br>    printf("Count: %d\\n", count);<br>}<br><br>int main() {<br>    counter();  // Count: 1<br>    counter();  // Count: 2<br>    counter();  // Count: 3<br>    return 0;<br>}</div><h2>\ud83d\udcda Function Examples</h2><div class="code-box">// Check if prime<br>int isPrime(int n) {<br>    if (n &lt;= 1) return 0;<br>    for (int i = 2; i * i &lt;= n; i++) {<br>        if (n % i == 0) return 0;<br>    }<br>    return 1;<br>}<br><br>// Swap two numbers<br>void swap(int *a, int *b) {<br>    int temp = *a;<br>    *a = *b;<br>    *b = temp;<br>}<br><br>// Find maximum<br>int max(int a, int b) {<br>    return (a &gt; b) ? a : b;<br>}</div><div class="fun-fact"><strong>\ud83c\udf1f Stack Overflow:</strong><p style="margin-top:10px;margin-bottom:0">Recursion uses the call stack. Too many recursive calls can cause a stack overflow! Always ensure your recursive function has a proper base case to prevent infinite recursion.</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What happens when you pass a variable to a function in C?</p><ul><li>A) The original variable is modified</li><li>B) A copy of the value is passed \u2713</li><li>C) The variable is deleted</li><li>D) The function gets a reference</li></ul><p style="margin-top:15px"><em>Answer: B - C uses pass-by-value by default, so a copy is passed!</em></p></div></div>',questions:[{q:"What happens when you pass a variable to a function in C?",options:["The original variable is modified","A copy of the value is passed","The variable is deleted","The function gets a reference"],answer:1}],tools:[{name:"Function Tracer",type:"interactive",description:"Trace function calls and returns"}]},{title:"Arrays and Strings",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udcda</div><p>Arrays & Strings: Collections of data!</p></div><h2>\ud83d\udcca Array Declaration</h2><div class="code-box">// Declaration and initialization<br>int numbers[5] = {10, 20, 30, 40, 50};<br><br>// Partial initialization<br>int arr[5] = {1, 2};  // {1, 2, 0, 0, 0}<br><br>// Size inferred from initializer<br>int values[] = {1, 2, 3, 4, 5};  // Size is 5</div><h2>\ud83d\udd0d Accessing Array Elements</h2><div class="code-box">int arr[5] = {10, 20, 30, 40, 50};<br><br>printf("%d\\n", arr[0]);  // 10 (first element)<br>printf("%d\\n", arr[4]);  // 50 (last element)<br><br>// Modify elements<br>arr[2] = 100;<br>printf("%d\\n", arr[2]);  // 100</div><h2>\ud83d\udd04 Iterating Arrays</h2><div class="code-box">int numbers[5] = {1, 2, 3, 4, 5};<br><br>// Using for loop<br>for (int i = 0; i &lt; 5; i++) {<br>    printf("%d ", numbers[i]);<br>}<br><br>// Calculate sum<br>int sum = 0;<br>for (int i = 0; i &lt; 5; i++) {<br>    sum += numbers[i];<br>}<br>printf("Sum: %d\\n", sum);  // 15</div><h2>\ud83d\udcd0 2D Arrays</h2><div class="code-box">// 3x3 matrix<br>int matrix[3][3] = {<br>    {1, 2, 3},<br>    {4, 5, 6},<br>    {7, 8, 9}<br>};<br><br>// Access elements<br>printf("%d\\n", matrix[1][2]);  // 6<br><br>// Iterate 2D array<br>for (int i = 0; i &lt; 3; i++) {<br>    for (int j = 0; j &lt; 3; j++) {<br>        printf("%d ", matrix[i][j]);<br>    }<br>    printf("\\n");<br>}</div><h2>\ud83d\udd24 Strings (Character Arrays)</h2><div class="code-box">// String declaration<br>char name[] = "John";<br>char greeting[20] = "Hello";<br><br>// Character by character<br>char word[] = {\'H\', \'i\', \'\\0\'};  // Must end with \\0<br><br>// Print string<br>printf("%s\\n", name);  // John</div><h2>\ud83d\udcdd String Input/Output</h2><div class="code-box">char name[50];<br><br>// Read string (stops at space)<br>scanf("%s", name);<br><br>// Read line (includes spaces)<br>fgets(name, sizeof(name), stdin);<br><br>// Print string<br>printf("Name: %s\\n", name);</div><h2>\ud83d\udd27 String Functions</h2><div class="code-box">#include &lt;string.h&gt;<br><br>char str1[20] = "Hello";<br>char str2[20] = "World";<br><br>// Length<br>int len = strlen(str1);  // 5<br><br>// Copy<br>strcpy(str1, "Hi");  // str1 = "Hi"<br><br>// Concatenate<br>strcat(str1, str2);  // str1 = "HiWorld"<br><br>// Compare<br>int result = strcmp(str1, str2);  // 0 if equal</div><h2>\ud83c\udfaf Array Examples</h2><div class="code-box">// Find maximum<br>int arr[] = {45, 23, 78, 12, 90};<br>int max = arr[0];<br>for (int i = 1; i &lt; 5; i++) {<br>    if (arr[i] &gt; max) {<br>        max = arr[i];<br>    }<br>}<br>printf("Max: %d\\n", max);  // 90<br><br>// Reverse array<br>int n = 5;<br>for (int i = 0; i &lt; n/2; i++) {<br>    int temp = arr[i];<br>    arr[i] = arr[n-1-i];<br>    arr[n-1-i] = temp;<br>}</div><h2>\ud83d\udd20 String Examples</h2><div class="code-box">// Count vowels<br>char str[] = "Hello World";<br>int vowels = 0;<br>for (int i = 0; str[i] != \'\\0\'; i++) {<br>    char c = tolower(str[i]);<br>    if (c==\'a\' || c==\'e\' || c==\'i\' || c==\'o\' || c==\'u\') {<br>        vowels++;<br>    }<br>}<br><br>// Reverse string<br>char text[] = "Hello";<br>int len = strlen(text);<br>for (int i = 0; i &lt; len/2; i++) {<br>    char temp = text[i];<br>    text[i] = text[len-1-i];<br>    text[len-1-i] = temp;<br>}  // "olleH"</div><div class="fun-fact"><strong>\ud83c\udf1f Null Terminator:</strong><p style="margin-top:10px;margin-bottom:0">Strings in C MUST end with \'\\0\' (null terminator). This tells functions like printf where the string ends. Without it, functions will read past the string into random memory!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What is the index of the first element in an array?</p><ul><li>A) 1</li><li>B) 0 \u2713</li><li>C) -1</li><li>D) Depends on array size</li></ul><p style="margin-top:15px"><em>Answer: B - Arrays in C are zero-indexed, starting at 0!</em></p></div></div>',questions:[{q:"What is the index of the first element in an array?",options:["1","0","-1","Depends on array size"],answer:1}],tools:[{name:"Array Visualizer",type:"interactive",description:"Visualize array operations"}]},{title:"Pointers Fundamentals",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udc49</div><p>Pointers: The power of C programming!</p></div><h2>\ud83c\udfaf What is a Pointer?</h2><div class="info-box"><strong>Pointer:</strong> A variable that stores the memory address of another variable.<br><br><strong>Why use pointers?</strong><ul><li>Dynamic memory allocation</li><li>Efficient array and string handling</li><li>Pass by reference to functions</li><li>Data structures (linked lists, trees)</li></ul></div><h2>\ud83d\udccd Pointer Declaration</h2><div class="code-box">int x = 10;<br>int *ptr;  // Declare pointer to int<br><br>ptr = &x;  // Store address of x<br><br>printf("Value of x: %d\\n", x);      // 10<br>printf("Address of x: %p\\n", &x);   // 0x7fff5fbff8ac<br>printf("Value of ptr: %p\\n", ptr);  // 0x7fff5fbff8ac<br>printf("Value at ptr: %d\\n", *ptr); // 10</div><h2>\ud83d\udd11 Pointer Operators</h2><div class="code-box">int num = 42;<br>int *p = &num;<br><br>// & (address-of operator)<br>printf("%p\\n", &num);  // Address of num<br><br>// * (dereference operator)<br>printf("%d\\n", *p);    // Value at address (42)<br><br>// Modify through pointer<br>*p = 100;<br>printf("%d\\n", num);   // 100 (num changed!)</div><h2>\ud83d\udd04 Pointer Arithmetic</h2><div class="code-box">int arr[] = {10, 20, 30, 40, 50};<br>int *ptr = arr;  // Points to first element<br><br>printf("%d\\n", *ptr);      // 10<br>printf("%d\\n", *(ptr+1));  // 20<br>printf("%d\\n", *(ptr+2));  // 30<br><br>// Increment pointer<br>ptr++;<br>printf("%d\\n", *ptr);      // 20<br><br>// Pointer difference<br>int *p1 = &arr[0];<br>int *p2 = &arr[4];<br>printf("%ld\\n", p2 - p1);  // 4</div><h2>\ud83d\udcca Pointers and Arrays</h2><div class="code-box">int numbers[] = {1, 2, 3, 4, 5};<br>int *p = numbers;  // Array name is pointer<br><br>// These are equivalent:<br>printf("%d\\n", numbers[2]);  // 3<br>printf("%d\\n", *(numbers+2)); // 3<br>printf("%d\\n", p[2]);         // 3<br>printf("%d\\n", *(p+2));       // 3<br><br>// Iterate using pointer<br>for (int i = 0; i &lt; 5; i++) {<br>    printf("%d ", *(p+i));<br>}</div><h2>\ud83d\udd24 Pointers and Strings</h2><div class="code-box">char str[] = "Hello";<br>char *ptr = str;<br><br>// Print using pointer<br>while (*ptr != \'\\0\') {<br>    printf("%c", *ptr);<br>    ptr++;<br>}<br><br>// String literal (read-only)<br>char *message = "Hello World";<br>printf("%s\\n", message);</div><h2>\u2699\ufe0f Pointers to Pointers</h2><div class="code-box">int x = 10;<br>int *p = &x;      // Pointer to int<br>int **pp = &p;    // Pointer to pointer<br><br>printf("%d\\n", x);    // 10<br>printf("%d\\n", *p);   // 10<br>printf("%d\\n", **pp); // 10<br><br>// Modify through double pointer<br>**pp = 20;<br>printf("%d\\n", x);    // 20</div><h2>\ud83c\udfaf Function Pointers</h2><div class="code-box">int add(int a, int b) {<br>    return a + b;<br>}<br><br>int main() {<br>    // Pointer to function<br>    int (*func_ptr)(int, int) = add;<br>    <br>    int result = func_ptr(5, 3);  // 8<br>    printf("Result: %d\\n", result);<br>    return 0;<br>}</div><h2>\u26a0\ufe0f NULL Pointer</h2><div class="code-box">int *ptr = NULL;  // Initialize to NULL<br><br>// Always check before dereferencing<br>if (ptr != NULL) {<br>    printf("%d\\n", *ptr);<br>} else {<br>    printf("Pointer is NULL\\n");<br>}<br><br>// Avoid dangling pointers<br>int *p = (int*)malloc(sizeof(int));<br>free(p);<br>p = NULL;  // Good practice!</div><h2>\ud83d\udd27 Practical Examples</h2><div class="code-box">// Swap using pointers<br>void swap(int *a, int *b) {<br>    int temp = *a;<br>    *a = *b;<br>    *b = temp;<br>}<br><br>// Find length using pointer<br>int stringLength(char *str) {<br>    int len = 0;<br>    while (*str != \'\\0\') {<br>        len++;<br>        str++;<br>    }<br>    return len;<br>}</div><div class="fun-fact"><strong>\ud83c\udf1f Pointer Power:</strong><p style="margin-top:10px;margin-bottom:0">Pointers are what make C so powerful and dangerous! They give you direct memory access, but with great power comes great responsibility. Always initialize pointers and check for NULL!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the & operator do?</p><ul><li>A) Dereferences a pointer</li><li>B) Returns the address of a variable \u2713</li><li>C) Multiplies two numbers</li><li>D) Performs bitwise AND</li></ul><p style="margin-top:15px"><em>Answer: B - The & operator returns the memory address of a variable!</em></p></div></div>',questions:[{q:"What does the & operator do?",options:["Dereferences a pointer","Returns the address of a variable","Multiplies two numbers","Performs bitwise AND"],answer:1}],tools:[{name:"Pointer Visualizer",type:"interactive",description:"Visualize pointer operations"}]},{title:"Structures and Unions",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udfd7\ufe0f</div><p>Structures & Unions: Custom data types!</p></div><h2>\ud83d\udce6 Structure Basics</h2><div class="code-box">// Define structure<br>struct Student {<br>    char name[50];<br>    int age;<br>    float gpa;<br>};<br><br>// Declare and initialize<br>struct Student s1 = {"John", 20, 3.8};<br><br>// Access members<br>printf("Name: %s\\n", s1.name);<br>printf("Age: %d\\n", s1.age);<br>printf("GPA: %.2f\\n", s1.gpa);</div><h2>\ud83c\udfaf Structure Declaration Methods</h2><div class="code-box">// Method 1: Separate definition and declaration<br>struct Point {<br>    int x;<br>    int y;<br>};<br>struct Point p1;<br><br>// Method 2: Combined<br>struct Point {<br>    int x;<br>    int y;<br>} p1, p2;<br><br>// Method 3: typedef<br>typedef struct {<br>    int x;<br>    int y;<br>} Point;<br>Point p1;  // No need for \'struct\' keyword</div><h2>\ud83d\udd27 Accessing Structure Members</h2><div class="code-box">struct Person {<br>    char name[50];<br>    int age;<br>};<br><br>struct Person p1;<br><br>// Dot operator<br>strcpy(p1.name, "Alice");<br>p1.age = 25;<br><br>// Arrow operator (with pointers)<br>struct Person *ptr = &p1;<br>ptr->age = 30;  // Equivalent to (*ptr).age = 30;<br>printf("%s is %d years old\\n", ptr->name, ptr->age);</div><h2>\ud83d\udcca Nested Structures</h2><div class="code-box">struct Date {<br>    int day;<br>    int month;<br>    int year;<br>};<br><br>struct Employee {<br>    char name[50];<br>    int id;<br>    struct Date joinDate;<br>};<br><br>struct Employee emp;<br>emp.joinDate.day = 15;<br>emp.joinDate.month = 6;<br>emp.joinDate.year = 2020;</div><h2>\ud83d\udd04 Array of Structures</h2><div class="code-box">struct Student {<br>    char name[50];<br>    int rollNo;<br>    float marks;<br>};<br><br>struct Student class[3];<br><br>// Initialize<br>for (int i = 0; i &lt; 3; i++) {<br>    printf("Enter name: ");<br>    scanf("%s", class[i].name);<br>    printf("Enter roll no: ");<br>    scanf("%d", &class[i].rollNo);<br>    printf("Enter marks: ");<br>    scanf("%f", &class[i].marks);<br>}</div><h2>\ud83d\udd00 Unions</h2><div class="code-box">// Union: All members share same memory<br>union Data {<br>    int i;<br>    float f;<br>    char str[20];<br>};<br><br>union Data data;<br>data.i = 10;<br>printf("%d\\n", data.i);  // 10<br><br>data.f = 3.14;<br>printf("%.2f\\n", data.f);  // 3.14<br>printf("%d\\n", data.i);    // Garbage (overwritten)<br><br>// Size of union = size of largest member<br>printf("%lu\\n", sizeof(union Data));  // 20</div><h2>\ud83d\udccf Structure vs Union</h2><div class="info-box"><strong>Structure:</strong><ul><li>Each member has its own memory</li><li>Can access all members simultaneously</li><li>Size = sum of all members (+ padding)</li></ul><strong>Union:</strong><ul><li>All members share same memory</li><li>Only one member valid at a time</li><li>Size = size of largest member</li></ul></div><h2>\ud83c\udfaf Practical Examples</h2><div class="code-box">// Book structure<br>typedef struct {<br>    char title[100];<br>    char author[50];<br>    int pages;<br>    float price;<br>} Book;<br><br>// Function with structure<br>void printBook(Book b) {<br>    printf("Title: %s\\n", b.title);<br>    printf("Author: %s\\n", b.author);<br>    printf("Pages: %d\\n", b.pages);<br>    printf("Price: $%.2f\\n", b.price);<br>}<br><br>// Pass by reference<br>void updatePrice(Book *b, float newPrice) {<br>    b->price = newPrice;<br>}</div><h2>\ud83d\udcbe Structure Padding</h2><div class="code-box">struct Example {<br>    char c;    // 1 byte<br>    int i;     // 4 bytes<br>    char d;    // 1 byte<br>};<br>// Size might be 12 bytes (not 6) due to padding<br><br>// Packed structure (no padding)<br>struct __attribute__((packed)) Packed {<br>    char c;<br>    int i;<br>    char d;<br>};  // Size = 6 bytes</div><div class="fun-fact"><strong>\ud83c\udf1f Memory Efficiency:</strong><p style="margin-top:10px;margin-bottom:0">Unions are memory-efficient when you need to store different types but only one at a time. They\'re commonly used in embedded systems and protocol implementations!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What\'s the key difference between struct and union?</p><ul><li>A) No difference</li><li>B) Union members share memory \u2713</li><li>C) Struct is faster</li><li>D) Union can\'t have functions</li></ul><p style="margin-top:15px"><em>Answer: B - Union members share the same memory location!</em></p></div></div>',questions:[{q:"What's the key difference between struct and union?",options:["No difference","Union members share memory","Struct is faster","Union can't have functions"],answer:1}],tools:[{name:"Structure Visualizer",type:"interactive",description:"Visualize structure memory layout"}]},{title:"File I/O",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83d\udcc1</div><p>File I/O: Reading and writing files!</p></div><h2>\ud83d\udcc2 Opening Files</h2><div class="code-box">#include &lt;stdio.h&gt;<br><br>FILE *fp;<br><br>// Open for reading<br>fp = fopen("file.txt", "r");<br><br>// Open for writing (creates/overwrites)<br>fp = fopen("file.txt", "w");<br><br>// Open for appending<br>fp = fopen("file.txt", "a");<br><br>// Check if file opened successfully<br>if (fp == NULL) {<br>    printf("Error opening file\\n");<br>    return 1;<br>}</div><h2>\ud83d\udcd6 Reading from Files</h2><div class="code-box">FILE *fp = fopen("data.txt", "r");<br><br>// Read character<br>char ch = fgetc(fp);<br><br>// Read string<br>char str[100];<br>fgets(str, 100, fp);<br><br>// Read formatted data<br>int num;<br>float price;<br>fscanf(fp, "%d %f", &num, &price);<br><br>// Read until EOF<br>while ((ch = fgetc(fp)) != EOF) {<br>    printf("%c", ch);<br>}<br><br>fclose(fp);</div><h2>\u270d\ufe0f Writing to Files</h2><div class="code-box">FILE *fp = fopen("output.txt", "w");<br><br>// Write character<br>fputc(\'A\', fp);<br><br>// Write string<br>fputs("Hello World\\n", fp);<br><br>// Write formatted data<br>fprintf(fp, "Name: %s, Age: %d\\n", "John", 25);<br><br>fclose(fp);</div><h2>\ud83d\udd04 File Modes</h2><div class="info-box"><strong>Text Modes:</strong><ul><li><strong>"r"</strong> - Read (file must exist)</li><li><strong>"w"</strong> - Write (creates/overwrites)</li><li><strong>"a"</strong> - Append (creates if doesn\'t exist)</li><li><strong>"r+"</strong> - Read and write (file must exist)</li><li><strong>"w+"</strong> - Read and write (creates/overwrites)</li><li><strong>"a+"</strong> - Read and append</li></ul><strong>Binary Modes:</strong> Add \'b\' (e.g., "rb", "wb", "ab")</div><h2>\ud83d\udcbe Binary File I/O</h2><div class="code-box">struct Student {<br>    char name[50];<br>    int rollNo;<br>    float marks;<br>};<br><br>// Write binary<br>FILE *fp = fopen("students.dat", "wb");<br>struct Student s = {"Alice", 101, 95.5};<br>fwrite(&s, sizeof(struct Student), 1, fp);<br>fclose(fp);<br><br>// Read binary<br>fp = fopen("students.dat", "rb");<br>struct Student s2;<br>fread(&s2, sizeof(struct Student), 1, fp);<br>fclose(fp);</div><h2>\ud83d\udccd File Positioning</h2><div class="code-box">FILE *fp = fopen("data.txt", "r");<br><br>// Get current position<br>long pos = ftell(fp);<br><br>// Move to beginning<br>rewind(fp);<br><br>// Move to specific position<br>fseek(fp, 10, SEEK_SET);  // From beginning<br>fseek(fp, 5, SEEK_CUR);   // From current<br>fseek(fp, -10, SEEK_END); // From end<br><br>fclose(fp);</div><h2>\u2705 Error Handling</h2><div class="code-box">FILE *fp = fopen("file.txt", "r");<br><br>if (fp == NULL) {<br>    perror("Error");<br>    return 1;<br>}<br><br>// Check for errors<br>if (ferror(fp)) {<br>    printf("Error reading file\\n");<br>}<br><br>// Check for EOF<br>if (feof(fp)) {<br>    printf("End of file reached\\n");<br>}<br><br>fclose(fp);</div><h2>\ud83c\udfaf Practical Examples</h2><div class="code-box">// Copy file<br>void copyFile(char *src, char *dest) {<br>    FILE *source = fopen(src, "r");<br>    FILE *target = fopen(dest, "w");<br>    <br>    if (source == NULL || target == NULL) {<br>        printf("Error opening files\\n");<br>        return;<br>    }<br>    <br>    char ch;<br>    while ((ch = fgetc(source)) != EOF) {<br>        fputc(ch, target);<br>    }<br>    <br>    fclose(source);<br>    fclose(target);<br>}<br><br>// Count lines<br>int countLines(char *filename) {<br>    FILE *fp = fopen(filename, "r");<br>    int lines = 0;<br>    char ch;<br>    <br>    while ((ch = fgetc(fp)) != EOF) {<br>        if (ch == \'\\n\') lines++;<br>    }<br>    <br>    fclose(fp);<br>    return lines;<br>}</div><h2>\ud83d\udcdd CSV File Handling</h2><div class="code-box">// Write CSV<br>FILE *fp = fopen("data.csv", "w");<br>fprintf(fp, "Name,Age,Salary\\n");<br>fprintf(fp, "John,25,50000\\n");<br>fprintf(fp, "Alice,30,60000\\n");<br>fclose(fp);<br><br>// Read CSV<br>fp = fopen("data.csv", "r");<br>char name[50];<br>int age;<br>float salary;<br><br>while (fscanf(fp, "%[^,],%d,%f\\n", name, &age, &salary) == 3) {<br>    printf("%s: %d years, $%.2f\\n", name, age, salary);<br>}<br>fclose(fp);</div><div class="fun-fact"><strong>\ud83c\udf1f Always Close Files:</strong><p style="margin-top:10px;margin-bottom:0">Always close files with fclose()! Unclosed files can lead to data loss, memory leaks, and hitting system limits on open file descriptors. Use fclose() or your data might not be written!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What does the "w" mode do when opening a file?</p><ul><li>A) Opens for reading</li><li>B) Creates new file or overwrites existing \u2713</li><li>C) Appends to file</li><li>D) Opens in binary mode</li></ul><p style="margin-top:15px"><em>Answer: B - "w" mode creates a new file or overwrites if it exists!</em></p></div></div>',questions:[{q:'What does the "w" mode do when opening a file?',options:["Opens for reading","Creates new file or overwrites existing","Appends to file","Opens in binary mode"],answer:1}],tools:[{name:"File Explorer",type:"interactive",description:"Practice file operations"}]},{title:"Dynamic Memory Allocation",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83e\udde0</div><p>Dynamic Memory: Allocate memory at runtime!</p></div><h2>\ud83d\udcbe malloc() - Memory Allocation</h2><div class="code-box">#include &lt;stdlib.h&gt;<br><br>// Allocate memory for single integer<br>int *ptr = (int*)malloc(sizeof(int));<br><br>if (ptr == NULL) {<br>    printf("Memory allocation failed\\n");<br>    return 1;<br>}<br><br>*ptr = 42;<br>printf("%d\\n", *ptr);<br><br>free(ptr);  // Always free!<br><br>// Allocate array<br>int *arr = (int*)malloc(5 * sizeof(int));<br>for (int i = 0; i &lt; 5; i++) {<br>    arr[i] = i * 10;<br>}<br>free(arr);</div><h2>\ud83d\udd04 calloc() - Contiguous Allocation</h2><div class="code-box">// Allocates and initializes to zero<br>int *arr = (int*)calloc(5, sizeof(int));<br><br>// All elements are 0<br>for (int i = 0; i &lt; 5; i++) {<br>    printf("%d ", arr[i]);  // 0 0 0 0 0<br>}<br><br>free(arr);</div><h2>\ud83d\udccf realloc() - Resize Memory</h2><div class="code-box">int *arr = (int*)malloc(5 * sizeof(int));<br><br>// Initialize<br>for (int i = 0; i &lt; 5; i++) {<br>    arr[i] = i;<br>}<br><br>// Resize to 10 elements<br>arr = (int*)realloc(arr, 10 * sizeof(int));<br><br>if (arr == NULL) {<br>    printf("Reallocation failed\\n");<br>    return 1;<br>}<br><br>// New elements are uninitialized<br>for (int i = 5; i &lt; 10; i++) {<br>    arr[i] = i;<br>}<br><br>free(arr);</div><h2>\ud83d\uddd1\ufe0f free() - Deallocate Memory</h2><div class="code-box">int *ptr = (int*)malloc(sizeof(int));<br><br>// Use the memory<br>*ptr = 100;<br><br>// Free when done<br>free(ptr);<br><br>// Good practice: set to NULL<br>ptr = NULL;<br><br>// Avoid double free!<br>// free(ptr);  // ERROR if not NULL</div><h2>\u26a0\ufe0f Memory Leaks</h2><div class="code-box">// BAD: Memory leak<br>void badFunction() {<br>    int *ptr = (int*)malloc(sizeof(int));<br>    *ptr = 42;<br>    // Forgot to free!<br>}  // Memory leaked<br><br>// GOOD: Proper cleanup<br>void goodFunction() {<br>    int *ptr = (int*)malloc(sizeof(int));<br>    *ptr = 42;<br>    free(ptr);  // Freed properly<br>}</div><h2>\ud83c\udfaf Dynamic Arrays</h2><div class="code-box">// Get size from user<br>int n;<br>printf("Enter size: ");<br>scanf("%d", &n);<br><br>// Allocate array<br>int *arr = (int*)malloc(n * sizeof(int));<br><br>if (arr == NULL) {<br>    printf("Allocation failed\\n");<br>    return 1;<br>}<br><br>// Use array<br>for (int i = 0; i &lt; n; i++) {<br>    arr[i] = i * i;<br>}<br><br>// Print<br>for (int i = 0; i &lt; n; i++) {<br>    printf("%d ", arr[i]);<br>}<br><br>free(arr);</div><h2>\ud83c\udfd7\ufe0f Dynamic Structures</h2><div class="code-box">typedef struct {<br>    char name[50];<br>    int age;<br>} Person;<br><br>// Allocate single structure<br>Person *p = (Person*)malloc(sizeof(Person));<br>strcpy(p->name, "John");<br>p->age = 25;<br>free(p);<br><br>// Allocate array of structures<br>int n = 3;<br>Person *people = (Person*)malloc(n * sizeof(Person));<br><br>for (int i = 0; i &lt; n; i++) {<br>    sprintf(people[i].name, "Person%d", i);<br>    people[i].age = 20 + i;<br>}<br><br>free(people);</div><h2>\ud83d\udcca 2D Dynamic Arrays</h2><div class="code-box">int rows = 3, cols = 4;<br><br>// Allocate array of pointers<br>int **matrix = (int**)malloc(rows * sizeof(int*));<br><br>// Allocate each row<br>for (int i = 0; i &lt; rows; i++) {<br>    matrix[i] = (int*)malloc(cols * sizeof(int));<br>}<br><br>// Use matrix<br>for (int i = 0; i &lt; rows; i++) {<br>    for (int j = 0; j &lt; cols; j++) {<br>        matrix[i][j] = i * cols + j;<br>    }<br>}<br><br>// Free memory<br>for (int i = 0; i &lt; rows; i++) {<br>    free(matrix[i]);<br>}<br>free(matrix);</div><h2>\ud83d\udd0d malloc vs calloc vs realloc</h2><div class="info-box"><strong>malloc:</strong><ul><li>Allocates uninitialized memory</li><li>Faster (no initialization)</li><li>Use when you\'ll initialize yourself</li></ul><strong>calloc:</strong><ul><li>Allocates and zeros memory</li><li>Slower (initializes to 0)</li><li>Use when you need zero-initialized memory</li></ul><strong>realloc:</strong><ul><li>Resizes previously allocated memory</li><li>Preserves existing data</li><li>May move memory to new location</li></ul></div><h2>\u26a1 Best Practices</h2><div class="code-box">// 1. Always check for NULL<br>int *ptr = (int*)malloc(sizeof(int));<br>if (ptr == NULL) {<br>    // Handle error<br>}<br><br>// 2. Free what you allocate<br>free(ptr);<br><br>// 3. Set to NULL after free<br>ptr = NULL;<br><br>// 4. Don\'t use after free<br>// *ptr = 10;  // ERROR!<br><br>// 5. Match malloc/free pairs<br>// Every malloc needs a free!</div><div class="fun-fact"><strong>\ud83c\udf1f Heap vs Stack:</strong><p style="margin-top:10px;margin-bottom:0">malloc() allocates from the heap, which is much larger than the stack. Use dynamic allocation for large data or when size is unknown at compile time. But remember: with great power comes great responsibility - always free your memory!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Test Your Knowledge!</h3><p><strong>Question:</strong> What\'s the main difference between malloc() and calloc()?</p><ul><li>A) malloc is faster</li><li>B) calloc initializes memory to zero \u2713</li><li>C) malloc allocates more memory</li><li>D) No difference</li></ul><p style="margin-top:15px"><em>Answer: B - calloc() initializes allocated memory to zero!</em></p></div></div>',questions:[{q:"What's the main difference between malloc() and calloc()?",options:["malloc is faster","calloc initializes memory to zero","malloc allocates more memory","No difference"],answer:1}],tools:[{name:"Memory Tracker",type:"interactive",description:"Track memory allocations"}]},{title:"Advanced Topics and Best Practices",content:'<style>.c-lesson{padding:0;margin:0}.c-lesson h2{color:#00599c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #00599c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(0,89,156,0.1) 0%,rgba(0,71,125,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(0,89,156,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #00599c;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="c-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">\ud83c\udf93</div><p>Advanced C: Master-level techniques!</p></div><h2>\ud83d\udd27 Preprocessor Directives</h2><div class="code-box">// Macros<br>#define PI 3.14159<br>#define MAX(a,b) ((a) &gt; (b) ? (a) : (b))<br>#define SQUARE(x) ((x) * (x))<br><br>// Conditional compilation<br>#ifdef DEBUG<br>    printf("Debug mode\\n");<br>#endif<br><br>#ifndef BUFFER_SIZE<br>    #define BUFFER_SIZE 1024<br>#endif<br><br>// Include guards<br>#ifndef MYHEADER_H<br>#define MYHEADER_H<br>// Header content<br>#endif</div><h2>\ud83d\udcda Header Files</h2><div class="code-box">// mylib.h<br>#ifndef MYLIB_H<br>#define MYLIB_H<br><br>int add(int a, int b);<br>void printMessage();<br><br>#endif<br><br>// mylib.c<br>#include "mylib.h"<br><br>int add(int a, int b) {<br>    return a + b;<br>}<br><br>void printMessage() {<br>    printf("Hello from library\\n");<br>}</div><h2>\ud83c\udfaf Enumerations</h2><div class="code-box">// Define enum<br>enum Day {<br>    MONDAY,    // 0<br>    TUESDAY,   // 1<br>    WEDNESDAY, // 2<br>    THURSDAY,  // 3<br>    FRIDAY,    // 4<br>    SATURDAY,  // 5<br>    SUNDAY     // 6<br>};<br><br>enum Day today = FRIDAY;<br><br>// Custom values<br>enum Status {<br>    SUCCESS = 1,<br>    ERROR = -1,<br>    PENDING = 0<br>};</div><h2>\ud83d\udd00 Bitwise Operators</h2><div class="code-box">int a = 5;   // 0101<br>int b = 3;   // 0011<br><br>printf("%d\\n", a & b);   // AND: 0001 = 1<br>printf("%d\\n", a | b);   // OR:  0111 = 7<br>printf("%d\\n", a ^ b);   // XOR: 0110 = 6<br>printf("%d\\n", ~a);      // NOT: 1010 = -6<br>printf("%d\\n", a &lt;&lt; 1); // Left shift: 1010 = 10<br>printf("%d\\n", a &gt;&gt; 1); // Right shift: 0010 = 2<br><br>// Practical use: flags<br>#define READ  0x01  // 0001<br>#define WRITE 0x02  // 0010<br>#define EXEC  0x04  // 0100<br><br>int permissions = READ | WRITE;  // 0011<br>if (permissions & READ) {<br>    printf("Can read\\n");<br>}</div><h2>\ud83c\udfa8 typedef</h2><div class="code-box">// Type alias<br>typedef unsigned long ulong;<br>typedef int* IntPtr;<br><br>ulong big_number = 1000000;<br>IntPtr ptr;<br><br>// Structure typedef<br>typedef struct {<br>    int x;<br>    int y;<br>} Point;<br><br>Point p1 = {10, 20};</div><h2>\u26a1 Command Line Arguments</h2><div class="code-box">int main(int argc, char *argv[]) {<br>    printf("Program name: %s\\n", argv[0]);<br>    printf("Arguments: %d\\n", argc - 1);<br>    <br>    for (int i = 1; i &lt; argc; i++) {<br>        printf("Arg %d: %s\\n", i, argv[i]);<br>    }<br>    <br>    return 0;<br>}<br><br>// Run: ./program arg1 arg2<br>// Output:<br>// Program name: ./program<br>// Arguments: 2<br>// Arg 1: arg1<br>// Arg 2: arg2</div><h2>\ud83d\udc1b Debugging Techniques</h2><div class="code-box">// Debug macros<br>#ifdef DEBUG<br>    #define LOG(msg) printf("[DEBUG] %s\\n", msg)<br>    #define LOGF(fmt, ...) printf("[DEBUG] " fmt "\\n", __VA_ARGS__)<br>#else<br>    #define LOG(msg)<br>    #define LOGF(fmt, ...)<br>#endif<br><br>// Assert<br>#include &lt;assert.h&gt;<br>assert(ptr != NULL);<br>assert(x &gt; 0 && "x must be positive");</div><h2>\ud83d\udccf Best Practices</h2><div class="info-box"><strong>Coding Standards:</strong><ul><li>Use meaningful variable names</li><li>Keep functions small and focused</li><li>Comment complex logic</li><li>Check return values</li><li>Initialize variables</li><li>Free allocated memory</li><li>Use const for constants</li><li>Avoid magic numbers</li></ul></div><h2>\ud83d\udd12 const and volatile</h2><div class="code-box">// const: value cannot change<br>const int MAX_SIZE = 100;<br>const char *str = "Hello";  // Can\'t modify string<br><br>// Pointer to const<br>const int *ptr1;  // Can\'t change value<br>int *const ptr2 = &x;  // Can\'t change pointer<br>const int *const ptr3 = &x;  // Both const<br><br>// volatile: value may change unexpectedly<br>volatile int sensor_value;  // Hardware register</div><h2>\ud83c\udfaf Common Pitfalls</h2><div class="code-box">// 1. Buffer overflow<br>char buf[10];<br>// strcpy(buf, "Very long string");  // BAD!<br>strncpy(buf, "Very long string", sizeof(buf)-1);<br>buf[sizeof(buf)-1] = \'\\0\';<br><br>// 2. Uninitialized variables<br>int x;  // BAD: contains garbage<br>int y = 0;  // GOOD: initialized<br><br>// 3. Memory leaks<br>int *p = malloc(sizeof(int));<br>// ... use p ...<br>free(p);  // Don\'t forget!<br>p = NULL;<br><br>// 4. Dangling pointers<br>int *ptr = malloc(sizeof(int));<br>free(ptr);<br>ptr = NULL;  // Prevent dangling pointer</div><h2>\ud83d\ude80 Optimization Tips</h2><div class="code-box">// Use register for frequently used variables<br>register int counter;<br><br>// Inline small functions<br>inline int square(int x) {<br>    return x * x;<br>}<br><br>// Use bitwise for powers of 2<br>int x = 16;<br>int half = x &gt;&gt; 1;   // Faster than x / 2<br>int double_val = x &lt;&lt; 1;  // Faster than x * 2</div><div class="fun-fact"><strong>\ud83c\udf1f Congratulations!</strong><p style="margin-top:10px;margin-bottom:0">You\'ve completed the C Programming course! You now have the foundation to build systems, work with embedded devices, and understand how computers really work. C is the language that powers the world - from operating systems to IoT devices!</p></div><div class="quiz-box"><h3>\ud83e\udde0 Final Challenge!</h3><p><strong>Question:</strong> What\'s the most important practice in C programming?</p><ul><li>A) Using macros everywhere</li><li>B) Memory management and cleanup \u2713</li><li>C) Avoiding functions</li><li>D) Using global variables</li></ul><p style="margin-top:15px"><em>Answer: B - Proper memory management is crucial in C!</em></p></div></div>',questions:[{q:"What's the most important practice in C programming?",options:["Using macros everywhere","Memory management and cleanup","Avoiding functions","Using global variables"],answer:1}],tools:[{name:"C Best Practices",type:"interactive",description:"Learn professional C coding standards"}]}]}},Bv=Object.values(Vv);const Uv=function(e){let{quiz:n,onPass:t,onFail:i,lessonTitle:o}=e;const[s,a]=(0,r.useState)(0),[l,c]=(0,r.useState)({}),[u,p]=(0,r.useState)(!1);if(u){const e=n.questions.filter((e,n)=>l[n]===e.correctAnswer).length,t=e>=n.passingScore;return(0,Lv.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"15px",padding:"40px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"80px",marginBottom:"20px"},children:t?"\ud83c\udf89":"\ud83d\ude14"}),(0,Lv.jsx)("h2",{style:{fontSize:"32px",marginBottom:"15px",color:t?"#4CAF50":"#f44336"},children:t?"Congratulations!":"Not Quite There Yet"}),(0,Lv.jsxs)("p",{style:{fontSize:"20px",color:"#666",marginBottom:"30px"},children:["You scored ",e," out of ",n.questions.length]}),(0,Lv.jsx)("div",{style:{width:"100%",maxWidth:"400px",margin:"0 auto",height:"20px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden"},children:(0,Lv.jsx)("div",{style:{width:"".concat(e/n.questions.length*100,"%"),height:"100%",backgroundColor:t?"#4CAF50":"#f44336",transition:"width 0.5s ease"}})})]})}const h=n.questions[s],g=(s+1)/n.questions.length*100;return(0,Lv.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"15px",padding:"40px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsxs)("h2",{style:{fontSize:"28px",marginBottom:"10px"},children:["Quiz: ",o]}),(0,Lv.jsxs)("p",{style:{color:"#666",fontSize:"16px"},children:["Question ",s+1," of ",n.questions.length]}),(0,Lv.jsx)("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",marginTop:"15px",overflow:"hidden"},children:(0,Lv.jsx)("div",{style:{width:"".concat(g,"%"),height:"100%",backgroundColor:"#2196F3",transition:"width 0.3s ease"}})})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsx)("h3",{style:{fontSize:"22px",marginBottom:"25px",color:"#333",lineHeight:"1.5"},children:h.question}),(0,Lv.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:h.options.map((e,n)=>{const t=l[s]===n;return(0,Lv.jsx)("div",{onClick:()=>{return e=s,t=n,void c(d(d({},l),{},{[e]:t}));var e,t},style:{padding:"20px",border:"2px solid ".concat(t?"#2196F3":"#ddd"),borderRadius:"10px",cursor:"pointer",backgroundColor:t?"#E3F2FD":"white",transition:"all 0.2s ease",fontSize:"16px"},onMouseEnter:e=>{t||(e.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:e=>{t||(e.currentTarget.style.backgroundColor="white")},children:(0,Lv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[(0,Lv.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",border:"2px solid ".concat(t?"#2196F3":"#999"),backgroundColor:t?"#2196F3":"white",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:t&&(0,Lv.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"white"}})}),(0,Lv.jsx)("span",{children:e})]})},n)})})]}),(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"15px",marginTop:"40px"},children:[(0,Lv.jsx)("button",{onClick:()=>{s>0&&a(s-1)},disabled:0===s,style:{padding:"12px 30px",backgroundColor:0===s?"#e0e0e0":"#9E9E9E",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:0===s?"not-allowed":"pointer",opacity:0===s?.5:1},children:"\u2190 Previous"}),s===n.questions.length-1?(0,Lv.jsx)("button",{onClick:()=>{if(Object.keys(l).length<n.questions.length)return void alert("Please answer all questions before submitting.");let e=0;n.questions.forEach((n,t)=>{l[t]===n.correctAnswer&&e++}),p(!0),e>=n.passingScore?setTimeout(()=>{t(e,n.questions.length)},1500):setTimeout(()=>{i()},1500)},style:{padding:"12px 40px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Submit Quiz"}):(0,Lv.jsx)("button",{onClick:()=>{s<n.questions.length-1&&a(s+1)},style:{padding:"12px 30px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Next \u2192"})]}),(0,Lv.jsx)("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:"#f5f5f5",borderRadius:"8px",textAlign:"center"},children:(0,Lv.jsxs)("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:["Answered: ",Object.keys(l).length," / ",n.questions.length]})})]})};const jv=function(e){let{courseId:n,sessionIndex:t,sessionTitle:i}=e;const[o,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[g,f]=(0,r.useState)("all");(0,r.useEffect)(()=>{m()},[n,t]);const m=async()=>{try{const e=kb(Mv,"doubts",n,"session".concat(t)),r=await Av(function(e,n){let t=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n instanceof lv&&t.push(n),t=t.concat(i),function(e){const n=e.filter(e=>e instanceof uv).length,t=e.filter(e=>e instanceof dv).length;if(n>1||n>0&&t>0)throw new sc(oc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(t);for(const s of t)e=s._apply(e);return e}(e,function(e){const n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",t=sv("orderBy",e);return pv._create(t,n)}("timestamp","desc"))),i=[];r.forEach(e=>{i.push(d({id:e.id},e.data()))}),s(i)}catch(e){console.error("Error loading doubts:",e)}},b=o.filter(e=>"answered"===g?e.answered:"unanswered"!==g||!e.answered);return(0,Lv.jsxs)("div",{style:{marginTop:"40px",padding:"30px",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:"15px",border:"2px solid #ddd"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h3",{style:{margin:"0 0 5px 0",fontSize:"24px"},children:"\u2753 Questions & Doubts"}),(0,Lv.jsx)("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:"Ask questions about this session or browse answers from others"})]}),(0,Lv.jsx)("button",{onClick:()=>h(!p),style:{padding:"12px 24px",background:p?"#f44336":"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:p?"\u2715 Cancel":"+ Ask Question"})]}),p&&(0,Lv.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"12px",marginBottom:"25px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("h4",{style:{marginBottom:"15px"},children:"Ask Your Question"}),(0,Lv.jsx)("textarea",{value:a,onChange:e=>l(e.target.value),placeholder:"Type your question here... Be specific and clear.",style:{width:"100%",minHeight:"120px",padding:"15px",fontSize:"16px",border:"2px solid #ddd",borderRadius:"8px",resize:"vertical",fontFamily:"inherit"}}),(0,Lv.jsxs)("div",{style:{marginTop:"15px",display:"flex",gap:"10px"},children:[(0,Lv.jsx)("button",{onClick:async()=>{if(a.trim())if(Dv.currentUser){u(!0);try{const e=kb(Mv,"doubts",n,"session".concat(t));await function(e,n){const t=Fc(e.firestore,Ib),r=Cb(e),i=bv(e.converter,n);return _v(t,[Hb(jb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xp.exists(!1))]).then(()=>r)}(e,{userId:Dv.currentUser.uid,userName:Dv.currentUser.displayName||Dv.currentUser.email,userEmail:Dv.currentUser.email,question:a,timestamp:(new Date).toISOString(),answered:!1,adminReply:"",replyTimestamp:null,helpful:0,sessionTitle:i}),l(""),h(!1),m(),alert("Question submitted successfully! Admin will respond soon.")}catch(e){console.error("Error submitting question:",e),alert("Error submitting question. Please try again.")}finally{u(!1)}}else alert("Please login to ask questions");else alert("Please enter your question")},disabled:c,style:{padding:"12px 30px",background:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:c?"not-allowed":"pointer",opacity:c?.6:1},children:c?"Submitting...":"Submit Question"}),(0,Lv.jsx)("button",{onClick:()=>h(!1),style:{padding:"12px 30px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"Cancel"})]})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[(0,Lv.jsxs)("button",{onClick:()=>f("all"),style:{padding:"8px 20px",background:"all"===g?"#2196F3":"white",color:"all"===g?"white":"#333",border:"1px solid #ddd",borderRadius:"20px",cursor:"pointer",fontSize:"14px"},children:["All (",o.length,")"]}),(0,Lv.jsxs)("button",{onClick:()=>f("answered"),style:{padding:"8px 20px",background:"answered"===g?"#4CAF50":"white",color:"answered"===g?"white":"#333",border:"1px solid #ddd",borderRadius:"20px",cursor:"pointer",fontSize:"14px"},children:["Answered (",o.filter(e=>e.answered).length,")"]}),(0,Lv.jsxs)("button",{onClick:()=>f("unanswered"),style:{padding:"8px 20px",background:"unanswered"===g?"#FF9800":"white",color:"unanswered"===g?"white":"#333",border:"1px solid #ddd",borderRadius:"20px",cursor:"pointer",fontSize:"14px"},children:["Pending (",o.filter(e=>!e.answered).length,")"]})]}),(0,Lv.jsx)("div",{style:{maxHeight:"600px",overflowY:"auto"},children:0===b.length?(0,Lv.jsxs)("div",{style:{background:"white",padding:"40px",borderRadius:"12px",textAlign:"center",color:"#999"},children:[(0,Lv.jsx)("div",{style:{fontSize:"48px",marginBottom:"15px"},children:"\ud83d\udcad"}),(0,Lv.jsx)("p",{children:"No questions yet. Be the first to ask!"})]}):b.map(e=>(0,Lv.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"12px",marginBottom:"15px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,Lv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Lv.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"#2196F3",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:e.userName.charAt(0).toUpperCase()}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px"},children:e.userName}),(0,Lv.jsxs)("div",{style:{fontSize:"12px",color:"#999"},children:[new Date(e.timestamp).toLocaleDateString()," at ",new Date(e.timestamp).toLocaleTimeString()]})]})]}),e.answered&&(0,Lv.jsx)("span",{style:{padding:"5px 15px",background:"#e8f5e9",color:"#2e7d32",borderRadius:"20px",fontSize:"12px",fontWeight:"bold"},children:"\u2713 Answered"})]}),(0,Lv.jsx)("p",{style:{fontSize:"16px",lineHeight:"1.6",margin:"10px 0",color:"#333"},children:e.question})]}),e.answered&&e.adminReply&&(0,Lv.jsxs)("div",{style:{background:"#f0f7ff",padding:"20px",borderRadius:"10px",borderLeft:"4px solid #2196F3",marginTop:"15px"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[(0,Lv.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#2196F3",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px"},children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px",color:"#2196F3"},children:"Admin Reply"}),e.replyTimestamp&&(0,Lv.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:new Date(e.replyTimestamp).toLocaleDateString()})]})]}),(0,Lv.jsx)("p",{style:{fontSize:"15px",lineHeight:"1.6",margin:0,color:"#333"},children:e.adminReply})]}),(0,Lv.jsxs)("div",{style:{marginTop:"15px",display:"flex",gap:"15px",alignItems:"center",justifyContent:"space-between"},children:[(0,Lv.jsxs)("button",{onClick:()=>(async(e,r)=>{try{const i=Cb(Mv,"doubts",n,"session".concat(t),e);await Tv(i,{helpful:r+1}),m()}catch(i){console.error("Error marking helpful:",i)}})(e.id,e.helpful||0),style:{padding:"8px 16px",background:"#f5f5f5",border:"1px solid #ddd",borderRadius:"20px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:["\ud83d\udc4d Helpful (",e.helpful||0,")"]}),Dv.currentUser&&("immanueldavidckp@gmail.com"===Dv.currentUser.email||Dv.currentUser.uid===e.userId)&&(0,Lv.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this question?"))try{const r=Cb(Mv,"doubts",n,"session".concat(t),e);await Iv(r),m(),alert("Question deleted successfully!")}catch(r){console.error("Error deleting question:",r),alert("Error deleting question. Please try again.")}})(e.id),style:{padding:"8px 16px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"20px",cursor:"pointer",fontSize:"14px",color:"#c62828",display:"flex",alignItems:"center",gap:"8px",fontWeight:"500"},children:"\ud83d\uddd1\ufe0f Delete"})]})]},e.id))})]})};const Hv=function(){const{courseId:e}=xe(),n=ve(),[t,i]=(0,r.useState)(0),[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{const t=Dv.currentUser;if(!t)return void n("/login");l(t);const r=Bv.find(n=>n.id===e);r&&(s(r),h(t.uid,e))},[e,n]);const h=async(e,n)=>{try{const t=Cb(Mv,"users",e,"enrolledCourses",n),r=await kv(t);if(r.exists()){const e=r.data();i(e.currentLesson||0),p(e.quizPassed||[])}}catch(t){console.error("Error loading progress:",t)}},g=async(n,r)=>{var s;if(a&&o)try{const l=[...new Set([...u,t])];p(l);const c=o.sessions.length,h=Math.round(l.length/c*100),g=100===h,f=Cb(Mv,"users",a.uid,"enrolledCourses",e);if(await Tv(f,{currentLesson:t,quizPassed:l,progress:h,completed:g,completedDate:g?(new Date).toISOString():null,lastAccessedDate:(new Date).toISOString()}),g){const e=Cb(Mv,"users",a.uid);await Tv(e,{totalCoursesCompleted:(s=1,new qb("increment",s))})}d(!1),alert("Great job! You scored ".concat(n,"/").concat(r,".")),t<o.sessions.length-1&&i(t+1)}catch(l){console.error("Error:",l)}},f=()=>{alert("You must answer all questions correctly to pass. Please review the lesson and try again."),d(!1)},m=e=>0===e||u.includes(e-1);if(!o)return(0,Lv.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:"Loading..."});const b=o.sessions[t],v=b.questions?{questions:b.questions.map(e=>({question:e.q,options:e.options,correctAnswer:e.answer})),passingScore:b.questions.length}:null,x=o.sessions.length,y=Math.round(u.length/x*100),w=u.includes(t),S=m(t);return c&&v?(0,Lv.jsx)("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto"},children:(0,Lv.jsx)(Uv,{quiz:v,onPass:g,onFail:f,lessonTitle:b.title})}):(0,Lv.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"20px",borderRadius:"10px",marginBottom:"30px"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h1",{style:{margin:"0 0 5px 0",fontSize:"28px"},children:o.title}),(0,Lv.jsxs)("p",{style:{margin:0,color:"#666"},children:["Lesson ",t+1," of ",x]})]}),(0,Lv.jsxs)("div",{style:{textAlign:"right"},children:[(0,Lv.jsxs)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#4CAF50"},children:[y,"%"]}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"Complete"})]})]}),(0,Lv.jsx)("div",{style:{width:"100%",height:"12px",backgroundColor:"#e0e0e0",borderRadius:"6px",overflow:"hidden"},children:(0,Lv.jsx)("div",{style:{width:"".concat(y,"%"),height:"100%",backgroundColor:"#4CAF50",transition:"width 0.3s ease"}})})]}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"20px"},children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"10px",padding:"20px",maxHeight:"700px",overflowY:"auto"},children:[(0,Lv.jsx)("h3",{style:{marginBottom:"20px"},children:"Course Content"}),o.sessions.map((e,n)=>{const r=m(n),o=u.includes(n);return(0,Lv.jsxs)("div",{onClick:()=>r&&i(n),style:{padding:"15px",marginBottom:"10px",borderRadius:"8px",cursor:r?"pointer":"not-allowed",backgroundColor:t===n?"#E3F2FD":"white",border:"2px solid ".concat(t===n?"#2196F3":"#eee"),opacity:r?1:.5},children:[(0,Lv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[(0,Lv.jsx)("div",{style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:o?"#4CAF50":r?"#2196F3":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold"},children:o?"\u2713":r?n+1:"\ud83d\udd12"}),(0,Lv.jsxs)("div",{style:{flex:1,fontSize:"14px",fontWeight:"bold"},children:["Lesson ",n+1]})]}),(0,Lv.jsx)("div",{style:{fontSize:"13px",color:"#666",paddingLeft:"38px"},children:e.title}),o&&(0,Lv.jsx)("div",{style:{fontSize:"12px",color:"#4CAF50",paddingLeft:"38px",marginTop:"5px"},children:"Quiz Passed \u2713"})]},n)})]}),(0,Lv.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"10px",padding:"40px"},children:S?(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("div",{dangerouslySetInnerHTML:{__html:b.content}}),v&&!w&&(0,Lv.jsxs)("div",{style:{marginTop:"40px",padding:"30px",backgroundColor:"#FFF3E0",borderRadius:"10px",border:"2px solid #FF9800"},children:[(0,Lv.jsx)("h3",{style:{marginBottom:"15px",color:"#333"},children:"\ud83d\udcdd Complete the Quiz to Continue"}),(0,Lv.jsxs)("p",{style:{marginBottom:"20px",color:"#666"},children:["Pass the quiz to unlock the next lesson. You need at least ",v.passingScore," out of ",v.questions.length," correct answers."]}),(0,Lv.jsx)("button",{onClick:()=>{d(!0)},style:{padding:"15px 40px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},children:"Take Quiz \u2192"})]}),w&&(0,Lv.jsxs)("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#E8F5E9",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",color:"#2E7D32",fontSize:"18px"},children:"\u2713 Lesson Completed"}),(0,Lv.jsx)("div",{style:{color:"#666",fontSize:"14px"},children:"Quiz passed! Ready for next lesson."})]}),t<o.sessions.length-1&&(0,Lv.jsx)("button",{onClick:()=>i(t+1),style:{padding:"12px 30px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Next Lesson \u2192"})]}),(0,Lv.jsx)(Fv,{scriptSrc:"//pl28132632.effectivegatecpm.com/cf49e39e74e5701f8c0e899dfa62dc5b/invoke.js",containerId:"container-course-ad-cf49e39e74e5701f8c0e899dfa62dc5b",position:"bottom"}),(0,Lv.jsx)(jv,{courseId:e,sessionIndex:t,sessionTitle:b.title})]}):(0,Lv.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px"},children:[(0,Lv.jsx)("div",{style:{fontSize:"80px",marginBottom:"20px"},children:"\ud83d\udd12"}),(0,Lv.jsx)("h2",{style:{marginBottom:"15px"},children:"Lesson Locked"}),(0,Lv.jsx)("p",{style:{color:"#666",fontSize:"18px"},children:"Complete the previous lesson's quiz to unlock this lesson."})]})})]})]})};const Wv=function(){const[e,n]=(0,r.useState)(null),[t,i]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[f,m]=(0,r.useState)(!0),b=ve();return(0,r.useEffect)(()=>{const e=ca(Dv,e=>{e?(n(e),b("/profile")):n(null)});return()=>e()},[b]),(0,Lv.jsx)("div",{style:{padding:"40px",maxWidth:"500px",margin:"0 auto"},children:(0,Lv.jsxs)("div",{style:{border:"1px solid #ddd",padding:"30px",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[(0,Lv.jsx)("h1",{style:{textAlign:"center",marginBottom:"30px"},children:f?"Welcome Back!":"Join ScratchForge"}),!f&&(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Full Name *"}),(0,Lv.jsx)("input",{type:"text",placeholder:"Enter your full name",value:a,onChange:e=>l(e.target.value),style:{display:"block",width:"100%",padding:"12px",margin:"0 0 15px 0",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,Lv.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Occupation *"}),(0,Lv.jsxs)("select",{value:c,onChange:e=>d(e.target.value),style:{display:"block",width:"100%",padding:"12px",margin:"0 0 15px 0",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,Lv.jsx)("option",{value:"",children:"Select your occupation"}),(0,Lv.jsx)("option",{value:"Student",children:"Student"}),(0,Lv.jsx)("option",{value:"Professional",children:"Working Professional"}),(0,Lv.jsx)("option",{value:"Teacher",children:"Teacher/Educator"}),(0,Lv.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Lv.jsx)("option",{value:"Other",children:"Other"})]}),(0,Lv.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Education Level *"}),(0,Lv.jsxs)("select",{value:u,onChange:e=>p(e.target.value),style:{display:"block",width:"100%",padding:"12px",margin:"0 0 15px 0",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,Lv.jsx)("option",{value:"",children:"Select your education"}),(0,Lv.jsx)("option",{value:"High School",children:"High School"}),(0,Lv.jsx)("option",{value:"Undergraduate",children:"Undergraduate"}),(0,Lv.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,Lv.jsx)("option",{value:"Postgraduate",children:"Postgraduate"}),(0,Lv.jsx)("option",{value:"Self-taught",children:"Self-taught"})]}),(0,Lv.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"What interests you?"}),(0,Lv.jsx)("input",{type:"text",placeholder:"E.g., Electronics, Programming, Arduino",value:h,onChange:e=>g(e.target.value),style:{display:"block",width:"100%",padding:"12px",margin:"0 0 15px 0",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,Lv.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Email *"}),(0,Lv.jsx)("input",{type:"email",placeholder:"your@email.com",value:t,onChange:e=>i(e.target.value),style:{display:"block",width:"100%",padding:"12px",margin:"0 0 15px 0",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,Lv.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Password *"}),(0,Lv.jsx)("input",{type:"password",placeholder:"Enter password",value:o,onChange:e=>s(e.target.value),style:{display:"block",width:"100%",padding:"12px",margin:"0 0 20px 0",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,Lv.jsx)("button",{onClick:f?async()=>{try{await function(e,n,t){return xr(e.app)?Promise.reject(mo(e)):aa(st(e),Gs.credential(n,t)).catch(async n=>{throw n.code==="auth/".concat("password-does-not-meet-requirements")&&la(e),n})}(Dv,t,o),alert("Logged in successfully!"),b("/profile")}catch(e){alert("Error: "+e.message)}}:async()=>{if(a&&t&&o&&c&&u)try{const e=await async function(e,n,t){if(xr(e.app))return Promise.reject(mo(e));const r=ws(e),i=Ps(r,{returnSecureToken:!0,email:n,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zs,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(n=>{throw n.code==="auth/".concat("password-does-not-meet-requirements")&&la(e),n}),s=await ea._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(Dv,t,o),n=e.user.uid;await Ev(Cb(Mv,"users",n),{email:t,name:a,occupation:c,education:u,interests:h,joinedDate:(new Date).toISOString(),totalCoursesCompleted:0,totalTimeSpent:0}),alert("Account created successfully! Welcome "+a),b("/profile")}catch(e){alert("Error: "+e.message)}else alert("Please fill in all required fields")},style:{width:"100%",padding:"14px",fontSize:"18px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:f?"Login":"Create Account"}),(0,Lv.jsxs)("p",{style:{textAlign:"center",marginTop:"20px"},children:[f?"Don't have an account? ":"Already have an account? ",(0,Lv.jsx)("span",{onClick:()=>m(!f),style:{color:"#4CAF50",cursor:"pointer",fontWeight:"bold"},children:f?"Sign Up":"Login"})]})]})})};const qv=function(e){let{position:n="left"}=e;const t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=t.current;if(!e)return;const r=e.contentWindow.document;r.open(),r.write("\n            <html>\n                <body style=\"margin:0;padding:0;overflow:hidden;\">\n                    <script type=\"text/javascript\">\n                        atOptions = {\n                            'key': '720520f25da9fd06646a39c8f09effcd',\n                            'format': 'iframe',\n                            'height': 600,\n                            'width': 160,\n                            'params': {}\n                        };\n                    <\/script>\n                    <script type=\"text/javascript\" src=\"//www.highperformanceformat.com/720520f25da9fd06646a39c8f09effcd/invoke.js\"><\/script>\n                </body>\n            </html>\n        "),r.close(),console.log("[VerticalAd] Loaded ad iframe for ".concat(n))},[n]),(0,Lv.jsx)("div",{style:{width:"160px",height:"600px",backgroundColor:"#f5f5f5",borderRadius:"8px",overflow:"hidden"},children:(0,Lv.jsx)("iframe",{ref:t,title:"ad-".concat(n),width:"160",height:"600",scrolling:"no",frameBorder:"0",style:{border:"none",overflow:"hidden"}})})};const Gv=function(){const[e,n]=(0,r.useState)(null),[t,i]=(0,r.useState)([]),[o,s]=(0,r.useState)(!0),a=ve();(0,r.useEffect)(()=>{l()},[]);const l=async()=>{if(Dv.currentUser)try{const e=await kv(Cb(Mv,"users",Dv.currentUser.uid));e.exists()&&n(e.data());const t=kb(Mv,"users",Dv.currentUser.uid,"enrolledCourses"),r=await Av(t),o=[];r.forEach(e=>{o.push(d({id:e.id},e.data()))}),i(o),s(!1)}catch(e){console.error("Error loading profile:",e),s(!1)}else a("/login")};return o?(0,Lv.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:"Loading profile..."}):e?(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr 160px",gap:"20px",padding:"20px",minHeight:"100vh"},children:[(0,Lv.jsx)("div",{style:{position:"sticky",top:"20px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"left"})}),(0,Lv.jsxs)("div",{style:{minWidth:0,maxWidth:"800px",margin:"0 auto",width:"100%"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[(0,Lv.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#4CAF50",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"white",fontWeight:"bold",marginRight:"20px"},children:e.name?e.name.charAt(0).toUpperCase():"U"}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h1",{style:{margin:"0 0 5px 0"},children:e.name}),(0,Lv.jsx)("p",{style:{margin:0,color:"#666"},children:e.email})]})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[(0,Lv.jsx)("h2",{children:"Profile Information"}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Occupation:"})," ",e.occupation||"Not specified"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Education Level:"})," ",e.education||"Not specified"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Interests:"})," ",e.interests||"Not specified"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Member Since:"})," ",new Date(e.joinedDate).toLocaleDateString()]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Courses Completed:"})," ",e.totalCoursesCompleted||0]})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Lv.jsxs)("h2",{children:["Enrolled Courses (",t.length,")"]}),0===t.length?(0,Lv.jsx)("p",{children:"You haven't enrolled in any courses yet."}):(0,Lv.jsx)("div",{children:t.map(e=>(0,Lv.jsxs)("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"8px",marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h3",{style:{margin:"0 0 5px 0"},children:e.courseName}),(0,Lv.jsxs)("p",{style:{margin:0,color:"#666"},children:["Progress: ",e.progress||0,"% | Enrolled: ",new Date(e.enrolledDate).toLocaleDateString()]})]}),(0,Lv.jsx)("div",{children:e.completed?(0,Lv.jsx)("span",{style:{color:"green",fontWeight:"bold"},children:"\u2713 Completed"}):(0,Lv.jsx)("span",{style:{color:"orange",fontWeight:"bold"},children:"In Progress"})})]},e.id))})]}),(0,Lv.jsx)("button",{onClick:async()=>{try{await function(e){return st(e).signOut()}(Dv),a("/")}catch(e){alert("Error logging out: "+e.message)}},style:{padding:"12px 24px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"},children:"Logout"})]}),(0,Lv.jsx)("div",{style:{position:"sticky",top:"20px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"right"})})]}):(0,Lv.jsx)("div",{style:{padding:"20px"},children:"User profile not found."})};const Kv=function(){const[e,n]=(0,r.useState)(null),[t,i]=(0,r.useState)([]),[o,s]=(0,r.useState)({totalEnrolled:0,completed:0,inProgress:0,totalProgress:0}),[a,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),p=ve();(0,r.useEffect)(()=>{h()},[]);const h=async()=>{if(Dv.currentUser)try{const e=await kv(Cb(Mv,"users",Dv.currentUser.uid));e.exists()&&n(e.data());const t=kb(Mv,"users",Dv.currentUser.uid,"enrolledCourses"),r=await Av(t),o=[];r.forEach(e=>{o.push(d({id:e.id},e.data()))}),i(o);const a=o.filter(e=>e.completed).length,c=o.filter(e=>!e.completed).length,p=o.reduce((e,n)=>e+(n.progress||0),0)/(o.length||1);s({totalEnrolled:o.length,completed:a,inProgress:c,totalProgress:Math.round(p)});const h=o.map(e=>e.courseId),g=Bv.filter(e=>!h.includes(e.id));l(g),u(!1)}catch(e){console.error("Error loading dashboard:",e),u(!1)}else p("/login")};return c?(0,Lv.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"Loading your dashboard..."}):(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr 160px",gap:"30px",padding:"20px",minHeight:"100vh"},children:[(0,Lv.jsx)("div",{style:{position:"sticky",top:"20px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"left"})}),(0,Lv.jsxs)("div",{style:{minWidth:0},children:[(0,Lv.jsxs)("div",{style:{display:"flex",gap:"15px",marginBottom:"30px",padding:"15px",backgroundColor:"#f5f5f5",borderRadius:"8px"},children:[(0,Lv.jsx)(yn,{to:"/explore",style:{flex:1,padding:"15px 25px",backgroundColor:"#4CAF50",color:"white",textAlign:"center",borderRadius:"6px",textDecoration:"none",fontWeight:"bold",fontSize:"16px"},children:"\ud83d\udd0d Explore All Courses"}),(0,Lv.jsx)(yn,{to:"/practice",style:{flex:1,padding:"15px 25px",backgroundColor:"#2196F3",color:"white",textAlign:"center",borderRadius:"6px",textDecoration:"none",fontWeight:"bold",fontSize:"16px"},children:"\ud83d\udca1 Practice Arena"}),(0,Lv.jsx)(yn,{to:"/profile",style:{flex:1,padding:"15px 25px",backgroundColor:"#FF9800",color:"white",textAlign:"center",borderRadius:"6px",textDecoration:"none",fontWeight:"bold",fontSize:"16px"},children:"\ud83d\udc64 My Profile"})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Lv.jsxs)("h1",{style:{margin:"0 0 10px 0"},children:["Welcome back, ",(null===e||void 0===e?void 0:e.name)||"Learner","! \ud83d\udc4b"]}),(0,Lv.jsx)("p",{style:{color:"#666",fontSize:"16px"},children:"Keep learning and growing your skills"})]}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"40px"},children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"#E3F2FD",padding:"20px",borderRadius:"10px",border:"2px solid #2196F3"},children:[(0,Lv.jsx)("div",{style:{fontSize:"32px",marginBottom:"10px"},children:"\ud83d\udcda"}),(0,Lv.jsx)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#1976D2",marginBottom:"5px"},children:o.totalEnrolled}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"Total Courses Enrolled"})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"#E8F5E9",padding:"20px",borderRadius:"10px",border:"2px solid #4CAF50"},children:[(0,Lv.jsx)("div",{style:{fontSize:"32px",marginBottom:"10px"},children:"\u2705"}),(0,Lv.jsx)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#388E3C",marginBottom:"5px"},children:o.completed}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"Courses Completed"})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"#FFF3E0",padding:"20px",borderRadius:"10px",border:"2px solid #FF9800"},children:[(0,Lv.jsx)("div",{style:{fontSize:"32px",marginBottom:"10px"},children:"\u23f3"}),(0,Lv.jsx)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#F57C00",marginBottom:"5px"},children:o.inProgress}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"In Progress"})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"#F3E5F5",padding:"20px",borderRadius:"10px",border:"2px solid #9C27B0"},children:[(0,Lv.jsx)("div",{style:{fontSize:"32px",marginBottom:"10px"},children:"\ud83d\udcc8"}),(0,Lv.jsxs)("div",{style:{fontSize:"28px",fontWeight:"bold",color:"#7B1FA2",marginBottom:"5px"},children:[o.totalProgress,"%"]}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"Overall Progress"})]})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lv.jsx)("h2",{style:{marginBottom:"20px"},children:"My Courses"}),0===t.length?(0,Lv.jsxs)("div",{style:{textAlign:"center",padding:"40px",backgroundColor:"#f5f5f5",borderRadius:"8px"},children:[(0,Lv.jsx)("p",{style:{fontSize:"18px",color:"#666",marginBottom:"20px"},children:"You haven't enrolled in any courses yet"}),(0,Lv.jsx)(yn,{to:"/explore",style:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"bold"},children:"Explore Courses"})]}):(0,Lv.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:t.map(e=>(0,Lv.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"10px",padding:"20px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"15px"},children:[(0,Lv.jsx)("h3",{style:{margin:0,fontSize:"18px"},children:e.courseName}),e.completed?(0,Lv.jsx)("span",{style:{backgroundColor:"#4CAF50",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"\u2713 COMPLETED"}):(0,Lv.jsx)("span",{style:{backgroundColor:"#FF9800",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:"IN PROGRESS"})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[(0,Lv.jsx)("span",{style:{fontSize:"14px",color:"#666"},children:"Progress"}),(0,Lv.jsxs)("span",{style:{fontSize:"14px",fontWeight:"bold"},children:[e.progress||0,"%"]})]}),(0,Lv.jsx)("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden"},children:(0,Lv.jsx)("div",{style:{width:"".concat(e.progress||0,"%"),height:"100%",backgroundColor:e.completed?"#4CAF50":"#2196F3",transition:"width 0.3s ease"}})})]}),(0,Lv.jsxs)("p",{style:{fontSize:"14px",color:"#666",marginBottom:"15px"},children:["Enrolled: ",new Date(e.enrolledDate).toLocaleDateString()]}),(0,Lv.jsx)(yn,{to:"/course/".concat(e.courseId),style:{display:"block",textAlign:"center",padding:"10px",backgroundColor:"#2196F3",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"bold"},children:e.completed?"Review Course":"Continue Learning \u2192"})]},e.id))})]}),a.length>0&&(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h2",{style:{marginBottom:"20px"},children:"Recommended For You \ud83c\udfaf"}),(0,Lv.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:a.slice(0,3).map(e=>(0,Lv.jsxs)("div",{style:{border:"2px solid #4CAF50",borderRadius:"10px",padding:"20px",backgroundColor:"#f9fff9"},children:[(0,Lv.jsx)("h3",{style:{marginTop:0,color:"#2E7D32"},children:e.title}),(0,Lv.jsx)("p",{style:{color:"#666",fontSize:"14px",lineHeight:"1.6"},children:e.description||"Learn essential skills in this comprehensive course"}),(0,Lv.jsx)(yn,{to:"/course/".concat(e.id),style:{display:"inline-block",marginTop:"15px",padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"bold"},children:"Start Learning \u2192"})]},e.id))})]})]}),(0,Lv.jsx)("div",{style:{position:"sticky",top:"20px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"right"})})]})};const Yv=function(){return(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr 160px",gap:"20px",padding:"20px",minHeight:"100vh"},children:[(0,Lv.jsx)("div",{style:{position:"sticky",top:"20px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"left"})}),(0,Lv.jsxs)("div",{style:{minWidth:0},children:[(0,Lv.jsx)("h1",{style:{marginBottom:"10px"},children:"Explore All Courses \ud83d\udd0d"}),(0,Lv.jsx)("p",{style:{color:"#666",marginBottom:"40px"},children:"Discover our comprehensive collection of courses designed to help you learn from scratch"}),(0,Lv.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"25px"},children:Bv.map(e=>(0,Lv.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"12px",padding:"25px",backgroundColor:"white",boxShadow:"0 3px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 3px 8px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("h2",{style:{marginTop:0,color:"#2196F3"},children:e.title}),(0,Lv.jsx)("p",{style:{color:"#666",lineHeight:"1.6",marginBottom:"20px"},children:e.description||"Master the fundamentals with hands-on lessons"}),(0,Lv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Lv.jsx)("span",{style:{backgroundColor:"#E3F2FD",padding:"5px 12px",borderRadius:"15px",fontSize:"14px",color:"#1976D2",marginRight:"8px"},children:"10 Lessons"}),(0,Lv.jsx)("span",{style:{backgroundColor:"#F3E5F5",padding:"5px 12px",borderRadius:"15px",fontSize:"14px",color:"#7B1FA2"},children:"Beginner"})]}),(0,Lv.jsx)(yn,{to:"/course-details/".concat(e.id),style:{display:"block",textAlign:"center",padding:"12px",backgroundColor:"#4CAF50",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"bold",marginTop:"15px"},children:"View Course Details \u2192"})]},e.id))})]}),(0,Lv.jsx)("div",{style:{position:"sticky",top:"20px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"right"})})]})};const Qv=function(){return(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr 160px",gap:"20px",padding:"20px",minHeight:"100vh"},children:[(0,Lv.jsx)("div",{style:{position:"sticky",top:"80px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"left"})}),(0,Lv.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",width:"100%"},children:[(0,Lv.jsx)("h1",{style:{marginBottom:"10px"},children:"Practice Arena \ud83d\udca1"}),(0,Lv.jsx)("p",{style:{color:"#666",marginBottom:"40px"},children:"Test your knowledge and sharpen your skills with hands-on exercises"}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",alignItems:"start"},children:[(0,Lv.jsxs)("div",{style:{border:"2px solid #2196F3",borderRadius:"10px",padding:"25px",backgroundColor:"#E3F2FD"},children:[(0,Lv.jsx)("div",{style:{fontSize:"40px",marginBottom:"15px"},children:"\ud83c\udfaf"}),(0,Lv.jsx)("h3",{style:{marginTop:0},children:"Quick Quizzes"}),(0,Lv.jsx)("p",{style:{color:"#666"},children:"Test your understanding with short quizzes"}),(0,Lv.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"Start Quiz"})]}),(0,Lv.jsxs)("div",{style:{border:"2px solid #FF9800",borderRadius:"10px",padding:"25px",backgroundColor:"#FFF3E0"},children:[(0,Lv.jsx)("div",{style:{fontSize:"40px",marginBottom:"15px"},children:"\u26a1"}),(0,Lv.jsx)("h3",{style:{marginTop:0},children:"Coding Challenges"}),(0,Lv.jsx)("p",{style:{color:"#666"},children:"Solve real-world coding problems"}),(0,Lv.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"Try Challenge"})]}),(0,Lv.jsxs)("div",{style:{border:"2px solid #4CAF50",borderRadius:"10px",padding:"25px",backgroundColor:"#E8F5E9"},children:[(0,Lv.jsx)("div",{style:{fontSize:"40px",marginBottom:"15px"},children:"\ud83c\udfc6"}),(0,Lv.jsx)("h3",{style:{marginTop:0},children:"Practice Projects"}),(0,Lv.jsx)("p",{style:{color:"#666"},children:"Build projects to apply your skills"}),(0,Lv.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:"View Projects"})]})]})]}),(0,Lv.jsx)("div",{style:{position:"sticky",top:"80px",height:"fit-content"},children:(0,Lv.jsx)(qv,{position:"right"})})]})};const Xv=function(){const{courseId:e}=xe(),n=ve(),[t,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const n=Bv.find(n=>n.id===e);i(n);const t=Dv.currentUser;s(t),t&&n?u(t.uid,e):d(!1)},[e]);const u=async(e,n)=>{try{const t=Cb(Mv,"users",e,"enrolledCourses",n),r=await kv(t);l(r.exists()),d(!1)}catch(t){console.error("Error checking enrollment:",t),d(!1)}};return t?(0,Lv.jsxs)("div",{style:{padding:"40px",maxWidth:"1000px",margin:"0 auto"},children:[(0,Lv.jsx)(yn,{to:"/explore",style:{color:"#666",textDecoration:"none",marginBottom:"20px",display:"inline-block"},children:"\u2190 Back to All Courses"}),(0,Lv.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"50px 40px",borderRadius:"15px",marginBottom:"30px"},children:[(0,Lv.jsx)("h1",{style:{fontSize:"42px",marginBottom:"15px"},children:t.title}),(0,Lv.jsx)("p",{style:{fontSize:"20px",opacity:.9,marginBottom:"25px"},children:t.description||"Master the fundamentals with comprehensive lessons"}),(0,Lv.jsxs)("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 20px",borderRadius:"20px"},children:["\ud83d\udcda ",t.sessions?t.sessions.length:10," Lessons"]}),(0,Lv.jsx)("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 20px",borderRadius:"20px"},children:"\u23f1\ufe0f 5+ Hours"}),(0,Lv.jsx)("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"10px 20px",borderRadius:"20px"},children:"\ud83c\udf93 Beginner Level"})]})]}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"30px"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[(0,Lv.jsx)("h2",{style:{marginBottom:"20px",color:"#333"},children:"What You'll Learn \ud83c\udfaf"}),(0,Lv.jsxs)("ul",{style:{lineHeight:"2",color:"#666"},children:[(0,Lv.jsx)("li",{children:"\u2713 Understand core concepts from scratch"}),(0,Lv.jsx)("li",{children:"\u2713 Build practical skills through hands-on exercises"}),(0,Lv.jsx)("li",{children:"\u2713 Apply knowledge to real-world projects"}),(0,Lv.jsx)("li",{children:"\u2713 Master advanced techniques step-by-step"}),(0,Lv.jsx)("li",{children:"\u2713 Earn a certificate upon completion"})]})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"30px"},children:[(0,Lv.jsx)("h2",{style:{marginBottom:"20px",color:"#333"},children:"Course Content \ud83d\udccb"}),(0,Lv.jsxs)("p",{style:{color:"#666",marginBottom:"20px"},children:[t.sessions?t.sessions.length:10," lessons \u2022 5+ hours of content"]}),t.sessions?(0,Lv.jsx)("div",{children:t.sessions.map((e,n)=>(0,Lv.jsxs)("div",{style:{padding:"15px",borderBottom:"1px solid #eee",display:"flex",alignItems:"center",gap:"15px"},children:[(0,Lv.jsx)("div",{style:{width:"35px",height:"35px",borderRadius:"50%",backgroundColor:"#E3F2FD",display:"flex",alignItems:"center",justifyContent:"center",color:"#2196F3",fontWeight:"bold"},children:n+1}),(0,Lv.jsxs)("div",{style:{flex:1},children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",color:"#333",marginBottom:"5px"},children:e.title}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#999"},children:"30 min \u2022 Video + Quiz"})]}),a?(0,Lv.jsx)("span",{style:{color:"#4CAF50",fontSize:"14px"},children:"\u2713 Enrolled"}):(0,Lv.jsx)("span",{style:{color:"#999",fontSize:"14px"},children:"\ud83d\udd12 Locked"})]},n))}):(0,Lv.jsx)("div",{children:[...Array(10)].map((e,n)=>(0,Lv.jsxs)("div",{style:{padding:"15px",borderBottom:"1px solid #eee",display:"flex",alignItems:"center",gap:"15px"},children:[(0,Lv.jsx)("div",{style:{width:"35px",height:"35px",borderRadius:"50%",backgroundColor:"#E3F2FD",display:"flex",alignItems:"center",justifyContent:"center",color:"#2196F3",fontWeight:"bold"},children:n+1}),(0,Lv.jsxs)("div",{style:{flex:1},children:[(0,Lv.jsxs)("div",{style:{fontWeight:"bold",color:"#333",marginBottom:"5px"},children:["Lesson ",n+1]}),(0,Lv.jsx)("div",{style:{fontSize:"14px",color:"#999"},children:"30 min \u2022 Video + Quiz"})]}),a?(0,Lv.jsx)("span",{style:{color:"#4CAF50",fontSize:"14px"},children:"\u2713 Enrolled"}):(0,Lv.jsx)("span",{style:{color:"#999",fontSize:"14px"},children:"\ud83d\udd12 Locked"})]},n))})]}),(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("h2",{style:{marginBottom:"20px",color:"#333"},children:"Requirements \ud83d\udccc"}),(0,Lv.jsxs)("ul",{style:{lineHeight:"2",color:"#666"},children:[(0,Lv.jsx)("li",{children:"No prior experience required - perfect for beginners!"}),(0,Lv.jsx)("li",{children:"A computer or laptop with internet access"}),(0,Lv.jsx)("li",{children:"Enthusiasm to learn and practice"}),(0,Lv.jsx)("li",{children:"Approximately 5-10 hours to complete the course"})]})]})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsxs)("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",position:"sticky",top:"20px"},children:[(0,Lv.jsx)("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#4CAF50",marginBottom:"10px"},children:"Free"}),(0,Lv.jsx)("p",{style:{color:"#666",marginBottom:"25px"},children:"Full access to all course content"}),c?(0,Lv.jsx)("button",{style:{width:"100%",padding:"15px",backgroundColor:"#ccc",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"not-allowed"},children:"Loading..."}):o?a?(0,Lv.jsx)("button",{onClick:()=>{n("/course/".concat(e))},style:{width:"100%",padding:"15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},children:"Start Learning \u2192"}):(0,Lv.jsx)("button",{onClick:async()=>{if(o)try{const n=Cb(Mv,"users",o.uid,"enrolledCourses",e);await Ev(n,{courseId:e,courseName:t.title,enrolledDate:(new Date).toISOString(),progress:0,completed:!1,lastAccessedDate:(new Date).toISOString(),timeSpent:0}),l(!0),alert("Successfully enrolled! You can now start learning.")}catch(r){alert("Error enrolling: "+r.message)}else n("/login")},style:{width:"100%",padding:"15px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer"},children:"Enroll Now (Free)"}):(0,Lv.jsx)(yn,{to:"/login",style:{display:"block",width:"100%",padding:"15px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"8px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",textAlign:"center",textDecoration:"none"},children:"Login to Enroll \u2192"}),(0,Lv.jsxs)("div",{style:{marginTop:"25px",paddingTop:"25px",borderTop:"1px solid #eee"},children:[(0,Lv.jsx)("h3",{style:{fontSize:"18px",marginBottom:"15px",color:"#333"},children:"This course includes:"}),(0,Lv.jsxs)("ul",{style:{listStyle:"none",padding:0,color:"#666",lineHeight:"2"},children:[(0,Lv.jsx)("li",{children:"\ud83d\udcf9 Video lessons"}),(0,Lv.jsx)("li",{children:"\ud83d\udcdd Practice exercises"}),(0,Lv.jsx)("li",{children:"\ud83c\udfaf Quizzes & assessments"}),(0,Lv.jsx)("li",{children:"\ud83d\udcdc Certificate of completion"}),(0,Lv.jsx)("li",{children:"\u23f0 Lifetime access"}),(0,Lv.jsx)("li",{children:"\ud83d\udcf1 Mobile & desktop access"})]})]})]}),(0,Lv.jsx)("div",{style:{marginTop:"20px"},children:(0,Lv.jsx)(Fv,{scriptSrc:"//pl28132632.effectivegatecpm.com/cf49e39e74e5701f8c0e899dfa62dc5b/invoke.js",containerId:"container-coursedetails-ad-cf49e39e74e5701f8c0e899dfa62dc5b",position:"sidebar"})})]})]})]}):(0,Lv.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,Lv.jsx)("h2",{children:"Course not found"}),(0,Lv.jsx)(yn,{to:"/explore",style:{color:"#4CAF50"},children:"\u2190 Back to Courses"})]})},$v=e=>!(!e||!e.email)&&e.email.toLowerCase()==="immanueldavidckp@gmail.com".toLowerCase();const Jv=function(){const e=ve(),[n,t]=(0,r.useState)(null),[i,o]=(0,r.useState)({totalUsers:0,activeUsers:0,totalEnrollments:0,totalCompletions:0,courseStats:{},recentActivity:[],doubtStats:{total:0,pending:0,answered:0}}),[s,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const n=ca(Dv,n=>{n&&$v(n)?t(n):e("/")});return()=>n()},[e]),(0,r.useEffect)(()=>{n&&$v(n)&&l()},[n]);const l=async()=>{try{a(!0);const e=await Av(kb(Mv,"users")),n=e.size,t=new Date;t.setDate(t.getDate()-7);let r=0,i=0,s=0;const l={},d=[];for(const o of e.docs){const e=o.data();if(e.lastLoginDate){new Date(e.lastLoginDate)>t&&r++}(await Av(kb(Mv,"users",o.id,"enrolledCourses"))).forEach(n=>{const t=n.data(),r=n.id;i++,t.completed&&s++,l[r]||(l[r]={enrollments:0,completions:0,totalProgress:0,avgProgress:0}),l[r].enrollments++,t.completed&&l[r].completions++,l[r].totalProgress+=t.progress||0,t.lastAccessedDate&&d.push({userName:e.displayName||e.email,courseId:r,action:t.completed?"completed":"studying",date:t.lastAccessedDate,progress:t.progress})})}Object.keys(l).forEach(e=>{const n=l[e];n.avgProgress=Math.round(n.totalProgress/n.enrollments),n.completionRate=Math.round(n.completions/n.enrollments*100)}),d.sort((e,n)=>new Date(n.date)-new Date(e.date));const u=await c();o({totalUsers:n,activeUsers:r,totalEnrollments:i,totalCompletions:s,courseStats:l,recentActivity:d.slice(0,10),doubtStats:u})}catch(e){console.error("Error loading admin stats:",e)}finally{a(!1)}},c=async()=>{try{const n=["electrical-basics","microprocessor","microcontroller","networking","embedded-firmware","c-programming"];let t=0,r=0,i=0;for(const o of n)for(let n=0;n<25;n++){const s="session".concat(n);try{const e=kb(Mv,"doubts",o,s);(await Av(e)).forEach(e=>{const n=e.data();t++,n.answered?i++:r++})}catch(e){}}return{total:t,pending:r,answered:i}}catch(e){return console.error("Error loading doubt stats:",e),{total:0,pending:0,answered:0}}},d=e=>({"electrical-basics":"Electrical Basics",microprocessor:"Microprocessor",microcontroller:"Microcontroller",networking:"Networking","embedded-firmware":"Embedded Firmware","c-programming":"C Programming"}[e]||e);if(s)return(0,Lv.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\ud83d\udcca"}),(0,Lv.jsx)("h2",{children:"Loading Analytics..."})]});const u=i.totalEnrollments>0?Math.round(i.totalCompletions/i.totalEnrollments*100):0;return(0,Lv.jsxs)("div",{style:{padding:"40px",maxWidth:"1400px",margin:"0 auto"},children:[(0,Lv.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lv.jsx)("h1",{style:{fontSize:"36px",marginBottom:"10px"},children:"\ud83d\udcca Admin Dashboard"}),(0,Lv.jsx)("p",{style:{color:"#666",fontSize:"16px"},children:"Platform Analytics and Management"})]}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"40px"},children:[(0,Lv.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"30px",borderRadius:"15px",color:"white"},children:[(0,Lv.jsx)("div",{style:{fontSize:"14px",opacity:.9,marginBottom:"10px"},children:"Total Users"}),(0,Lv.jsx)("div",{style:{fontSize:"48px",fontWeight:"bold"},children:i.totalUsers}),(0,Lv.jsxs)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"10px"},children:[i.activeUsers," active (7 days)"]})]}),(0,Lv.jsxs)("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",padding:"30px",borderRadius:"15px",color:"white"},children:[(0,Lv.jsx)("div",{style:{fontSize:"14px",opacity:.9,marginBottom:"10px"},children:"Total Enrollments"}),(0,Lv.jsx)("div",{style:{fontSize:"48px",fontWeight:"bold"},children:i.totalEnrollments}),(0,Lv.jsx)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"10px"},children:"Across all courses"})]}),(0,Lv.jsxs)("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",padding:"30px",borderRadius:"15px",color:"white"},children:[(0,Lv.jsx)("div",{style:{fontSize:"14px",opacity:.9,marginBottom:"10px"},children:"Completions"}),(0,Lv.jsx)("div",{style:{fontSize:"48px",fontWeight:"bold"},children:i.totalCompletions}),(0,Lv.jsxs)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"10px"},children:[u,"% completion rate"]})]}),(0,Lv.jsxs)("div",{style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",padding:"30px",borderRadius:"15px",color:"white"},children:[(0,Lv.jsx)("div",{style:{fontSize:"14px",opacity:.9,marginBottom:"10px"},children:"Student Questions"}),(0,Lv.jsx)("div",{style:{fontSize:"48px",fontWeight:"bold"},children:i.doubtStats.total}),(0,Lv.jsxs)("div",{style:{fontSize:"14px",opacity:.8,marginTop:"10px"},children:[i.doubtStats.pending," pending"]})]})]}),(0,Lv.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lv.jsx)("h2",{style:{fontSize:"24px",marginBottom:"20px"},children:"\ud83d\udcda Course Performance"}),(0,Lv.jsx)("div",{style:{background:"white",borderRadius:"15px",padding:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:(0,Lv.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Lv.jsx)("thead",{children:(0,Lv.jsxs)("tr",{style:{borderBottom:"2px solid #eee"},children:[(0,Lv.jsx)("th",{style:{padding:"15px",textAlign:"left"},children:"Course"}),(0,Lv.jsx)("th",{style:{padding:"15px",textAlign:"center"},children:"Enrollments"}),(0,Lv.jsx)("th",{style:{padding:"15px",textAlign:"center"},children:"Completions"}),(0,Lv.jsx)("th",{style:{padding:"15px",textAlign:"center"},children:"Completion Rate"}),(0,Lv.jsx)("th",{style:{padding:"15px",textAlign:"center"},children:"Avg Progress"})]})}),(0,Lv.jsx)("tbody",{children:Object.entries(i.courseStats).map(e=>{let[n,t]=e;return(0,Lv.jsxs)("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[(0,Lv.jsx)("td",{style:{padding:"15px",fontWeight:"bold"},children:d(n)}),(0,Lv.jsx)("td",{style:{padding:"15px",textAlign:"center"},children:t.enrollments}),(0,Lv.jsx)("td",{style:{padding:"15px",textAlign:"center"},children:t.completions}),(0,Lv.jsx)("td",{style:{padding:"15px",textAlign:"center"},children:(0,Lv.jsxs)("span",{style:{padding:"5px 15px",borderRadius:"20px",background:t.completionRate>50?"#e8f5e9":"#fff3e0",color:t.completionRate>50?"#2e7d32":"#f57c00",fontWeight:"bold"},children:[t.completionRate,"%"]})}),(0,Lv.jsxs)("td",{style:{padding:"15px",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{width:"100px",height:"8px",background:"#e0e0e0",borderRadius:"4px",margin:"0 auto",overflow:"hidden"},children:(0,Lv.jsx)("div",{style:{width:"".concat(t.avgProgress,"%"),height:"100%",background:"#4CAF50",borderRadius:"4px"}})}),(0,Lv.jsxs)("div",{style:{fontSize:"12px",marginTop:"5px",color:"#666"},children:[t.avgProgress,"%"]})]})]},n)})})]})})]}),(0,Lv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,Lv.jsxs)("div",{style:{background:"white",borderRadius:"15px",padding:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("h2",{style:{fontSize:"20px",marginBottom:"20px"},children:"\ud83d\udd50 Recent Activity"}),(0,Lv.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:i.recentActivity.map((e,n)=>(0,Lv.jsxs)("div",{style:{padding:"15px",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:e.userName}),(0,Lv.jsxs)("div",{style:{fontSize:"14px",color:"#666"},children:["completed"===e.action?"\u2705 Completed":"\ud83d\udcd6 Studying"," ",d(e.courseId)]})]}),(0,Lv.jsxs)("div",{style:{textAlign:"right"},children:[(0,Lv.jsx)("div",{style:{fontSize:"12px",color:"#999"},children:new Date(e.date).toLocaleDateString()}),(0,Lv.jsxs)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#4CAF50"},children:[e.progress,"%"]})]})]},n))})]}),(0,Lv.jsxs)("div",{style:{background:"white",borderRadius:"15px",padding:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("h2",{style:{fontSize:"20px",marginBottom:"20px"},children:"\u2753 Student Questions"}),(0,Lv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[(0,Lv.jsx)("span",{style:{color:"#666"},children:"Total Questions:"}),(0,Lv.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px"},children:i.doubtStats.total})]}),(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[(0,Lv.jsx)("span",{style:{color:"#666"},children:"Answered:"}),(0,Lv.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px",color:"#4CAF50"},children:i.doubtStats.answered})]}),(0,Lv.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[(0,Lv.jsx)("span",{style:{color:"#666"},children:"Pending:"}),(0,Lv.jsx)("span",{style:{fontWeight:"bold",fontSize:"18px",color:"#FF9800"},children:i.doubtStats.pending})]})]}),(0,Lv.jsx)("button",{onClick:()=>e("/admin/doubts"),style:{width:"100%",padding:"15px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Manage Questions \u2192"})]})]})]})};const Zv=function(){const e=ve(),[n,t]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)("all"),[u,p]=(0,r.useState)("all"),[h,g]=(0,r.useState)(null),[f,m]=(0,r.useState)("");(0,r.useEffect)(()=>{const n=ca(Dv,n=>{n&&$v(n)?t(n):e("/")});return()=>n()},[e]),(0,r.useEffect)(()=>{n&&$v(n)&&b()},[n]);const b=async()=>{try{a(!0);const n=[],t=["electrical-basics","microprocessor","microcontroller","networking","embedded-firmware","c-programming"];console.log("Starting to load all doubts from known courses...");for(const r of t){console.log("Processing course:",r);for(let t=0;t<25;t++){const i="session".concat(t);try{const e=kb(Mv,"doubts",r,i),o=await Av(e);o.size>0&&(console.log("Found ".concat(o.size," doubts in ").concat(r,"/").concat(i)),o.forEach(e=>{const o=d({id:e.id,courseId:r,sessionId:i,sessionIndex:t},e.data());n.push(o)}))}catch(e){console.log("No doubts in ".concat(r,"/").concat(i))}}}console.log("Total doubts loaded:",n.length),n.sort((e,n)=>new Date(n.timestamp)-new Date(e.timestamp)),o(n)}catch(e){console.error("Error loading doubts:",e)}finally{a(!1)}},v=e=>({"electrical-basics":"Electrical Basics",microprocessor:"Microprocessor",microcontroller:"Microcontroller",networking:"Networking","embedded-firmware":"Embedded Firmware","c-programming":"C Programming"}[e]||e),x=i.filter(e=>("pending"!==l||!e.answered)&&(!("answered"===l&&!e.answered)&&("all"===u||e.courseId===u))),y=[...new Set(i.map(e=>e.courseId))],w=i.filter(e=>!e.answered).length,S=i.filter(e=>e.answered).length;return s?(0,Lv.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,Lv.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u2753"}),(0,Lv.jsx)("h2",{children:"Loading Questions..."})]}):(0,Lv.jsxs)("div",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[(0,Lv.jsxs)("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h1",{style:{fontSize:"32px",marginBottom:"10px"},children:"\u2753 Student Questions Management"}),(0,Lv.jsxs)("p",{style:{color:"#666",fontSize:"16px"},children:[w," pending \u2022 ",S," answered \u2022 ",i.length," total"]})]}),(0,Lv.jsx)("button",{onClick:()=>e("/admin"),style:{padding:"12px 24px",background:"#2196F3",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"\u2190 Back to Dashboard"})]}),(0,Lv.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Lv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Lv.jsx)("label",{style:{fontWeight:"bold",marginRight:"15px"},children:"Status:"}),(0,Lv.jsxs)("button",{onClick:()=>c("all"),style:{padding:"8px 20px",background:"all"===l?"#2196F3":"#f5f5f5",color:"all"===l?"white":"#333",border:"none",borderRadius:"20px",marginRight:"10px",cursor:"pointer"},children:["All (",i.length,")"]}),(0,Lv.jsxs)("button",{onClick:()=>c("pending"),style:{padding:"8px 20px",background:"pending"===l?"#FF9800":"#f5f5f5",color:"pending"===l?"white":"#333",border:"none",borderRadius:"20px",marginRight:"10px",cursor:"pointer"},children:["Pending (",w,")"]}),(0,Lv.jsxs)("button",{onClick:()=>c("answered"),style:{padding:"8px 20px",background:"answered"===l?"#4CAF50":"#f5f5f5",color:"answered"===l?"white":"#333",border:"none",borderRadius:"20px",cursor:"pointer"},children:["Answered (",S,")"]})]}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("label",{style:{fontWeight:"bold",marginRight:"15px"},children:"Course:"}),(0,Lv.jsxs)("select",{value:u,onChange:e=>p(e.target.value),style:{padding:"8px 15px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px"},children:[(0,Lv.jsx)("option",{value:"all",children:"All Courses"}),y.map(e=>(0,Lv.jsx)("option",{value:e,children:v(e)},e))]})]})]}),(0,Lv.jsx)("div",{children:0===x.length?(0,Lv.jsxs)("div",{style:{background:"white",padding:"60px",borderRadius:"12px",textAlign:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"\ud83d\udced"}),(0,Lv.jsx)("h3",{children:"No questions found"}),(0,Lv.jsx)("p",{style:{color:"#666"},children:"Try adjusting your filters"})]}):x.map(e=>(0,Lv.jsxs)("div",{style:{background:"white",padding:"30px",borderRadius:"12px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",border:e.answered?"2px solid #4CAF50":"2px solid #FF9800"},children:[(0,Lv.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[(0,Lv.jsx)("span",{style:{padding:"5px 15px",background:"#2196F3",color:"white",borderRadius:"20px",fontSize:"12px",fontWeight:"bold"},children:v(e.courseId)}),(0,Lv.jsxs)("span",{style:{padding:"5px 15px",background:"#9C27B0",color:"white",borderRadius:"20px",fontSize:"12px",fontWeight:"bold"},children:["Session ",e.sessionIndex+1]}),e.sessionTitle&&(0,Lv.jsx)("span",{style:{padding:"5px 15px",background:"#f5f5f5",borderRadius:"20px",fontSize:"12px"},children:e.sessionTitle})]}),(0,Lv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[(0,Lv.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#2196F3",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:e.userName.charAt(0).toUpperCase()}),(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold"},children:e.userName}),(0,Lv.jsxs)("div",{style:{fontSize:"12px",color:"#999"},children:[e.userEmail," \u2022 ",new Date(e.timestamp).toLocaleString()]})]})]}),(0,Lv.jsxs)("div",{style:{background:"#f9f9f9",padding:"20px",borderRadius:"10px",marginBottom:"15px"},children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",marginBottom:"10px",color:"#333"},children:"Question:"}),(0,Lv.jsx)("p",{style:{fontSize:"16px",lineHeight:"1.6",margin:0},children:e.question})]}),e.answered&&e.adminReply?(0,Lv.jsxs)("div",{style:{background:"#e8f5e9",padding:"20px",borderRadius:"10px",borderLeft:"4px solid #4CAF50"},children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",marginBottom:"10px",color:"#2e7d32"},children:"\u2713 Your Reply:"}),(0,Lv.jsx)("p",{style:{fontSize:"15px",lineHeight:"1.6",margin:0},children:e.adminReply}),(0,Lv.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"10px"},children:["Replied on ",new Date(e.replyTimestamp).toLocaleString()]})]}):h===e.id?(0,Lv.jsxs)("div",{style:{background:"#fff3e0",padding:"20px",borderRadius:"10px"},children:[(0,Lv.jsx)("div",{style:{fontWeight:"bold",marginBottom:"15px"},children:"Write Your Reply:"}),(0,Lv.jsx)("textarea",{value:f,onChange:e=>m(e.target.value),placeholder:"Type your detailed answer here...",style:{width:"100%",minHeight:"150px",padding:"15px",fontSize:"16px",border:"2px solid #ddd",borderRadius:"8px",resize:"vertical",fontFamily:"inherit"}}),(0,Lv.jsxs)("div",{style:{marginTop:"15px",display:"flex",gap:"10px"},children:[(0,Lv.jsx)("button",{onClick:()=>(async e=>{if(f.trim())try{const n=Cb(Mv,"doubts",e.courseId,e.sessionId,e.id);await Tv(n,{answered:!0,adminReply:f,replyTimestamp:(new Date).toISOString()}),g(null),m(""),b(),alert("Reply sent successfully!")}catch(n){console.error("Error submitting reply:",n),alert("Error sending reply. Please try again.")}else alert("Please enter a reply")})(e),style:{padding:"12px 30px",background:"#4CAF50",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Send Reply"}),(0,Lv.jsx)("button",{onClick:()=>{g(null),m("")},style:{padding:"12px 30px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"8px",fontSize:"16px",cursor:"pointer"},children:"Cancel"})]})]}):(0,Lv.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Lv.jsx)("button",{onClick:()=>g(e.id),style:{padding:"12px 30px",background:"#FF9800",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"\ud83d\udcac Reply to Question"}),(0,Lv.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this question? This action cannot be undone."))try{const n=Cb(Mv,"doubts",e.courseId,e.sessionId,e.id);await Iv(n),b(),alert("Question deleted successfully!")}catch(n){console.error("Error deleting question:",n),alert("Error deleting question. Please try again.")}})(e),style:{padding:"12px 30px",background:"#f44336",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"\ud83d\uddd1\ufe0f Delete Question"})]}),(0,Lv.jsxs)("div",{style:{marginTop:"15px",fontSize:"14px",color:"#666"},children:["\ud83d\udc4d ",e.helpful||0," students found this helpful"]})]},"".concat(e.courseId,"-").concat(e.sessionId,"-").concat(e.id)))})]})};const ex=function(){const[e,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const e=ca(Dv,e=>{n(e)});return()=>e()},[]),(0,Lv.jsx)(vn,{children:(0,Lv.jsxs)("div",{className:"app",children:[(0,Lv.jsxs)("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 30px",backgroundColor:"#2c3e50",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[(0,Lv.jsx)("h1",{style:{margin:0,color:"white",fontSize:"24px"},children:"ScratchForge"}),(0,Lv.jsxs)("ul",{style:{display:"flex",listStyle:"none",margin:0,padding:0,gap:"10px",alignItems:"center"},children:[(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/",style:{color:"white",textDecoration:"none",padding:"10px 20px",borderRadius:"5px",transition:"background 0.3s"},children:"\ud83c\udfe0 Home"})}),e&&(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/dashboard",style:{color:"white",textDecoration:"none",padding:"10px 20px",borderRadius:"5px",transition:"background 0.3s"},children:"\ud83d\udcca Dashboard"})}),(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/explore",style:{backgroundColor:"#4CAF50",color:"white",textDecoration:"none",padding:"10px 20px",borderRadius:"5px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px",transition:"background 0.3s"},children:"\ud83d\udd0d Explore All Courses"})}),(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/practice",style:{backgroundColor:"#2196F3",color:"white",textDecoration:"none",padding:"10px 20px",borderRadius:"5px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px",transition:"background 0.3s"},children:"\ud83d\udca1 Practice Arena"})}),e&&$v(e)&&(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/admin",style:{backgroundColor:"#9C27B0",color:"white",textDecoration:"none",padding:"10px 20px",borderRadius:"5px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px",transition:"background 0.3s"},children:"\ud83d\udc68\u200d\ud83d\udcbc Admin"})}),e?(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/profile",style:{display:"flex",alignItems:"center"},children:(0,Lv.jsx)("div",{style:{width:"35px",height:"35px",borderRadius:"50%",backgroundColor:"#FF9800",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"16px",cursor:"pointer",border:"2px solid white"},children:e.email?e.email.charAt(0).toUpperCase():"U"})})}):(0,Lv.jsx)("li",{children:(0,Lv.jsx)(yn,{to:"/login",style:{backgroundColor:"#FF9800",color:"white",textDecoration:"none",padding:"10px 20px",borderRadius:"5px",fontWeight:"bold"},children:"Login/Signup"})})]})]}),(0,Lv.jsxs)(ze,{children:[(0,Lv.jsx)(Ne,{path:"/",element:(0,Lv.jsx)(Nv,{})}),(0,Lv.jsx)(Ne,{path:"/login",element:(0,Lv.jsx)(Wv,{})}),(0,Lv.jsx)(Ne,{path:"/profile",element:(0,Lv.jsx)(Gv,{})}),(0,Lv.jsx)(Ne,{path:"/dashboard",element:(0,Lv.jsx)(Kv,{})}),(0,Lv.jsx)(Ne,{path:"/explore",element:(0,Lv.jsx)(Yv,{})}),(0,Lv.jsx)(Ne,{path:"/practice",element:(0,Lv.jsx)(Qv,{})}),(0,Lv.jsx)(Ne,{path:"/course-details/:courseId",element:(0,Lv.jsx)(Xv,{})}),(0,Lv.jsx)(Ne,{path:"/course/:courseId/session/:sessionId",element:(0,Lv.jsx)(Hv,{})}),(0,Lv.jsx)(Ne,{path:"/course/:courseId",element:(0,Lv.jsx)(Hv,{})}),(0,Lv.jsx)(Ne,{path:"/admin",element:(0,Lv.jsx)(Jv,{})}),(0,Lv.jsx)(Ne,{path:"/admin/doubts",element:(0,Lv.jsx)(Zv,{})})]})]})})};i.createRoot(document.getElementById("root")).render((0,Lv.jsx)(r.StrictMode,{children:(0,Lv.jsx)(ex,{})}))})();
//# sourceMappingURL=main.810c2b51.js.map