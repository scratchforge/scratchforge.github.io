export const session9 = {
    title: "Power Management and Sleep Modes",
    content: `<style>.microcontroller-lesson{padding:0;margin:0}.microcontroller-lesson h2{color:#667eea;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #667eea;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(102,126,234,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(102,126,234,0.08) 0%,rgba(118,75,162,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(102,126,234,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(102,126,234,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#667eea;margin-bottom:10px;font-size:1.2em}.microcontroller-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.microcontroller-lesson ul{margin:15px 0 15px 25px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto}</style><div class="microcontroller-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">üîã</div><p>Power Management: Maximize battery life with smart sleep modes!</p></div><h2>‚ö° Why Power Management Matters</h2><p>For battery-powered projects, power consumption is critical. A microcontroller running at full speed can drain a battery in hours, but with proper sleep modes, the same battery can last months or even years!</p><div class="cards-grid"><div class="info-card"><span class="card-icon">üîå</span><h4>Active Mode</h4><p>Full power: 20-50mA typical</p></div><div class="info-card"><span class="card-icon">üò¥</span><h4>Idle Mode</h4><p>CPU stopped: 5-15mA</p></div><div class="info-card"><span class="card-icon">üí§</span><h4>Power-Down</h4><p>Deep sleep: 0.1-1mA</p></div><div class="info-card"><span class="card-icon">üåô</span><h4>Ultra Low Power</h4><p>Minimal: <0.1mA (¬µA range!)</p></div></div><h2>üò¥ AVR Sleep Modes (Arduino)</h2><div class="info-box"><strong>Available Sleep Modes:</strong><ul><li><strong>IDLE:</strong> CPU stopped, peripherals running</li><li><strong>ADC Noise Reduction:</strong> For accurate ADC readings</li><li><strong>Power-Down:</strong> Most peripherals off, wake on interrupt</li><li><strong>Power-Save:</strong> Like power-down but Timer2 runs</li><li><strong>Standby:</strong> Like power-down but faster wake-up</li><li><strong>Extended Standby:</strong> Standby + Timer2 running</li></ul></div><div class="code-box">// Basic Sleep Mode Example<br>#include &lt;avr/sleep.h&gt;<br>#include &lt;avr/power.h&gt;<br><br>const int wakePin = 2; // INT0<br>volatile bool wakeUp = false;<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(wakePin, INPUT_PULLUP);<br>&nbsp;&nbsp;pinMode(LED_BUILTIN, OUTPUT);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Attach interrupt<br>&nbsp;&nbsp;attachInterrupt(digitalPinToInterrupt(wakePin),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wakeUpNow, FALLING);<br>}<br><br>void wakeUpNow() {<br>&nbsp;&nbsp;wakeUp = true;<br>}<br><br>void goToSleep() {<br>&nbsp;&nbsp;set_sleep_mode(SLEEP_MODE_PWR_DOWN);<br>&nbsp;&nbsp;sleep_enable();<br>&nbsp;&nbsp;sleep_mode(); // Sleep here<br>&nbsp;&nbsp;// --- Wake up here ---<br>&nbsp;&nbsp;sleep_disable();<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (wakeUp) {<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, HIGH);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(1000);<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, LOW);<br>&nbsp;&nbsp;&nbsp;&nbsp;wakeUp = false;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;goToSleep(); // Sleep until interrupt<br>}</div><h2>üîã Advanced Power Saving</h2><div class="code-box">// Disable unused peripherals<br>#include &lt;avr/sleep.h&gt;<br>#include &lt;avr/power.h&gt;<br><br>void setup() {<br>&nbsp;&nbsp;// Disable ADC<br>&nbsp;&nbsp;ADCSRA &= ~(1 << ADEN);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Disable unused peripherals<br>&nbsp;&nbsp;power_adc_disable();<br>&nbsp;&nbsp;power_spi_disable();<br>&nbsp;&nbsp;power_twi_disable();<br>&nbsp;&nbsp;power_timer1_disable();<br>&nbsp;&nbsp;power_timer2_disable();<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Only keep what you need!<br>}<br><br>void loop() {<br>&nbsp;&nbsp;// Your code here<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Re-enable if needed<br>&nbsp;&nbsp;power_adc_enable();<br>&nbsp;&nbsp;// Use ADC<br>&nbsp;&nbsp;power_adc_disable();<br>}</div><h2>‚è∞ Watchdog Timer for Periodic Wake</h2><div class="code-box">// Wake up periodically with watchdog<br>#include &lt;avr/sleep.h&gt;<br>#include &lt;avr/wdt.h&gt;<br><br>volatile int wdtCounter = 0;<br><br>ISR(WDT_vect) {<br>&nbsp;&nbsp;wdtCounter++;<br>}<br><br>void setup() {<br>&nbsp;&nbsp;pinMode(LED_BUILTIN, OUTPUT);<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Setup watchdog for 8 second interval<br>&nbsp;&nbsp;WDTCSR |= (1<<WDCE) | (1<<WDE);<br>&nbsp;&nbsp;WDTCSR = (1<<WDIE) | (1<<WDP3) | (1<<WDP0);<br>}<br><br>void loop() {<br>&nbsp;&nbsp;if (wdtCounter >= 10) { // 80 seconds<br>&nbsp;&nbsp;&nbsp;&nbsp;// Do something<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, HIGH);<br>&nbsp;&nbsp;&nbsp;&nbsp;delay(100);<br>&nbsp;&nbsp;&nbsp;&nbsp;digitalWrite(LED_BUILTIN, LOW);<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;wdtCounter = 0;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;// Sleep<br>&nbsp;&nbsp;set_sleep_mode(SLEEP_MODE_PWR_DOWN);<br>&nbsp;&nbsp;sleep_enable();<br>&nbsp;&nbsp;sleep_mode();<br>&nbsp;&nbsp;sleep_disable();<br>}</div><h2>üí° Power Optimization Tips</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">üîΩ</span><h4>Lower Clock Speed</h4><p>Run at 8MHz or 1MHz instead of 16MHz</p></div><div class="info-card"><span class="card-icon">üí°</span><h4>Disable LEDs</h4><p>Power LED can waste 10-20mA!</p></div><div class="info-card"><span class="card-icon">üìâ</span><h4>Lower Voltage</h4><p>3.3V uses less power than 5V</p></div><div class="info-card"><span class="card-icon">‚è±Ô∏è</span><h4>Minimize Active Time</h4><p>Do work quickly, sleep longer</p></div></div><div class="info-box"><strong>‚ö†Ô∏è Battery Life Calculation:</strong><ul><li><strong>Battery:</strong> 2000mAh (typical AA)</li><li><strong>Active mode (20mA):</strong> 2000/20 = 100 hours (4 days)</li><li><strong>Sleep mode (0.1mA):</strong> 2000/0.1 = 20,000 hours (833 days!)</li><li><strong>Mixed (1% active):</strong> ~1 year battery life</li></ul></div><div class="fun-fact"><strong>üåü Real-World Example:</strong><p style="margin-top:10px;margin-bottom:0">A weather station that reads sensors every 10 minutes can run for over a year on a single CR2032 coin cell (220mAh) by using deep sleep between readings. Without sleep modes, it would last less than a week!</p></div><div class="quiz-box"><h3>üß† Test Your Knowledge!</h3><p><strong>Question:</strong> What's the most effective way to extend battery life?</p><ul><li>A) Use a bigger battery</li><li>B) Lower the clock speed</li><li>C) Use sleep modes between tasks ‚úì</li><li>D) Turn off the LED</li></ul><p style="margin-top:15px"><em>Answer: C - Sleep modes can reduce power consumption by 100-1000x, far more than any other technique!</em></p></div></div>`,
    questions: [{ q: "What's the most effective way to extend battery life?", options: ["Use a bigger battery", "Lower the clock speed", "Use sleep modes between tasks", "Turn off the LED"], answer: 2 }],
    tools: [{ name: "Power Calculator", type: "interactive", description: "Calculate battery life" }]
};
