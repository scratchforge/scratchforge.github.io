export const session4 = {
    title: "Development Toolchain Setup (GCC, Make, OpenOCD)",
    content: `<style>.firmware-lesson{padding:0;margin:0}.firmware-lesson h2{color:#e74c3c;margin-top:40px;margin-bottom:20px;font-size:1.8em;border-left:5px solid #e74c3c;padding-left:15px}.hero-box{background:linear-gradient(135deg,rgba(231,76,60,0.1) 0%,rgba(192,57,43,0.1) 100%);border-radius:15px;padding:30px;margin:30px 0;text-align:center;border:2px solid rgba(231,76,60,0.2)}.info-box{background:#f8f9fa;border-left:5px solid #e74c3c;padding:20px;margin:25px 0;border-radius:8px}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:25px 0}.info-card{background:linear-gradient(135deg,rgba(231,76,60,0.08) 0%,rgba(192,57,43,0.08) 100%);padding:25px;border-radius:12px;border:2px solid rgba(231,76,60,0.2);transition:all 0.3s ease}.info-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(231,76,60,0.2)}.card-icon{font-size:50px;margin-bottom:15px;display:block}.info-card h4{color:#e74c3c;margin-bottom:10px;font-size:1.2em}.firmware-lesson p{color:#333;margin-bottom:15px;font-size:1.05em;line-height:1.7}.firmware-lesson ul{margin:15px 0 15px 25px}.code-box{background:#1e1e1e;color:#d4d4d4;padding:20px;border-radius:10px;margin:20px 0;font-family:monospace;overflow-x:auto;font-size:14px}.quiz-box{background:#fff9e6;padding:25px;border-radius:15px;margin-top:30px;border:3px solid #ffd700}.fun-fact{background:#e8f5e9;border-left:5px solid #4caf50;padding:20px;margin:25px 0;border-radius:8px}</style><div class="firmware-lesson"><div class="hero-box"><div style="font-size:60px;margin-bottom:15px">ğŸ”§</div><p>Toolchain Setup: Your command-line embedded development environment!</p></div><h2>ğŸ› ï¸ ARM GCC Toolchain</h2><p>The ARM GCC toolchain is a collection of tools for compiling, linking, and debugging ARM-based microcontrollers.</p><div class="code-box"># Download ARM GCC Toolchain<br><br>Windows:<br>  https://developer.arm.com/downloads/-/gnu-rm<br>  Download: gcc-arm-none-eabi-XX.X-win32.exe<br><br>Linux (Ubuntu/Debian):<br>  sudo apt-get install gcc-arm-none-eabi<br><br>macOS:<br>  brew install arm-none-eabi-gcc<br><br># Verify installation<br>arm-none-eabi-gcc --version<br>arm-none-eabi-gdb --version</div><h2>ğŸ“¦ Toolchain Components</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">ğŸ”¨</span><h4>gcc</h4><p>C/C++ compiler for ARM</p></div><div class="info-card"><span class="card-icon">ğŸ”—</span><h4>ld</h4><p>Linker - combines object files</p></div><div class="info-card"><span class="card-icon">ğŸ“„</span><h4>objcopy</h4><p>Convert ELF to bin/hex</p></div><div class="info-card"><span class="card-icon">ğŸ”</span><h4>objdump</h4><p>Disassemble and inspect</p></div><div class="info-card"><span class="card-icon">ğŸ“Š</span><h4>size</h4><p>Show memory usage</p></div><div class="info-card"><span class="card-icon">ğŸ›</span><h4>gdb</h4><p>GNU debugger</p></div></div><div class="code-box"># Toolchain commands<br><br>arm-none-eabi-gcc      # Compiler<br>arm-none-eabi-as       # Assembler<br>arm-none-eabi-ld       # Linker<br>arm-none-eabi-objcopy  # Binary converter<br>arm-none-eabi-objdump  # Disassembler<br>arm-none-eabi-size     # Size utility<br>arm-none-eabi-nm       # Symbol lister<br>arm-none-eabi-gdb      # Debugger<br>arm-none-eabi-ar       # Archiver (for libraries)</div><h2>ğŸ”¨ GNU Make</h2><div class="info-box"><strong>Make:</strong> Build automation tool that reads Makefiles to compile projects</div><div class="code-box"># Install Make<br><br>Windows:<br>  # Option 1: MinGW<br>  choco install mingw<br>  <br>  # Option 2: WSL (Windows Subsystem for Linux)<br>  wsl --install<br><br>Linux:<br>  sudo apt-get install build-essential<br><br>macOS:<br>  # Already included with Xcode Command Line Tools<br>  xcode-select --install<br><br># Verify<br>make --version</div><h2>ğŸ”Œ OpenOCD (On-Chip Debugger)</h2><p>OpenOCD allows you to flash firmware and debug your microcontroller.</p><div class="code-box"># Install OpenOCD<br><br>Windows:<br>  # Download from: https://gnutoolchains.com/arm-eabi/openocd/<br>  # Or use: choco install openocd<br><br>Linux:<br>  sudo apt-get install openocd<br><br>macOS:<br>  brew install openocd<br><br># Verify<br>openocd --version</div><h2>ğŸ”— ST-Link / J-Link Drivers</h2><div class="cards-grid"><div class="info-card"><span class="card-icon">ğŸ”µ</span><h4>ST-Link</h4><p>For STM32 microcontrollers</p></div><div class="info-card"><span class="card-icon">ğŸŸ¢</span><h4>J-Link</h4><p>Professional debugger by SEGGER</p></div></div><div class="code-box"># ST-Link Drivers<br><br>Windows:<br>  Download: STSW-LINK009 from st.com<br><br>Linux:<br>  # Install udev rules<br>  sudo cp 49-stlinkv2.rules /etc/udev/rules.d/<br>  sudo udevadm control --reload-rules<br><br># Test ST-Link connection<br>st-info --probe</div><h2>ğŸ“ Project Structure</h2><div class="code-box">my-firmware/<br>â”œâ”€â”€ src/<br>â”‚   â”œâ”€â”€ main.c<br>â”‚   â”œâ”€â”€ startup.c<br>â”‚   â””â”€â”€ system.c<br>â”œâ”€â”€ inc/<br>â”‚   â”œâ”€â”€ stm32f4xx.h<br>â”‚   â””â”€â”€ system.h<br>â”œâ”€â”€ linker/<br>â”‚   â””â”€â”€ STM32F407.ld<br>â”œâ”€â”€ Makefile<br>â”œâ”€â”€ openocd.cfg<br>â””â”€â”€ build/<br>    â””â”€â”€ (generated files)</div><h2>âš™ï¸ Basic Makefile Example</h2><div class="code-box"># Makefile for STM32F4<br><br>CC = arm-none-eabi-gcc<br>OBJCOPY = arm-none-eabi-objcopy<br>SIZE = arm-none-eabi-size<br><br>CFLAGS = -mcpu=cortex-m4 -mthumb -O2 -Wall<br>LDFLAGS = -T linker/STM32F407.ld<br><br>SRC = src/main.c src/startup.c<br>OBJ = $(SRC:.c=.o)<br><br>all: firmware.bin<br><br>%.o: %.c<br>	$(CC) $(CFLAGS) -c $< -o $@<br><br>firmware.elf: $(OBJ)<br>	$(CC) $(CFLAGS) $(LDFLAGS) $^ -o $@<br><br>firmware.bin: firmware.elf<br>	$(OBJCOPY) -O binary $< $@<br>	$(SIZE) firmware.elf<br><br>clean:<br>	rm -f $(OBJ) firmware.elf firmware.bin<br><br>flash: firmware.bin<br>	openocd -f openocd.cfg -c "program firmware.bin 0x08000000 verify reset exit"</div><h2>ğŸ”§ OpenOCD Configuration</h2><div class="code-box"># openocd.cfg for STM32F4 with ST-Link<br><br>source [find interface/stlink.cfg]<br>source [find target/stm32f4x.cfg]<br><br># Optional: Set SWD mode<br>transport select hla_swd<br><br># Optional: Increase adapter speed<br>adapter speed 4000</div><h2>ğŸš€ Build and Flash Workflow</h2><div class="code-box"># 1. Compile source files<br>make<br><br># 2. Check size<br>arm-none-eabi-size firmware.elf<br><br># 3. Flash to MCU<br>make flash<br><br># 4. Debug (in another terminal)<br>openocd -f openocd.cfg<br><br># 5. Connect GDB (in another terminal)<br>arm-none-eabi-gdb firmware.elf<br>(gdb) target remote localhost:3333<br>(gdb) load<br>(gdb) continue</div><div class="fun-fact"><strong>ğŸŒŸ Open Source Power:</strong><p style="margin-top:10px;margin-bottom:0">All these tools are FREE and open source! The same toolchain used by hobbyists is used by professional companies building million-dollar products. You have access to industrial-grade tools at zero cost!</p></div><div class="quiz-box"><h3>ğŸ§  Test Your Knowledge!</h3><p><strong>Question:</strong> What tool converts ELF files to binary format?</p><ul><li>A) arm-none-eabi-gcc</li><li>B) arm-none-eabi-objcopy âœ“</li><li>C) arm-none-eabi-ld</li><li>D) arm-none-eabi-gdb</li></ul><p style="margin-top:15px"><em>Answer: B - objcopy converts between different binary formats!</em></p></div></div>`,
    questions: [{ q: "What tool converts ELF files to binary format?", options: ["arm-none-eabi-gcc", "arm-none-eabi-objcopy", "arm-none-eabi-ld", "arm-none-eabi-gdb"], answer: 1 }],
    tools: [{ name: "Toolchain Installer", type: "interactive", description: "Guided toolchain setup" }]
};
